目 录
第一章 数制和码制 …………………………………………………1
1.1 概述……………………………………………………………………………………1
1.2 几种常用的数制…………………………………………………………………………2
1.3 不同数制间的转换………………………………………………………………………5
1.4 二进制算数运算…………………………………………………………………………8
1.4.1 二进制算数运算的特点……………………………………………………………8
1.4.2 反码、补码和补码运算 ……………………………………………………………9
1.5 几种常用的编码 ………………………………………………………………………12
本章小结………………………………………………………………………………………17
习题…………………………………………………………………………………………17
第二章 逻辑代数基础 ………………………………………………19
2.1 概述 ………………………………………………………………………………………19
2.2 逻辑代数中的三种基本运算 …………………………………………………………20
2.3 逻辑代数的基本公式和常用公式 ……………………………………………………24
2.3.1 基本公式 ……………………………………………………………………24
2.3.2 若干常用公式 …………………………………………………………………25
2.4 逻辑代数的基本定理 ……………………………………………………………………27
2.4.1 代入定理 ……………………………………………………………………………27
2.4.2 反演定理 …………………………………………………………………………27
2.4.3 对偶定理 ……………………………………………………………………………28
2.5 逻辑函数及其表示方法 ………………………………………………………………29
2.5.1 逻辑函数 ……………………………………………………………………………29
2.5.2 逻辑函数的表示方法 ……………………………………………………………30
2.5.3 逻辑函数的两种标准形式 …………………………………………………………35
2.5.4 逻辑函数形式的变换 ………………………………………………………………38
2.6 逻辑函数的化简方法 ……………………………………………………………………39
2.6.1 公式化简法 ………………………………………………………………………39
2.6.2 卡诺图化简法 ……………………………………………………………………42
*2.6.3 奎恩-麦克拉斯基化简法(Q-M法)………………………………………48
2.7 具有无关项的逻辑函数及其化简 ……………………………………………………51
Ⅱ 目 录
2.7.1 约束项、任意项和逻辑函数式中的无关项………………………………………51
2.7.2 无关项在化简逻辑函数中的应用 ………………………………………………53
*2.8 用Multisim 7进行逻辑函数的化简与变换 …………………………………………54
本章小结……………………………………………………………………………57
习题…………………………………………………………………………58
第三章 门电路 ………………………………………………………66
3.1 概述 ……………………………………………………………………………………66
3.2 半导体二极管门电路 …………………………………………………………………68
3.2.1 半导体二极管的开关特性 ………………………………………………………68
3.2.2 二极管与门 ……………………………………………………………………71
3.2.3 二极管或门 ……………………………………………………………………72
3.3 CMOS门电路 ………………………………………………………………………73
3.3.1 MOS管的开关特性 ……………………………………………………………73
3.3.2 CMOS反相器的电路结构和工作原理 …………………………………………79
3.3.3 CMOS反相器的静态输入特性和输出特性 ……………………………………83
3.3.4 CMOS反相器的动态特性 ………………………………………………………86
3.3.5 其他类型的CMOS门电路 ……………………………………………………91
3.3.6 CMOS电路的正确使用………………………………………………………101
3.3.7 CMOS数字集成电路的各种系列……………………………………………104
*3.4 其他类型的MOS集成电路 …………………………………………………………107
3.4.1 PMOS电路 ……………………………………………………………………107
3.4.2 NMOS电路 ……………………………………………………………………108
3.5 TTL门电路…………………………………………………………………………109
3.5.1 双极型三极管的开关特性………………………………………………………109
3.5.2 TTL反相器的电路结构和工作原理……………………………………………116
3.5.3 TTL反相器的静态输入特性和输出特性………………………………………118
3.5.4 TTL反相器的动态特性…………………………………………………………123
3.5.5 其他类型的TTL门电路 ……………………………………………………128
3.5.6 TTL数字集成电路的各种系列………………………………………………135
*3.6 其他类型的双极型数字集成电路 …………………………………………………139
3.6.1 ECL电路……………………………………………………………………140
3.6.2 I2L电路 ………………………………………………………………………142
*3.7 Bi-CMOS电路 ………………………………………………………………………144
*3.8 TTL电路与CMOS电路的接口………………………………………………………146
本章小结 ……………………………………………………………………………………148
习题 …………………………………………………………………………………………150
—
目 录 Ⅲ
第四章 组合逻辑电路……………………………………………160
4.1 概述…………………………………………………………………………………160
4.2 组合逻辑电路的分析方法和设计方法………………………………………………161
4.2.1 组合逻辑电路的分析方法………………………………………………………161
4.2.2 组合逻辑电路的设计方法………………………………………………………163
4.3 若干常用的组合逻辑电路……………………………………………………………167
4.3.1 编码器…………………………………………………………………………168
4.3.2 译码器…………………………………………………………………………174
4.3.3 数据选择器……………………………………………………………………188
4.3.4 加法器………………………………………………………………………192
4.3.5 数值比较器……………………………………………………………………197
4.4 组合逻辑电路中的竞争-冒险现象…………………………………………………200
4.4.1 竞争-冒险现象及其成因………………………………………………………200
*4.4.2 检查竞争-冒险现象的方法……………………………………………………202
4.4.3 消除竞争-冒险现象的方法…………………………………………………204
* 4.5 用Multisim 7分析组合逻辑电路…………………………………………………206
本章小结 …………………………………………………………………………………208
习题 ……………………………………………………………………………………209
第五章 触发器……………………………………………………215
5.1 概述…………………………………………………………………………………215
5.2 SR锁存器 ……………………………………………………………………………216
5.3 电平触发的触发器…………………………………………………………………219
5.4 脉冲触发的触发器……………………………………………………………………224
5.5 边沿触发的触发器…………………………………………………………………230
5.6 触发器的逻辑功能及其描述方法……………………………………………………236
5.6.1 触发器按逻辑功能的分类………………………………………………………236
5.6.2 触发器的电路结构和逻辑功能、触发方式的关系 ……………………………240
*5.7 触发器的动态特性 …………………………………………………………………241
5.7.1 SR 锁存器的动态特性 ………………………………………………………241
5.7.2 电平触发SR 触发器的动态特性 ……………………………………………243
5.7.3 主从触发器的动态特性………………………………………………………244
5.7.4 维持阻塞触发器的动态特性………………………………………………………245
本章小结 ……………………………………………………………………………………247
习题………………………………………………………………………………………248
第六章 时序逻辑电路……………………………………………259
IV 目 录
6.1 概述……………………………………………………………………………………259
6.2 时序逻辑电路的分析方法……………………………………………………………262
6.2.1 同步时序逻辑电路的分析方法…………………………………………………262
6.2.2 时序逻辑电路的状态转换表、状态转换图、状态机流程图和时序图…………263
*6.2.3 异步时序逻辑电路的分析方法…………………………………………………270
6.3 若干常用的时序逻辑电路……………………………………………………………272
6.3.1 寄存器和移位寄存器……………………………………………………………272
6.3.2 计数器……………………………………………………………………………278
*6.3.3 顺序脉冲发生器………………………………………………………………309
*6.3.4 序列信号发生器…………………………………………………………………312
6.4 时序逻辑电路的设计方法……………………………………………………………314
6.4.1 同步时序逻辑电路的设计方法…………………………………………………314
*6.4.2 时序逻辑电路的自启动设计……………………………………………………326
*6.4.3 异步时序逻辑电路的设计方法…………………………………………………331
*6.4.4 复杂时序逻辑电路的设计………………………………………………………336
6.5 时序逻辑电路中的竞争-冒险现象…………………………………………………338
*6.6 用Multisim 7分析时序逻辑电路…………………………………………………342
本章小结 ………………………………………………………………………………………345
习题 …………………………………………………………………………………………346
第七章 半导体存储器………………………………………………355
7.1 概述……………………………………………………………355
7.2 只读存储器(ROM)………………………………………………………………356
7.2.1 掩模只读存储器……………………………………………………………………356
7.2.2 可编程只读存储器(PROM)…………………………………………………359
7.2.3 可擦除的可编程只读存储器(EPROM)………………………………………360
7.3 随机存储器(RAM)…………………………………………………………………366
7.3.1 静态随机存储器(SRAM)…………………………………………………………366
*7.3.2 动态随机存储器(DRAM)………………………………………………………371
7.4 存储器容量的扩展……………………………………………………………………374
7.4.1 位扩展方式………………………………………………………………………374
7.4.2 字扩展方式……………………………………………………………………375
7.5 用存储器实现组合逻辑函数…………………………………………………………377
本章小结 ……………………………………………………………………………………382
习题………………………………………………………………………………………383
目 录 V
第八章 可编程逻辑器件 …………………………………………386
8.1 概述…………………………………………………………………………………386
*8.2 现场可编程逻辑阵列(FPLA)………………………………………………………388
8.3 可编程阵列逻辑(PAL)……………………………………………………………392
8.3.1 PAL的基本电路结构……………………………………………………………392
8.3.2 PAL的几种输出电路结构和反馈形式…………………………………………393
8.3.3 PAL的应用举例………………………………………………………………396
8.4 通用阵列逻辑(GAL)………………………………………………………………402
8.4.1 GAL的电路结构…………………………………………………………………402
8.4.2 输出逻辑宏单元(OLMC)……………………………………………………405
8.4.3 GAL的输入特性和输出特性……………………………………………………408
8.5 可擦除的可编程逻辑器件(EPLD)…………………………………………………412
8.5.1 EPLD的基本结构和特点 ………………………………………………………412
*8.5.2 EPLD的与-或逻辑阵列……………………………………………………412
*8.5.3 EPLD的输出逻辑宏单元(OLMC)……………………………………………414
8.6 复杂的可编程逻辑器件(CPLD)……………………………………………………416
8.6.1 CPLD的总体结构 ………………………………………………………………416
*8.6.2 CPLD的通用逻辑模块(GLB)…………………………………………………418
*8.6.3 CPLD的输入/输出单元(IOC)…………………………………………………420
8.7 现场可编程门阵列(FPGA)………………………………………………………422
8.7.1 FPGA的基本结构 ……………………………………………………………422
*8.7.2 FPGA的IOB和CLB ………………………………………………………424
*8.7.3 FPGA的互连资源 ……………………………………………………………428
*8.7.4 编程数据的装载…………………………………………………………………430
8.8 在系统可编程通用数字开关(ispGDS) ……………………………………………434
8.9 PLD的编程………………………………………………………………………436
本章小结 …………………………………………………………………………………439
习题 …………………………………………………………………………………………440
*第九章 硬件描述语言简介……………………………………444
9.1 概述……………………………………………………………………………444
9.2 Verilog HDL简介 …………………………………………………………………445
9.2.1 基本程序结构…………………………………………………………………445
9.2.2 词法构成………………………………………………………………………446
9.2.3 模块的两种描述方式………………………………………………………450
9.3 用Verilog HDL描述逻辑电路的实例 ……………………………………………451
VI 目 录
本章小结 …………………………………………………………………………………454
习题 ……………………………………………………………………………………………455
第十章 脉冲波形的产生和整形 …………………………………456
10.1 概述 ……………………………………………………………………………456
10.2 施密特触发器 ………………………………………………………………………457
10.2.1 用门电路组成的施密特触发器 ………………………………………………458
*10.2.2 集成施密特触发器 ……………………………………………………………460
10.2.3 施密特触发器的应用 ………………………………………………………464
10.3 单稳态触发器 ………………………………………………………………………466
10.3.1 用门电路组成的单稳态触发器 ………………………………………………467
10.3.2 集成单稳态触发器 ……………………………………………………………471
10.4 多谐振荡器 …………………………………………………………………………477
10.4.1 对称式多谐振荡器 ……………………………………………………………477
10.4.2 非对称式多谐振荡器 …………………………………………………………480
10.4.3 环形振荡器 ……………………………………………………………………483
10.4.4 用施密特触发器构成的多谐振荡器 …………………………………………487
10.4.5 石英晶体多谐振荡器 …………………………………………………………488
10.5 555定时器及其应用 ………………………………………………………………489
10.5.1 555定时器的电路结构与功能 ………………………………………………489
10.5.2 用555定时器接成的施密特触发器 …………………………………………491
10.5.3 用555定时器接成的单稳态触发器 …………………………………………493
10.5.4 用555定时器接成的多谐振荡器 …………………………………………494
*10.6 用Multisim 7分析脉冲电路 ………………………………………………………497
本章小结…………………………………………………………………………………499
习题 ………………………………………………………………………………………500
第十一章 数-模和模一数转换 …………………………………506
11.1 概述 ………………………………………………………………………………506
11.2 D/A转换器 …………………………………………………………………………507
11.2.1 权电阻网络D/A转换器………………………………………………………507
11.2.2 倒T形电阻网络D/A转换器 …………………………………………………510
11.2.3 权电流型D/A转换器………………………………………………………512
*11.2.4 开关树形 D/A转换器 ……………………………………………………………515
*11.2.5 权电容网络D/A转换器……………………………………………………516
11.2.6 具有双极性输出的D/A转换器 ……………………………………………518
11.2.7 D/A转换器的转换精度与转换速度 …………………………………………520
目 录 VI
11.3 A/D转换器 …………………………………………………………………………524
11.3.1 A/D转换的基本原理 …………………………………………………………524
11.3.2 取样-保持电路 ……………………………………………………………527
11.3.3 并联比较型A/D转换器 …………………………………………………………529
11.3.4 反馈比较型A/D转换器 ………………………………………………………532
11.3.5 双积分型A/D转换器 ……………………………………………………………535
11.3.6 V-F变换型A/D转换器 ……………………………………………………539
11.3.7 A/D转换器的转换精度与转换速度 …………………………………………545
本章小结 ……………………………………………………………………………………547
习题 ………………………………………………………………………………………548
附 录 ………………………………………………………………555
附录一《电气图用图形符号——二进制逻辑单元》(GB4728.12—85)简介 ………555
附录二 基本逻辑单元图形符号对照表 …………………………………………………566
部分习题答案 …………………………………………………………568
参考文献………………………………………………………………584
名词索引…………………………………………………………………586
第一章
数制和码制
内容提要
本章首先介绍有关数制和码制的一些基本概念和术语，然后给出数字电路中常用的
数制和编码。此外，还将具体讲述不同数制之间的转换方法和二进制数算数运算的原理
和方法。
1.1 概述
我们知道，数字电路需要处理的是各种数字信号，那么这种数字信号有什么
特点呢?
留心观察一下自然界中形形色色的物理量时不难发现，就其变化规律的特
点而言，它们不外乎两大类。其中一类物理量的变化在时间上和数量上都是离
散的，也就是说，它们的变化在时间上是不连续的，总是发生在一系列离散的瞬
间。而且，它们数值的大小和每次的增减变化都是某一个最小数量单位的整数
倍，而小于这个最小数量单位的数值没有任何物理意义。我们把这一类物理量
称为数字量，把表示数字量的信号称为数字信号，并把工作在数字信号下的电子
电路称为数字电路。例如，我们统计通过某一个桥梁的汽车数量，得到的就是一
个数字量，最小数量单位的“1”代表“一辆”汽车，小于1的数值已经没有任何物
理意义。
另外一类物理量的变化在时间上或在数值上则是连续的。我们把这一类物
理量称为模拟量，把表示模拟量的信号称为模拟信号，并把工作在模拟信号下的
电子电路称为模拟电路。例如，热电偶工作时输出的电压或电流信号就是一种
模拟信号，因为被测的温度不可能发生突跳，所以测得的电压或电流无论在时间
2 第一章 数制和码制
上还是在数量上都是连续的。而且，这个信号在连续变化过程中的任何一个取
值都有具体的物理意义，即表示一个相应的温度。
随着计算机科学与技术突飞猛进地发展，用数字电路进行信号处理的优势
也更加突出。为了充分发挥和利用数字电路在信号处理上的强大功能，我们可
以先将模拟信号按比例转换成数字信号，然后送到数字电路(可以是专用的数
字信号处理电路，也可以是通用的计算机)进行处理，最后再将处理结果根据需
要转换为相应的模拟信号输出。自20世纪70年代开始，这种用数字电路处理
模拟信号的所谓“数字化”浪潮已经席卷了电子技术几乎所有的应用领域。
数字信号通常都是用数码形式给出的。不同的数码可以用来表示数量的不
同大小。用数码表示数量大小时，仅用一位数码往往不够用，因此经常需要用进
位计数制的方法组成多位数码使用。我们把多位数码中每一位的构成方法以及
从低位到高位的进位规则称为数制。在数字电路中经常使用的计数进制除了我
们最熟悉的十进制以外，更多的是使用二进制和十六进制。有时也用到八进制。
当两个数码分别表示两个数量大小时，它们可以进行数量间的加、减、乘、除
等运算。这种运算称为算数运算。由于目前数字电路中的算数运算最终都是以
二进制运算进行的，所以在这一章里我们还将比较详细地讨论在数字电路中是
采取什么方式完成二进制算数运算的。
不同的数码不仅可以用来表示数量的不同大小，而且可以用来表示不同的
事物或事物的不同状态。在用于表示不同事物的情况下，这些数码已经不再具
有表示数量大小的含义了，它们只是不同事物的代号而已。这些数码称为代码。
例如在举行长跑比赛时，为便于识别运动员，通常要给每一位运动员编一个号
码。显然，这些号码仅仅表示不同的运动员而已，没有数量大小的含义。
为了便于记忆和查找，在编制代码时总要遵循一定的规则，这些规则就称为
码制。每个人都可以根据自己的需要选定编码规则，编制出一组代码。考虑到
信息交换的需要，还必须制定一些大家共同使用的通用代码。例如目前国际上
通用的美国信息交换标准代码(ASCII码，见本章1.5节)就属于这一种。
1.2 几种常用的数制
一、十进制
十进制是日常生活和工作中最常使用的进位计数制。在十进制数中，每一
位有0~9十个数码，所以计数的基数是10。超过9的数必须用多位数表示，其
中低位和相邻高位之间的关系是“逢十进一”,故称为十进制。例如
1.2 几种常用的数制 3
143.75=1×102+4×10'+3×10°+7×10-1+5×10-2
所以任意一个十进制数D均可展开为
D=∑k:×10 (1.2.1)
式中k;是第i位的系数，它可以是0~9这十个数码中的任何一个。若整数部分
的位数是n,小数部分的位数为m,则i包含从n-1到0的所有正整数和从-1
到-m的所有负整数。
若以N取代式(1.2.1)中的10,即可得到任意进制(N进制)数按十进制展
开式的普遍形式
D=∑k;N (1.2.2)
式中i的取值与式(1.2.1)的规定相同。N称为计数的基数，k;为第i位的系
数，N'称为第i位的权。
二、二进制
目前在数字电路中应用最广泛的是二进制。在二进制数中，每一位仅有0
和1两个可能的数码，所以计数基数为2。低位和相邻高位间的进位关系是“逢
二进一",故称为二进制。
根据式(1.2.2),任何一个二进制数均可展开为
D=∑k:2' (1.2.3)
并计算出它所表示的十进制数的大小。例如
(101.11)?=1×22+0×2'+1×2°+1×2-1+1×2-2
=(5.75)10
上式中分别使用下脚注2和10表示括号里的数是二进制数和十进制数。
有时也用B(Binary)和D(Decimal)代替2和10这两个脚注。
三、八进制
在某些场合有时也使用八进制。八进制数的每一位有0~7八个不同的数
码，计数的基数为8。低位和相邻的高位之间的进位关系是“逢八进一”。任意
一个八进制数可以按十进制数展开为
D=∑k:8' (1.2.4)
并利用上式计算出与之等效的十进制数值。例如
(12.4)8=1×81+2×8°+4×8-3
=(10.5)10
有时也用0(Octal)代替下脚注8,表示八进制数。
四、十六进制
十六进制数的每一位有十六个不同的数码，分别用0~9、A(10)、B(11)、
C(12)、D(13)、E(14)、F(15)表示。因此，任意一个十六进制数均可展开为
4 第一章 数制和码制
D=∑k;16' (1.2.5)
并由此式计算出它所表示的十进制数值。例如
(2A.7F)?6=2×161+10×16°+7×161+15×16-2
=(42.4960937)10
式中的下脚注16表示括号里的数是十六进制数，有时也用H(Hexadecimal)代
替这个脚注。
由于目前在微型计算机中普遍采用8位、16位和32位二进制并行运算，而
8位、16位和32位的二进制数可以用2位、4位和8位的十六进制数表示，因而
用十六进制符号书写程序十分简便。
表1.2.1是十进制数0~15与等值二进制、八进制、十六进制数的对照表。
表1.2.1 不同进制数的对照表
十进制(Decimal) 二进制(Binary) 八进制(Octal)
0000
0001
0010
0011
0100
0101
0110
0111
1000
1001
1010
1011
1100
1101
1110
1111
00
01
02
03
04
05
06
07
10
11
12
13
14
15
16
17
十六进制(Hexadecimal)
00 0
01 1
02 2
03 3
04 4
05 5
06 6
07 7
08 8
09 9
10 A
11 B
12 C
13 D
14 E
15 F
复习思考题
R1.2.1 写出4位二进制数、4位八进制数和4位十六进制数的最大数。
R1.2.2 与4位二进制数、4位八进制数、4位十六进制数的最大值等值的十进制数各为
多少?
1.3 不同数制间的转换 5
1.3 不同数制间的转换
一、二-十转换
将二进制数转换为等值的十进制数称为二-十转换。转换时只要将二进制
数按式(1.2.3)展开，然后将所有各项的数值按十进制数相加，就可以得到等值
的十进制数了。例如
(1011.01)?=1×23+0×22+1×21+1×2?+0×2?1+1×2-2
=(11.25)10
二、十-二转换
所谓十-二转换，就是将十进制数转换为等值的二进制数。
首先讨论整数的转换。
假定十进制整数为(S)?0,等值的二进制数为(knkn-1…ko)?,则依式
(1.2.3)可知
(S)?0=k,2”+kn_12"-1+…+k?21+k?2°
=2(k2"-1+kn-12"-2+…+k?)+k。 (1.3.1)
上式表明，若将(S)?0除以2,则得到的商为k2"-1+kn-12"-2+…+k,而余
数即ko。
同理，可将式(1.3.1)除以2得到的商写成
k,2"-1+kn-12"-2+…+k?=2(k2"-2+kn_12"-3+…+k?)+k? (1.3.2)
由式(1.3.2)不难看出，若将(S),0除以2所得的商再次除以2,则所得余数即k。
依此类推，反复将每次得到的商再除以2,就可求得二进制数的每一位了。
例如，将(173)10化为二进制数可如下进行
2|173 ……余数=1=k。
2|86 …………余数=0=k?
2|43 …余数=1=k?
221 …………余数=1=k?
2 10 余数=0=k?
2 5 ……余数=1=k?
2 2…余数=0=k?
2 1 ………………余数=1=k?
0
故(173)10=(10101101)2。
6 第一章 数制和码制
其次讨论小数的转换。
若(S)?0是一个十进制的小数，对应的二进制小数为(0.k_1k_2…k_m)?,则
据式(1.2.3)可知
(S)?o=k_12-1+k_22?2+…+k_m2"
将上式两边同乘以2得到
2(S)?0=k_1+(k_221+k_32-2+…+k_m2-"+1) (1.3.3)
式(1.3.3)说明，将小数(S),0乘以2所得乘积的整数部分即k_1。
同理，将乘积的小数部分再乘以2又可得到
2(k_22-1+k_32?2+…+k_m2-m+1)=k_2+(k_32?1+…+k_m2-m+2)(1.3.4)
亦即乘积的整数部分就是k_20
依此类推，将每次乘2后所得乘积的小数部分再乘以2,便可求出二进制小
数的每一位了。
例如，将(0.8125)10化为二进制小数时可如下进行
0.8125
× 2
1.6250整数部分=1=k-1
0.6250
×2
1.2500……-整数部分=1=k-2
0.2500
× 2
0.5000 ……………整数部分=0=k-3
0.5000
1.00 整数部分=1=h ×
故(0.8125)10=(0.1101)2。
三、二-十六转换
将二进制数转换为等值的十六进制数称为二-十六转换。
由于4位二进制数恰好有16个状态，而把这4位二进制数看作一个整体
时，它的进位输出又正好是逢十六进一，所以只要从低位到高位将整数部分每4
位二进制数分为一组并代之以等值的十六进制数，同时从高位到低位将小数部
1.3 不同数制间的转换 7
分的每4位数分为一组并代之以等值的十六进制数，即可得到对应的十六进
制数。
例如，将(01011110.10110010)?化为十六进制数时可得
(0101 1110.1011 0010), )
四、十六-二转换
十六-二转换是指将十六进制数转换为等值的二进制数。转换时只需将十
六进制数的每一位用等值的4位二进制数代替就行了。
例如，将(8FA.C6)16化为二进制数时得到
C6)16 (8 F
=(1000 1111 1010. 1100 0110)?
五、八进制数与二进制数的转换
将二进制数转换为八进制数的二-八转换和将八进制数转换为二进制数的
八-二转换，在方法上与二-十六转换和十六-二转换的方法基本相同。
在将二进制数转换为八进制数时，只要将二进制数的整数部分从低位到高
位每3位分为一组并代之以等值的八进制数，同时将小数部分从高位到低位每
3位分为一组并代之以等值的八进制数就可以了。
例如，若将(011110.010111)?化为八进制数，则得到
反之，若将八进制数转换为二进制数，则只要将八进制数的每一位代之以等
值的二进制数即可。例如，将(52.43)。转换为二进制数时，得到
?13
10VU1)2
六、十六进制数与十进制数的转换
在将十六进制数转换为十进制数时，可根据式(1.2.5)将各位按权展开后
相加求得。在将十进制数转换为十六进制数时，可以先转换为二进制数，然后再
将得到的二进制数转换为等值的十六进制数。这两种转换方法上面已经讲
过了。
—
8 第一章 数制和码制
复习思考题
R1.3.1 在十-二转换中，整数部分的转换方法和小数部分的转换方法有何不同?
R1.3.2 怎样将八进制数转换为十六进制数和将十六进制数转换为八进制数?
R1.3.3 怎样才能将十进制数转换为八进制数?
1.4 二进制算数运算
1.4.1 二进制算数运算的特点
当两个二进制数码表示两个数量大小时，它们之间可以进行数值运算，这种
运算称为算术运算。二进制算术运算和十进制算术运算的规则基本相同，唯一
的区别在于二进制数是“逢二进一”而不是十进制数的“逢十进一”。
例如，两个二进制数1001和0101的算术运算有
加法运算 减法运算
1001 1001
+0101 -0101
1110 0100
乘法运算 除法运算
1001 1.11…
× 0101 0101)10-01
1001 0101
0000 1000
1001 0101
0000
0101101
0110
0101
0010
从上面的例子中可以看到二进制算数运算的两个特点，即二进制数的乘法
运算可以通过若干次的“被乘数(或零)左移1位”和“被乘数(或零)与部分积
相加”这两种操作完成；而二进制数的除法运算能通过若干次的“除数右移1
位”和“从被除数或余数中减去除数”这两种操作完成。
1.4 二进制算数运算 9
如果我们再能设法将减法操作转化为某种形式的加法操作，那么加、减、乘、
除运算就全部可以用“移位”和“相加”两种操作实现了。利用上述特点能使运
算电路的结构大为简化。这也是数字电路中普遍采用二进制算数运算的重要原
因之一。
1.4.2 反码、补码和补码运算
我们已经知道，在数字电路中是用逻辑电路输出的高、低电平表示二进制数
的1和0的。那么数的正、负又如何表示呢?通常采用的方法是在二进制数的
前面增加一位符号位。符号位为0表示这个数是正数，符号位为1表示这个数
是负数。这种形式的数称为原码。
在做减法运算时，如果两个数是用原码表示的，则首先需要比较两数绝对值
的大小，然后以绝对值大的一个作为被减数、绝对值小的一个作为减数，求出差
值，并以绝对值大的一个数的符号作为差值的符号。不难看出，这个操作过程比
较麻烦，而且需要使用数值比较电路和减法运算电路。如果能用两数的补码相
加代替上述的减法运算，那么计算过程中就无需使用数值比较电路和减法运算
电路了，从而使运算器的电路结构大为简化。
为了说明补码运算的原理，我们先来讨论一个生活中常见的事例。例如，你
在5点钟的时候发现自己的手表停在10点上了，因而必须把表针拨回到5点。
由图1.4.1可以看出，这时有两种拨法：第一种拨法是往回拨5格，10-5=5,拨
回到了5点；另一种拨法是往前拨7格，10+7=17。由于表盘的最大数只有12,
超过12以后的“进位”将自动消失，于是就只剩下减去12 以后的余数了，即
17-12=5,也将表针拨回到了5点。这个例子说明，10-5的减法运算可以用
10+7的加法运算代替。因为5和7相加正好等于产生进位的模数12,所以我
们称7为-5对模12的补数，也称为补码(Complement)。
11 12
(0) 1
10, 1 0x, 2 10-5=5
V
9
S
3 10+7-12=5
舍弃进位 8 4y
7
6
5
图1.4.1 说明补码运算原理的例子
1
10 第一章 数制和码制
从这个例子中可以得出一个结论，就是在舍弃进位的条件下，减去某个数可
以用加上它的补码来代替。这个结论同样适用于二进制数的运算。
图1.4.2给出了4位二进制数补码运算的一个例子。由图可见，1011-
0111=0100的减法运算，在舍弃进位的条件下，可以用1011+1001=0100的加
法运算代替。因为4位二进制数的进位基数是16(10000),所以1001(9)恰好
是0111(7)对模16的补码。
(15)1111
(0)
0000 0001(1)
(14)1110 0010(2) 1011-0111=0100
6
A
(11-7=4)
(13)1101人 0011(3)
(12)1100 0100(4)
(11+9-16=4)
(11)1011 0101(5)(1011+1001)=国0100
11-7=4
(10)1010 0110(6) 舍弃进位
(9)1001 1000(8) 0111(7)
图1.4.2 4位二进制数补码运算的例子
基于上述原理，对于有效数字(不包括符号位)为 n位的二进制数N,它的
补码(N)comp表示方法为
w-{2-～(当N为页数) (1.4.1)
即正数(当符号位为0时)的补码与原码相同，负数(当符号位为1时)的补码等
于2"-N。符号位保持不变。
在一些国外的教材中，也将式(1.4.1)定义的补码称为“2的补码"(2's
Complement)。
为了避免在求补码的过程中做减法运算，通常是先求出N的反码(N)INV,
然后在负数的反码上加1而得到补码。二进制N的反码(N)Iv是这样定义的
W)m-{2-1)-N(当~为负数) (1.4.2)
由上式可知，当N为负数时，N+(N)INv=2"-1,而2"-1是n位全为1的
二进制数，所以只要将N中每一位的1改为0、0改为 1,就得到了(N)INv。以
后我们将会看到，将二进制数的每一位求反，在电路上是很容易实现的。国外的
有些教材中又将式(1.4.2)定义的反码称为“1的补码”(1's Complement)。
1.4 二进制算数运算 11
由式(1.4.2)又可得到，当N为负数时，(N)INy +1=2"-N,而由式(1.4.1)
又知，当N为负数时，(N)coMP=2"-N,由此得到
(N)cOMP=(N)INv+1 (1.4.3)
即二进制负数的补码等于它的反码加1。
【例1.4.1】 写出带符号位二进制数00011010(+26)、10011010(-26)、
00101101(+45)和10101101(-45)的反码和补码。
解：根据式(1.4.2)和式(1.4.3)得到
原 码 反 码 补 码
00011010 00011010 00011010
10011010 11100101 11100110
00101101 00101101 00101101
10101101 11010010 11010011
表1.4.1是带符号位的3位二进制数原码、反码和补码的对照表。其中规
定用1000作为-8的补码，而不用来表示-0。
下面再来讨论两个用补码表示的二进制数相加时，和的符号位如何得到。
为此，我们在例1.4.2中列举出了两数相加时的四种情况。
表1.4.1 原码、反码、补码对照表
十进制数 二进 制 数
原码(带符号数) 反码
0111
0110
0101
0100
0011
0010
0001
0000
1001
1010
1011
1100
1101
1110
1111
1000
0111
0110
0101
0100
0011
0010
0001
0000
1110
1101
1100
1011
1010
1001
1000
1111
补码
+7 0111
+6 0110
+5 0101
+4 0100
+3 0011
+2 0010
+1 0001
+0 0000
-1 1111
-2 1110
-3 1101
-4 1100
-5 1011
-6 1010
-7 1001
-8 1000
12 第一章 数制和码制
【例1.4.2】 用二进制补码运算求出13+10、13-10、-13+10和-13-10。
解：由于13+10和-13-10的绝对值为23,所以必须用有效数字为5位
的二进制数才能表示，再加上一位符号位，就得到6位的二进制补码。
由式(1.4.1)和式(1.4.3)可知，+13的二进制补码应为001101(最高位为
符号位),-13的二进制补码为110011,+10的二进制补码为001010,-10的
二进制补码为110110。计算结果分别为
+13 001101 +13 0 01101
+23o11 +3 110110
(1)0 00011
-13 1 10011 -13
+-130101010 =23
110011 01
从上面的例子中可以看出，若将两个加数的符号位和来自最高有效数字位
的进位相加，得到的结果(舍弃产生的进位)就是和的符号。这个道理仍然可以
用图1.4.2所示的图形加以说明。
需要强调指出，在两个同符号数相加时，它们的绝对值之和不可超过有效数
字位所能表示的最大值，否则会得出错误的计算结果。
复习思考题
R1.4.1 二进制正、负数的原码、反码和补码三者之间是什么关系?
R1.4.2 为什么两个二进制数的补码相加时，和的符号位等于两数的符号位与来自最
高有效数字位的进位相加的结果(舍弃产生的进位)?
R1.4.3 如何求二进制数补码对应的原码?
1.5 几种常用的编码
一、十进制代码
为了用二进制代码表示十进制数的0~9这十个状态，二进制代码至少应当
有4位。4位二进制代码一共有十六个(0000~1111),取其中哪十个以及如何
1.5 几种常用的编码 13
与0~9相对应，有许多种方案。表1.5.1中列出了常见的几种十进制代码，它
们的编码规则各不相同。
表1.5.1 几种常见的十进制代码
编码
十进 种类 8421码
(BCD代码) 余3码 2421码 5211码
0000
0001
0010
0011
0100
0101
0110
0111
1000
1001
0011
0100
0101
0110
0111
1000
1001
1010
1011
1100
0000
0001
0010
0011
0100
1011
1100
1101
1110
1111
0000
0001
0100
0101
0111
1000
1001
1100
1101
1111
8421 2421 5211
余3循环码
制数
0 0010
1 0110
2 0111
3 0101
4 0100
5 1100
6 1101
7 1111
8 1110
9 1010
权
8421码又称BCD(Binary Coded Decimal)码，是十进制代码中最常用的一
种。在这种编码方式中，每一位二值代码的1都代表一个固定数值，将每一位的
1代表的十进制数加起来，得到的结果就是它所代表的十进制数码。由于代码
中从左到右每一位的1分别表示8、4、2、1,所以将这种代码称为8421码。每一
位的1代表的十进制数称为这一位的权。8421码中每一位的权是固定不变的，
它属于恒权代码。
余3码的编码规则与8421码不同，如果把每一个余3码看作4位二进制
数，则它的数值要比它所表示的十进制数码多3,故而将这种代码称为余3码。
如果将两个余3码相加，所得的和将比十进制数和所对应的二进制数多6。
因此，在用余3码做十进制加法运算时，若两数之和为10,正好等于二进制数的
16,于是便从高位自动产生进位信号。
此外，从表1.5.1中还可以看出，0和9、1和8、2和7、3和6、4和5的余3
码互为反码，这对于求取对10的补码是很方便的。
余3码不是恒权代码。如果试图将每个代码视为二进制数，并使它等效的
十进制数与所表示的代码相等，那么代码中每一位的1所代表的十进制数在各
个代码中不能是固定的。
2421码是一种恒权代码，它的0和9、1和8、2和7、3和6、4和5也互为反
码，这个特点和余3码相仿。
5211码是另一种恒权代码。待学了第六章中计数器的分频作用后可以发
14 第一章 数制和码制
现，如果按8421码接成十进制计数器，则连续输入计数脉冲时，4个触发器输出
脉冲对于计数脉冲的分频比从低位到高位依次为5:2:1:1。可见，5211码每一
位的权正好与8421码十进制计数器4个触发器输出脉冲的分频比相对应。这
种对应关系在构成某些数字系统时很有用。
余3循环码是一种变权码，每一位的1在不同代码中并不代表固定的数值。
它的主要特点是相邻的两个代码之间仅有一位的状态不同。
二、格雷码
格雷码(Gray Code)又称循环码。从表1.5.2的4位格雷码编码表中可以
看出格雷码的构成方法，这就是每一位的状态变化都按一定的顺序循环。如果
从0000开始，最右边一位的状态按0110顺序循环变化，右边第二位的状态按
00111100顺序循环变化，右边第三位按0000111111110000顺序循环变化。可
见，自右向左，每一位状态循环中连续的0、1数目增加一倍。由于4位格雷码只
有16个，所以最左边一位的状态只有半个循环，即0000000011111111。按照上
述原则，我们就很容易得到更多位数的格雷码。
与普通的二进制代码相比，格雷码的最大优点就在于当它按照表1.5.2的
编码顺序依次变化时，相邻两个代码之间只有一位发生变化。这样在代码转换
的过程中就不会产生过渡“噪声”。而在普通二进制代码的转换过程中，则有时
会产生过渡噪声。例如，第四行的二进制代码0011转换为第五行的0100过程
表1.5.2 4位格雷码与二进制代码的比较
编码顺序 二进制代码
0000
0001
0010
0011
0100
0101
0110
0111
1000
1001
1010
1011
1100
1101
1110
1111
格雷码
0 0000
1 0001
2 0011
3 0010
4 0110
5 0111
6 0101
7 0100
8 1100
9 1101
10 1111
11 1110
12 1010
13 1011
14 1001
15 1000
1.5 几种常用的编码 15
中，如果最右边一位的变化比其他两位的变化慢，就会在一个极短的瞬间出现
0101状态，这个状态将成为转换过程中出现的噪声。而在第四行的格雷码0010
向第五行的0110转换过程中则不会出现过渡噪声。这种过渡噪声在有些情况
下甚至会影响电路的正常工作，这时就必须采取措施加以避免。在第4.4节中
我们还将进一步讨论这个问题。
十进制代码中的余3循环码就是取4位格雷码中的十个代码组成的，它仍
然具有格雷码的优点，即两个相邻代码之间仅有一位不同。
三、美国信息交换标准代码(ASCII)
美国信息交换标准代码(American Standard Code for Information Interchange,
简称ASCH码)是由美国国家标准化协会(ANSI)制定的一种信息代码，广泛地
用于计算机和通信领域中。ASCII码已经由国际标准化组织(ISO)认定为国际
通用的标准代码。
ASCII码是一组7位二进制代码(b?b?b?b?b?b?b?),共128个，其中包括表示
0~9的十个代码，表示大、小写英文字母的52个代码，32个表示各种符号的代
码以及34个控制码。表1.5.3是ASCII码的编码表，每个控制码在计算机操作
中的含义列于表1.5.4中。
表1.5.3 美国信息交换标准代码(ASCII码)
b?b?bs b?b?b?b?
000 001 010 011 100 101 110 111
0000 NUL
SOH
STX
ETX
EOT
ENQ
ACK
BEL
BS
HT
LF
VT
FF
CR
SO
SI
DLE
DC1
DC2
DC3
DC4
NAK
SYN
ETB
CAN
EM
SUB
ESC
FS
GS
RS
US
SP
!
“
#
$
%
&
,
(
)
*
+
,
-
.
/
0
1
2
3
4
5
6
7
8
9
:
;
=
>
?
@
A
B
C
D
E
F
G
H
I
J
K
L
M
N
0
P
Q
R
S
T
U
V
W
X
Y
Z
[
]
A
一
<
、 p
0001 a q
0010 b r
0011 c s
0100 d t
0101 e u
0110 f v
0111 g W
1000 h X
1001 i y
1010 j z
1011
1100
k
1
—
1101 m 一1
1110 n
~
1111 0 DEL
—
16 第一章 数制和码制
表1.5.4 ASCII码中控制码的含义
代码 含 义
Null
Start of heading
Start of text
End of text
End of transmission
Enquiry
Acknowledge
Bell
Backspace
Horizontal tab
Line feed
Vertical tab
Form feed
Carriage return
Shift out
Shift in
Date Link escape
Device control 1
End of transmission block
Cancel
End of medium
Substitute
Escape
Eile separator
Group separator
Record separator
Unit separator
Space
Delete
Device control 2
Device control 3
Device control 4
Negative acknowledge
Synchronous idle
NUL
SOH
STX
ETX
EOT
ENQ
ACK
BEL
BS
HT
LF
VT
FF
CR
SO
SI
DLE
DC1
DC2
DC3
DC4
NAK
SYN
ETB
CAN
EM
SUB
ESC
FS
GS
RS
US
SP
DEL
空白，无效
标题开始
正文开始
文本结束
传输结束
询问
承认
报警
退格
横向制表
换行
垂直制表
换页
回车
移出
移人
数据通信换码
设备控制1
设备控制2
设备控制3
设备控制4
否定
空转同步
信息块传输结束
作废
媒体用毕
代替，置换
扩展
文件分隔
组分隔
记录分隔
单元分隔
空格
删除
球味陆习章题 17
复习思考题
R1.5.1 8421码、2421码、5211码、余3码和余3循环码在编码规则上各有何特点?
R1.5.2 你能写出3位和5位格雷码的顺序编码吗?
R1.5.3 你能用ASCII代码写出“Well Come!”吗?
本章小结
不同的数码既可以用来表示不同数量的大小，又可以用来表示不同的事物。
在用数码表示数量的大小时.采用的各种计数进位制规则称为数制。常用
的数制有十进制、二进制、八进制和十六进制几种。各种进制所表示的数值可以
按照本章介绍的方法互相转换。
由于数字电路的基本运算都采用二进制运算，所以这一章里还比较详细地
介绍了二进制数的符号在数字电路中的表示方法，原码、反码和补码的概念，以
及采用补码进行带符号数加法运算的原理。
在用数码表示不同的事物时.这些数码已没有数量大小的含义.所以将它们
称为代码。本章中所列举的十进制代码、格雷码、ASCII码是几种常见的通用代
码。此外，我们完全可以根据自己的需要，自行编制专用的代码。
习题
【题1.1】 为了将600份文件顺序编码，如果采用二进制代码，最少需要用几位?如果
改用八进制或十六进制代码，则最少各需要用几位?
【题1.2】 将下列二进制整数转换为等值的十进制数。
(1)(01101)?;(2)(10100)?; (3)(10010111)?;1+8(4)(1101101)?。
【题1.3】 将下列二进制小数转换为等值的十进制数。
(1)(0.1001)?;(2)(0.0111)?; (3)(0.101101)2; (4)(0.001111)?。
【题1.4】 将下列二进制数转换为等值的十进制数。
(1)(101.011),;(2)(110.101),;(3)(1111.1111),; (4)(1001.0101)?。
【题1.5】 将下列二进制数转换为等值的八进制数和十六进制数。
(1)(1110.0111)?;(2)(1001.1101)?;(3)(0110.1001)?;(4)(101100.110011)?。
【题1.6】 将下列十六进制数转换为等值的二进制数。
(1)(8C)?6; (2)(3D.BE)?6;(3)(8F.FF)?6;(4)(10.00)16。
【题1.7】 将下列十进制数转换为等值的二进制数和十六进制数。
18 第一章 数制和码制
(1)(17)10; (2)(127)10;(3)(79)10; (4)(255)10。
【题1.8】 将下列十进制数转换为等值的二进制数和十六进制数。要求二进制数保留
小数点以后8位有效数字。
(1)(0.519)10;(2)(0.251)10;(3)(0.0376)10;(4)(0.5128)10。
【题1.9】 将下列十进制数转换为等值的二进制数和十六进制数。要求二进制数保留
小数点以后4位有效数字。
(1)(25.7)10;(2)(188.875)10;(3)(107.39)10;(4)(174.06)10。
【题1.10】 写出下列二进制数的原码、反码和补码。
(1)(+1011)2;(2)(+00110)2;(3)(-1101)2;(4)(-00101)2。
【题1.11】 写出下列带符号位二进制数(最高位为符号位)的反码和补码。
(1)(011011)?;(2)(001010)2;(3)(111011)?;(4)(101010)2。
【题1.12】用8位的二进制补码表示下列十进制数。
(1)+17;(2)+28;(3)-13;(4)÷47;(5)-89;(6)-121。
【题1.13】 计算下列用补码表示的二进制数的代数和。如果和为负数，请求出负数的
绝对值。
(1)01001101+00100110; (2)00011101+01001100;
(4)00011110+10011100; (3)00110010+10000011;
(5)11011101+01001011; (6)10011101+01100110;
(7)11100111+11011011; (8)11111001+10001000。
【题1.14】用二进制补码运算计算下列各式。式中的4位二进制数是不带符号位的绝
对值。如果和为负数，请求出负数的绝对值。(提示：所用补码的有效位数应足够表示代数
和的最大绝对值。)
(1)1010+0011; (2)1101+1011;
(3)1010-0011; (4)1101-1011;
(5)0011-1010; (6)1011-1101;
(7)-0011-1010; (8)-1101-1011。
【题1.15】用二进制补码运算计算下列各式。(提示：所用补码的有效位数应足够表示
代数和的最大绝对值。)
(1)3+15;(2)8+11;(3)12-7;(4)23-11;
(5)9-12;(6)20-25;(7)-12-5;(8)-16-14。
第二章
逻辑代数基础
内容提要
本章介绍分析数字电路逻辑功能的数学方法。文中首先扼要地介绍了逻辑代数的基
本公式、常用公式和重要定理，然后讲述逻辑函数及其表示方法，最后介绍如何应用这些
公式和定理化简逻辑函数，以及用计算机软件进行逻辑函数化简和变换的方法。
为便于读者理解和掌握这些公式、定理和方法，各部分均配置了一定数量的例题。
2.1 概述
在上一章中我们已经讲过，不同的数码不仅可以表示数量的不同大小，
而且还能用来表示不同的事物。在数字逻辑电路中，用1位二进制数码的0
和1表示一个事物的两种不同逻辑状态。例如，可以用1和0分别表示一
件事情的是和非、真和伪、有和无、好和坏，或者表示电路的通和断、电灯的
亮和暗、门的开和关等等。这种只有两种对立逻辑状态的逻辑关系称为二
值逻辑。
所谓“逻辑”,在这里是指事物间的因果关系。当两个二进制数码表示不同
的逻辑状态时，它们之间可以按照指定的某种因果关系进行推理运算。我们将
这种运算称为逻辑运算。
1849年英国数学家乔治·布尔(George Boole)首先提出了进行逻辑运算的
数学方法——布尔代数。后来，由于布尔代数被广泛应用于解决开关电路和数
字逻辑电路的分析与设计中，所以也将布尔代数称为开关代数或逻辑代数。本
章所讲的逻辑代数就是布尔代数在二值逻辑电路中的应用。下面我们将会看
到，虽然有些逻辑代数的运算公式在形式上和普通代数的运算公式雷同，但是两
20 第二章 逻辑代数基础
者所包含的物理意义有本质的不同。逻辑代数中也用字母表示变量，这种变量
称为逻辑变量。逻辑运算表示的是逻辑变量以及常量之间逻辑状态的推理运
算，而不是数量之间的运算。
虽然在二值逻辑中，每个变量的取值只有0和1两种可能，只能表示两种不
同的逻辑状态，但是我们可以用多变量的不同状态组合表示事物的多种逻辑状.
态，处理任何复杂的逻辑问题。
2.2 逻辑代数中的三种基本运算
逻辑代数的基本运算有与(AND)、或(OR)、非(NOT)三种。为便于理解它
们的含义，先来看一个简单的例子。
图2.2.1中给出了三个指示灯的控制电路。在图(a)电路中，只有当两个
开关同时闭合时，指示灯才会亮；在图(b)电路中，只要有任何一个开关闭合，指
示灯就亮；而在图(c)电路中，开关断开时灯亮，开关闭合时灯反而不亮。
A
A B W
B R
Y Y A Y
(a) (b) (c)
图2.2.1 用于说明与、或、非定义的电路
如果把开关闭合作为条件(或导致事物结果的原因),把灯亮作为结果，那
么图2.2.1中的三个电路代表了三种不同的因果关系：
图(a)的例子表明，只有决定事物结果的全部条件同时具备时，结果才发
生。这种因果关系称为逻辑与，或称逻辑相乘。
图(b)的例子表明，在决定事物结果的诸条件中只要有任何一个满足，结果
就会发生。这种因果关系称为逻辑或，也称逻辑相加。
图(c)的例子表明，只要条件具备了，结果便不会发生；而条件不具备时，结
果一定发生。这种因果关系称为逻辑非，也称逻辑求反。
若以A、B表示开关的状态，并以1表示开关闭合，以0表示开关断开；以Y
表示指示灯的状态，并以1表示灯亮，以0表示不亮，则可以列出以0、1表示的
与、或、非逻辑关系的图表，如表2.2.1、表2.2.2和表2.2.3所示。这种图表称
2.2 逻辑代数中的三种基本运算 21
为逻辑真值表(truth table),简称真值表。
表2.2.1 与逻辑 表 2.2.2 或逻辑 表2.2.3 非逻辑
运算的真值表 运算的真值表 运算的真值表
AB Y A B Y A Y
0 0 0 0 0 0
0 1
0 1 0 0 1 1
1 0 0 1 0 1
1 0
1 1 1 1 1 1
在逻辑代数中，将与、或、非看作是逻辑变量A、B间的三种最基本的逻辑运
算，并以“·”表示与运算，以“+”表示或运算，以变量右上角的“'”表示非运算。
因此，A和B进行与逻辑运算时可写成
Y=A·B (2.2.1)
A和B进行或逻辑运算时可写成
Y=A+B (2.2.2)
对A进行非逻辑运算时可写成
Y=A' (2.2.3)
同时，将实现与逻辑运算的单元电路称为与门，将实现或逻辑运算的单元电
路称为或门，将实现非逻辑运算的单元电路称为非门(也称为反相器)。
逻辑非的运算符号尚无统一的标准。除了本书中采用“'”表示非运算以外，
目前在国内、外的某些电子技术教材和EDA软件中，也采用A、~A、┐A表示A
的非运算。用“'”作为非运算符号比起在变量上加横线作为非运算符号更便于
计算机输入，尤其在逻辑运算式中存在多重非运算时，这种优越性就更加明显。
因此，在教材和 EDA软件中使用“'”作为非运算符号的越来越多了。
与、或、非逻辑运算还可以用图形符号表示。图2.2.2中给出了被IEEE(电
气与电子工程师协会)和IEC(国际电工协会)认定的两套与、或、非的图形符
号，其中一套是目前在国外教材和 EDA软件中普遍使用的特定外形符号，如图
2.2.2(a)所示。另一套是矩形轮廓的符号，如图2.2.2(b)所示。本书中采用特
定外形符号。
实际的逻辑问题往往比与、或、非复杂得多，不过它们都可以用与、或、非
的组合来实现。最常见的复合逻辑运算有与非(NAND)、或非(NOR)、与或非
(AND-NOR)、异或(EXCLUSIVE OR)、同 或(EXCLUSIVE NOR)等。表
2.2.4～表2.2.8给出了这些复合逻辑运算的真值表。图2.2.3是它们的图
形逻辑符号和运算符号。这些图形符号同样也有特定外形符号和矩形轮廓
22 第二章 逻辑代数基础
符号两种。
A- A· Y A
Y Y
B- B
与 或 非
(a)
A- & A 1 ≥1 Y -Y A- -Y B- B·
与 或 非
(b)
图2.2.2 与、或、非的图形符号
(a)特定外形符号(b)矩形轮廓符号
表2.2.4 与非逻辑的真值表 表2.2.5 或非逻辑的真值表
A B Y A B Y
0 0 1 0 0 1
0 1 1 0 1 0
1 0 1 1 0 0
1 1 0 1 1 0
表2.2.6 与或非逻辑的真值表
A B D C Y 表2.2.7 异或逻辑的真值表
0 0 0
0 1
1 0
1 1
0 0
0 1
1 0
1 1
0 0
0 1
1 0
1 1
0 0
0 1
1 0
1 1
1
A B Y
0 1
0 1
0 0 0
0 0 0 1 1
1 1
1 0 1
1 1
1 1
1 1 0
1 0
0 1 表2.2.8 同或逻辑的真值表
0 1 A B Y
0 1
0 0
0 0 1
1 0 0 1 0
1 0 1 0 0
1 0
1 0 1 1 1
0
0
0
0
0
0
0
0
1
1
1
1
1
1
1
1
2.2 逻辑代数中的三种基本运算 23
A- A B· Y B- Y
A· &
A- ≥1
B
-Y B
-Y A B-
与非 或非· -Y
Y=(A·B)' Y=(A+B)' C-D
A· & ≥1
B
A-
B- -Y A- -Y
B- -Y C D
A =1 A 与或非
Y Y
B B Y=(A·B+C·D)'
异或 同或
Y=A田B Y=AOB
图2.2.3 复合逻辑的图形符号和运算符号
由表2.2.4可见，将A、B先进行与运算，然后将结果求反，最后得到的即为
A、B的与非运算结果。因此，可以把与非运算看作是与运算和非运算的组合。
图2.2.3中图形符号上的小圆圈表示非运算。
在与或非逻辑中，A、B之间以及C、D之间都是与的关系，只要A、B或C、D
任何一组同时为1,输出Y就是0。只有当每一组输入都不全是1时，输出Y才
是1。
异或是这样一种逻辑关系：当A、B不同时，输出Y为1;而当A、B相同时，输
出Y为0。异或也可以用与、或、非的组合表示。
A+B=A·B'+A'·B (2.2.4)
同或和异或相反，当A、B相同时，Y等于1,A、B不同时，Y等于0。同或也
可以写成与、或、非的组合形式
AOB=A·B+A'·B' (2.2.5)
而且，由表2.2.7和表2.2.8可见，异或和同或互为反运算，即
A+B=(AOB)';AOB=(A+B)' (2.2.6)
为简化书写，允许将A·B简写成AB,略去逻辑相乘的运算符号“·”。
24 第二章 逻辑代数基础
复习思考题
R2.2.1 你能各举出一个现实生活中存在的与、或、非逻辑关系的事例吗?
R2.2.2 两个变量的异或运算和同或运算之间是什么关系?
2.3 逻辑代数的基本公式和常用公式
2.3.1 基本公式
表2.3.1给出了逻辑代数的基本公式。这些公式也称为布尔恒等式。
表2.3.1 逻辑代数的基本公式
序号 公式 序号
10 0·A=0
1·A=A 11
A·A=A 12
A·A'=0 13
A·B=B·A 14
A·(B·C)=(A·B)·C 15
A·(B+C)=A·B+A·C 16
(A·B)'=A'+B' 17
(A')'=A 18
公式
1 1'=0;0'=1
2 1+A=1
3 0+A=A
4 A+A=A
5
A+A'=1
6 A+B=B+A
7 A+(B+C)=(A+B)+C
8 A+B·C=(A+B)·(A+C)
9 (A+B)'=A'·B'
式(1)、(2)、(11)和(12)给出了变量与常量间的运算规则。
式(3)和(13)是同一变量的运算规律，也称为重叠律。
式(4)和(14)表示变量与它的反变量之间的运算规律，也称为互补律。
式(5)和(15)为交换律，式(6)和(16)为结合律，式(7)和(17)为分配律。
式(8)和(18)是著名的德·摩根(De.Morgan)定理，亦称反演律。在逻辑
函数的化简和变换中经常要用到这一对公式。
式(9)表明，一个变量经过两次求反运算之后还原为其本身，所以该式又称
为还原律。
式(10)是对0和1求反运算的规则，它说明0和1互为求反的结果。
这些公式的正确性可以用列真值表的方法加以验证。如果等式成立，那么
将任何一组变量的取值代入公式两边所得的结果应该相等。因此，等式两边所
2.3 逻辑代数的基本公式和常用公式 25
对应的真值表也必然相同。
【例2.3.1】 用真值表证明表2.3.1中式(17)的正确性。
解：已知表2.3.1中的式(17)为
A+B·C=(A+B)·(A+C)
将A、B、C所有可能的取值组合逐一代入上式的两边，算出相应的结果，即得到
表2.3.2所示的真值表。可见，等式两边对应的真值表相同，故等式成立。
表2.3.2 式(17)的真值表
A B C B·C A+B·C A+B A+C
0
0
0
1
0
0
0
1
0
0
0
1
1
1
1
1
0
0
1
1
1
1
1
1
0
1
0
1
1
1
1
1
(A+B)·(A+C)
000 0
001 0
010 0
011 1
100 1
101 1
110 1
111 1
2.3.2 若干常用公式
表2.3.3中列出了几个常用公式。这些公式是利用基本公式导出的。直接
运用这些导出公式可以给化简逻辑函数的工作带来很大方便。
现将表2.3.3中的各式证明如下。
1.式(21)A+A·B=A
证明：A+A·B=A·(1+B)=A·1=A
上式说明，在两个乘积项相加时，若其中一项以另一项为因子，则该项是多
余的，可以删去。
表2.3.3 若干常用公式
序 号 公 式
21 A+A·B=A
22 A+A'·B=A+B
23 A·B+A·B'=A
24 A·(A+B)=A
A·B+A'·C+B·C=A·B+A'·C 25 A·B+A'·C+BCD=A·B+A'·C
26 A·(A·B)'=A·B';A'·(AB)'=A'
2.式(22)A+A'·B=A+B
证明：A+A'·B=(A+A')·(A+B)=1·(A+B)=A+B
26 第二章 逻辑代数基础
这一结果表明，两个乘积项相加时，如果一项取反后是另一项的因子，则此
因子是多余的，可以消去。
3.式(23)A·B+A·B'=A
证明：A·B+A·B'=A(B+B')=A·1=A
这个公式的含义是，当两个乘积项相加时，若它们分别包含B和B'两个因
子而其他因子相同，则两项定能合并，且可将B和B'两个因子消去。
4.式(24)A·(A+B)=A
证明：A·(A+B)=A·A+A·B=A+A·B
=A·(1+B)=A·1=A
该式说明，变量A和包含A的和相乘时，其结果等于A,即可以将和消掉。
5.式(25)A·B+A'·C+B·C=A·B+A'·C
证明：A·B+A'·C+B·C=A·B+A'·C+B·C(A+A')
=A·B+A'·C+A·B·C+A'·B·C
=A·B·(1+C)+A'·C·(1+B)
=A·B+A'·C
这个公式说明，若两个乘积项中分别包含A和A'两个因子，而这两个乘积
项的其余因子组成第三个乘积项时，则第三个乘积项是多余的，可以消去。
从上式不难进一步导出
A·B+A'·C+B·C·D=A·B+A'·C
6.式(26)A·(A·B)'=A·B';A'·(A·B)'=A'
证明：A·(A·B)'=A·(A'+B')=A·A'+A·B'=A·B'
上式说明，当A和一个乘积项的非相乘，且A为乘积项的因子时，则A这个
因子可以消去。
A'·(A·B)'=A'·(A'+B')=A'·A'+A'·B'=A'·(1+B')
=A'
此式表明，当A'和一个乘积项的非相乘，且A为乘积项的因子时，其结果就
等于A'。
从以上的证明可以看到，这些常用公式都是从基本公式导出的结果。当然，
还可以推导出更多的常用公式。
复习思考题
R2.3.1 在逻辑代数的基本公式当中哪些公式的运算规则和普通代数的运算规则是相
同的?哪些是不同的、需要特别记住的?
2.4 逻辑代数的基本定理 27
2.4 逻辑代数的基本定理
2.4.1 代入定理
在任何一个包含变量A的逻辑等式中，若以另外一个逻辑式代入式中所有
A的位置，则等式仍然成立。这就是所谓的代入定理。
因为变量A仅有0和1两种可能的状态，所以无论将A=0还是A=1代入逻辑
等式，等式都一定成立。而任何一个逻辑式的取值也不外0和1两种，所以用它取
代式中的A时，等式自然也成立。因此，可以将代入定理看作无需证明的公理。
利用代入定理很容易把表2.3.1中的基本公式和表2.3.3中的常用公式推
广为多变量的形式。
【例2.4.1】用代入定理证明德·摩根定理也适用于多变量的情况。
解：已知二变量的德·摩根定理为
(A+B)'=A'·B'及(A·B)'=A'+B'
今以(B+C)代入左边等式中B的位置，同时以(B·C)代入右边等式中B
的位置，于是得到
(A+(B+C))'=A'·(B+C)'=A'·B'·C'
(A·(B·C))'=A'+(B·C)'=A'+B'+C'
对一个乘积项或逻辑式求反时，应在乘积项或逻辑式外边加括号，然后对括
号内的整个内容求反。
此外，在对复杂的逻辑式进行运算时，仍需遵守与普通代数一样的运算优先
顺序，即先算括号里的内容，其次算乘法，最后算加法。
2.4.2 反演定理
对于任意一个逻辑式Y,若将其中所有的“·”换成“+”,“+”换成“·”,0
换成1,1换成0,原变量换成反变量，反变量换成原变量，则得到的结果就是Y'。
这个规律称为反演定理。
反演定理为求取已知逻辑式的反逻辑式提供了方便。
在使用反演定理时，还需注意遵守以下两个规则：
①仍需遵守“先括号、然后乘、最后加”的运算优先次序。
②不属于单个变量上的反号应保留不变。
回顾一下3.3.1节中讲过的德·摩根定理便可发现，它只不过是反演定理
-—
28 第二章 逻辑代数基础
的一个特例而已。正是由于这个原因，才将它称为反演律。
【例2.4.2】已知Y=A(B+C)+CD,求Y'。
解：根据反演定理可写出
Y'=(A'+B'C')(C'+D')
=A'C'+B'C'+A'D'+B'C'D'
=A'C'+B'C'+A'D'
如果利用基本公式和常用公式进行运算，也能得到同样的结果，但是要麻烦
得多。
【例2.4.3】 若Y=((AB'+C)'+D)'+C,求Y'。
解：依据反演定理可直接写出
Y'=(((A'+B)C)'D')'C'
2.4.3 对偶定理
若两逻辑式相等，则它们的对偶式也相等，这就是对偶定理。
所谓对偶式是这样定义的：对于任何一个逻辑式Y,若将其中的“·”换成
“+”,“+”换成“·”,0换成1,1换成0,则得到一个新的逻辑式YD,这个Y就
称为Y的对偶式，或者说Y和Y互为对偶式。
则YD=A+BC 例如，若Y=A(B+C),
则YD=((A+B)(C+D))' 若Y=(AB+CD)',
则YD=(A+B)(CD)' 若Y=AB+(C+D)',
为了证明两个逻辑式相等，也可以通过证明它们的对偶式相等来完成，因为
有些情况下证明它们的对偶式相等更加容易。
【例2.4.4】试证明表2.3.1中的式(17),即
A+BC=(A+B)(A+C)
解：首先写出等式两边的对偶式，得到
A(B+C)和 AB+AC
根据乘法分配律可知，这两个对偶式是相等的，亦即A(B+C)=AB+AC。
由对偶定理即可确定原来的两式也一定相等，于是式(17)得到证明。
如果仔细分析一下表 2.3.1就能够发现，其中的公式(1)和(11)、(2)和
(12)、(3)和(13)、(4)和(14)、(5)和(15)、(6)和(16)、(7)和(17)、(8)和
(18)皆互为对偶式。因此，只要能证明公式(1)~(8)成立，则公式(11)~(18)
已无需另做证明。
2.5 逻辑函数及其表示方法 29
复习思考题
R2.4.1 代入定理中对代入逻辑式的形式和复杂程度有无限制?
R2.4.2 利用反演定理对给定逻辑式求反时，应如何处理变换的优先顺序和式中所有
的非运算符号?
2.5 逻辑函数及其表示方法
2.5.1 逻辑函数
从上面讲过的各种逻辑关系中可以看到，如果以逻辑变量作为输入，以运算
结果作为输出，那么当输入变量的取值确定之后，输出的取值便随之而定。因
此，输出与输入之间乃是一种函数关系。这种函数关系称为逻辑函数(logic
function),写作
Y=F(A,B,C,…)
由于变量和输出(函数)的取值只有0和1两种状态，所以我们所讨论的都是二
值逻辑函数。
任何一件具体的因果关系都可以用一个逻辑函数来描述。例如，图2.5.1
所示是一个举重裁判电路，可以用一个逻辑 B
函数描述它的逻辑功能。 A
比赛规则规定，在一名主裁判和两名副
裁判中，必须有两人以上(而且必须包括主裁
判)认定运动员的动作合格，试举才算成功。
比赛时主裁判掌握着开关A,两名副裁判分
别掌握着开关B和C。当运动员举起杠铃
C
Y
图2.5.1 举重裁判电路
时，裁判认为动作合格了就合上开关，否则不合。显然，指示灯Y的状态(亮与
暗)是开关A、B、C状态(合上与断开)的函数。
若以1表示开关闭合，0表示开关断开；以1表示灯亮，以0表示灯暗，则指
示灯Y是开关A、B、C的二值逻辑函数，即
Y=F(A,B,C)
-—
30 第二章 逻辑代数基础
2.5.2 逻辑函数的表示方法
常用的逻辑函数表示方法有逻辑真值表、逻辑函数式(简称逻辑式或函数
式)、逻辑图、波形图、卡诺图和硬件描述语言等。这一节只介绍前面四种方法，
用卡诺图和硬件描述语言表示逻辑函数的方法将在后面做专门介绍。
一、逻辑真值表
将输入变量所有的取值下对应的输出值找出来，列成表格，即可得到真值表。
仍以图2.5.1所示的举重裁判电路为例，根据电路的工作原理不难看出，只
有A=1,同时B、C至少有一个为1时Y才等于1,于是可列出图2.5.1所示电路
的真值表，见表2.5.1。
表2.5.1 图2.5.1所示电路的真值表
输 入 输 出
A B C Y
0 0 0 0
0 0 1 0
0 1 0 0
0 1 1 0
1 0 0 0
1 0 1 1
1 1 0 1
1 1 1 1
二、逻辑函数式
将输出与输入之间的逻辑关系写成与、或、非等运算的组合式，即逻辑代数
式，就得到了所需的逻辑函数式。
在图2.5.1所示的电路中，根据对电路功能的要求和与、或的逻辑定义，“B
和C中至少有一个合上"可以表示为(B+C),“同时还要求合上A”,则应写作
A·(B+C)。因此得到输出的逻辑函数式为
Y=A(B+C) (2.5.1)
三、逻辑图
将逻辑函数式中各变量之间的与、或、非等逻辑关系用图形符号表示出来，
就可以画出表示函数关系的逻辑图(logic di- A·
-Y agram)。 B C- 为了画出表示图2.5.1电路功能的逻辑
图，只要用逻辑运算的图形符号代替式(2.5.1)
中的代数运算符号便可得到图2.5.2所示的
逻辑图。
图2.5.2 表示图2.5.1电路
逻辑功能的逻辑图
2.5 逻辑函数及其表示方法 31
四、波形图
如果将逻辑函数输入变量每一种可能出现的取值与对应的输出值按时间顺
序依次排列起来，就得到了表示该逻辑函数的波形图。这种波形图(waveform)
也称为时序图(timing diagram)。在逻辑分析仪和一些计算机仿真工具中，经常
以这种波形图的形式给出分析结果。此外，也可以通过实验观察这些波形图，以
检验实际逻辑电路的功能是否正确。
如果用波形图来描述式(2.5.1)的逻辑函数，则只需将表2.5.1给出的输
入变量与对应的输出变量取值依时间顺序排列起来，就可以得到所要的波形图
了(如图2.5.3所示)。
A4
0 0
o
0 0 1 1 1 1
1 1 0 0 1 1
0 1 0 0 1 1
0 0 0 1 1 1
t
BI
0 0
ol t
CA
0 1
ol t
YI
0 0
O1 t
图2.5.3 表示图2.5.1电路逻辑功能的波形图
五、各种表示方法间的相互转换
既然同一个逻辑函数可以用多种不同的方法描述，那么这几种方法之间必
能相互转换。
1.真值表与逻辑函数式的相互转换
首先讨论从真值表得到逻辑函数式的方法。为了便于理解转换的原理，先
来讨论下面一个具体的例子。
【例2.5.1】已知一个奇偶判别函数的真值表如表2.5.2所示，试写出它
的逻辑函数式。
表2.5.2 例2.5.1的函数真值表
A B C Y
0 0 0 0
0 0 1 0
0 1 0 0
32 第二章 逻辑代数基础
续表
A B C Y
0 1 1 1……→A'BC=1
1 0 0 0
1 0 1 1……→AB'C=1
1 1 0 1……→ABC'=1
1 1 1 0
解：由真值表可见，只有当A、B、C三个输入变量中两个同时为1时，Y才
为1。因此，在输入变量取值为以下三种情况时，Y将等于1:
A=0、B=1、C=1
A=1、B=0、C=1
A=1、B=1、C=0
而当A=0、B=1、C=1时，必然使乘积项A'BC=1;当A=1、B=0、C=1时，必然
使乘积项AB'C=1;当A=1、B=1、C=0时，必然使ABC'=1,因此Y的逻辑函数
应当等于这三个乘积项之和，即
Y=A'BC+AB'C+ABC'
通过例2.5.1可以总结出由真值表写出逻辑函数式的一般方法，这就是：
①找出真值表中使逻辑函数Y=1的那些输入变量取值的组合。
②每组输入变量取值的组合对应一个乘积项，其中取值为1的写入原变
量，取值为0的写入反变量。
③将这些乘积项相加，即得Y的逻辑函数式。
由逻辑式列出真值表就更简单了。这时只需将输入变量取值的所有组合状
态逐一代入逻辑式求出函数值，列成表，即可得到真值表。
【例2.5.2】已知逻辑函数Y=A+B'C+A'BC',求它对应的真值表。
解：将A、B、C的各种取值逐一代人Y式中计算，将计算结果列表，即得表
2.5.3所示的真值表。初学时为避免差错，可先将B'C、A'BC'两项算出，然后将
A、B'C和A'BC'相加求出Y的值。
表 2.5.3 例2.5.2的真值表
A
0
0
0
0
B
0
0
1
1
C
0
1
0
1
B'C A'BC'
0
1
0
0
0
0
1
0
Y
0
1
1
0
2.5 逻辑函数及其表示方法 33
续表
A B C B'C A'BC'
0
1
0
0
0
0
0
0
Y
1 0 0 1
1 0 1 1
1 1 0 1
1 1 1 1
2.逻辑函数式与逻辑图的相互转换
从给定的逻辑函数式转换为相应的逻辑图时，只要用逻辑图形符号代替逻
辑函数式中的逻辑运算符号并按运算优先顺序将它们连接起来，就可以得到所
求的逻辑图了。
而在从给定的逻辑图转换为对应的逻辑函数式时，只要从逻辑图的输入端
到输出端逐级写出每个图形符号的输出逻辑式，就可以在输出端得到所求的逻
辑函数式了。
【例2.5.3】已知逻辑函数为Y=(A+B'C)'+A'BC'+C,画出其对应的逻
辑图。
解：将式中所有的与、或、非运算符号用图形符号代替，并依据运算优先顺
序将这些图形符号连接起来，就得到了图2.5.4所示的逻辑图。
A
B-
-Y
C·
图2.5.4 例2.5.3的逻辑图
【例2.5.4】已知函数的逻辑图如图2.5.5所示，试求它的逻辑函数式。
AB (A+B)'
Y=(4+B)+4+BY) B'
(A'+B')'
图2.5.5 例2.5.4的逻辑图
A'
34 第二章 逻辑代数基础
解：从输入端A、B开始逐个写出每个图形符号输出端的逻辑式，得到Y=
((A+B)'+(A'+B')')'。将该式变换后得到
Y=((A+B)'+(A'+B')')'=(A+B)(A'+B')
=AB'+A'B=A+B
可见，输出Y和A、B间是异或逻辑关系。
3.波形图与真值表的相互转换
在从已知的逻辑函数波形图求对应的真值表时，首先需要从波形图上找出
每个时间段里输入变量与函数输出的取值，然后将这些输入、输出取值对应列
表，就得到了所求的真值表。
在将真值表转换为波形图时，只需将真值表中所有的输入变量与对应的输
出变量取值依次排列画成以时间为横轴的波形，就得到了所求的波形图，如我们
前面已经做过的那样。
【例2.5.5】已知逻辑函数Y的波形图如图2.5.6所示，试求该逻辑函数
的真值表。
AI
0 t
BA
o t
C
0 t
YA
0 t?t2 t3 t4 ts t? t7 t8 t?6 t
图2.5.6 例2.5.5的波形图
解：从Y的波形图上可以看出，在0～tg时间区间里输入变量A、B、C所有
可能的取值组合均已出现了，而且t?~t?6区间的波形只不过是0~t?区间波形的
重复。因此，只要将0~t?区间每个时间段里A、B、C与Y的取值对应列表，即可
得表2.5.4所示的真值表。
表 2.5.4 例2.5.5的真值表
A B C Y
0 0 0 0
0 0 1 1
2.5 逻辑函数及其表示方法 35
续表
`A B C Y
0 1 0 1
0 1 1 0
1 0 0 0
1 0 1 1
1 1 0 0
1 1 1 1
2.5.3 逻辑函数的两种标准形式
在讲述逻辑函数的标准形式之前，先介绍一下最小项和最大项的概念，然后
再介绍逻辑函数的“最小项之和”及“最大项之积”这两种标准形式。
一、最小项和最大项
1.最小项
在 n变量逻辑函数中，若m为包含 n个因子的乘积项，而且这n个变量均
以原变量或反变量的形式在m中出现一次，则称m为该组变量的最小项。
例如，A、B、C三个变量的最小项有A'B'C'、A'B'C、A'BC'、A'BC、AB'C'、
AB'C、ABC'、ABC共8个(即23个)。n变量的最小项应有2"个。
输入变量的每一组取值都使一个对应的最小项的值等于1。例如，在三变
量A、B、C的最小项中，当A=1、B=0、C=1时，AB'C=1。如果把AB'C的取值
101看作一个二进制数，那么它所表示的十进制数就是5。为了今后使用的方
便，将AB'C这个最小项记作m?。按照这一约定，就得到了三变量最小项的编号
表，如表2.5.5所示。
最小项
A' B'C'
A' B'C
A'B C'
A' B C
A B'C'
A B'C
A B C'
A B C
表2.5.5 三变量最小项的编号表
使最小项为1的变量取值
对应的十进制数 A B C
0 0 0
0 0 1
0 1 0
0 1 1
1 0 0
1 0 1
1 1 0
1 1 1
0
1
2
3
4
5
6
7
编 号
mo
m?
m?
m?
m?
m?
m?
m,
36 第二章 逻辑代数基础
根据同样的道理，我们将A、B、C、D这 4 个变量的16 个最小项记作
mo~m?5o
从最小项的定义出发可以证明它具有如下的重要性质：
①在输入变量的任何取值下必有一个最小项，而且仅有一个最小项的值
为1。
②全体最小项之和为1。
③任意两个最小项的乘积为0。
④具有相邻性的两个最小项之和可以合并成一项并消去一对因子。
若两个最小项只有一个因子不同，则称这两个最小项具有相邻性。例如，
A'BC'和ABC'两个最小项仅第一个因子不同，所以它们具有相邻性。这两个最
小项相加时定能合并成一项并将一对不同的因子消去
A'BC'+ABC'=(A'+A)BC'=BC'
*2.最大项
在n变量逻辑函数中，若M为 n个变量之和，而且这 n个变量均以原变量
或反变量的形式在M中出现一次，则称M为该组变量的最大项。
例如，三变量A、B、C的最大项有(A'+B'+C')、(A'+B'+C)、(A'+B+
C')、(A'+B+C)、(A+B'+C')、(A+B'+C)、(A+B+C')、(A+B+C)共8个
(即23个)。对于n个变量则有2”个最大项。可见，n变量的最大项数目和最
小项数目是相等的。
输入变量的每一组取值都使一个对应的最大项的值为0。例如，在三变量
A、B、C的最大项中，当A=1、B=0、C=1时，(A'+B+C')=0。若将使最大项为
0的ABC取值视为一个二进制数，并以其对应的十进制数给最大项编号，则
(A'+B+C')可记作 M?。由此得到的三变量最大项编号表，如表2.5.6所示。
表 2.5.6 三变量最大项的编号表
最大项
使最大项为0的变量取值
对应的十进制数
C B A
0 0 0
0 0 1
0 1 0
0 1 1
1 0 0
1 0 1
1 1 0
1 1 1
0
1
2
3
4
5
6
7
编 号
A+B+C
M?
A+B+C'
M?
A+B'+C M?
A+B'+C' M?
A'+B+C
M?
A'+B+C' M?
A'+B'+C M?
A'+B'+C' M,
2.5 逻辑函数及其表示方法 37
根据最大项的定义同样也可以得到它的主要性质，这就是：
①在输入变量的任何取值下必有一个最大项，而且只有一个最大项的值为0。
②全体最大项之积为0。
③任意两个最大项之和为1。
④只有一个变量不同的两个最大项的乘积等于各相同变量之和。
如果将表2.5.5和表2.5.6加以对比则可发现，最大项和最小项之间存在
如下关系
M,=m' (2.5.2)
例如，m。=A'B'C',则m!=(A'B'C')'=A+B+C=M。
二、逻辑函数的最小项之和形式
首先将给定的逻辑函数式化为若干乘积项之和的形式(亦称“积之和”形
式),然后再利用基本公式A+A'=1将每个乘积项中缺少的因子补全，这样就可
以将与或的形式化为最小项之和的标准形式。这种标准形式在逻辑函数的化简
以及计算机辅助分析和设计中得到了广泛的应用。
例如，给定逻辑函数为
Y=ABC'+BC
则可化为
Y=ABC'+(A+A')BC=ABC'+ABC+A'BC=m?+m?+m?
或写作
Y(A,B,C)=∑m(3,6,7)
【例2.5.6】 将逻辑函数Y=AB'C'D+A'CD+AC展开为最小项之和的
形式。
解：Y=AB'C'D+A'(B+B')CD+A(B+B')C
=AB'C'D+A'BCD+A'B'CD+ABC(D+D')+AB'C(D+D')
=AB'C'D+A'BCD+A'B'CD+ABCD+ABCD'+AB'CD+AB'CD'
或写作
Y(A,B,C,D)=∑m(3,7,9,10,11,14,15)
*三、逻辑函数的最大项之积形式
利用逻辑代数的基本公式和定理，首先我们一定能把任何一个逻辑函数式
化成若干多项式相乘的或与形式(也称“和之积”形式)。然后再利用基本公式
AA'=0将每个多项式中缺少的变量补齐，就可以将函数式的或与形式化成最大
项之积的形式了。
【例2.5.7】 将逻辑函数Y=A'B+AC化为最大项之积的形式。
38 第二章 逻辑代数基础
解：首先可以利用基本公式A+BC=(A+B)(A+C)将Y化成或与形式
Y=A'B+AC
=(A'B+A)(A'B+C)
=(A+B)(A'+C)(B+C)
然后在第一个括号内加入一项CC',在第二个括号内加入BB',在第三个括
号内加入 AA',于是得到
Y=(A+B+CC')(A'+BB'+C)(AA'+B+C)
=(A+B+C)(A+B+C')(A'+B+C)(A'+B'+C)
或写作
Y(A,B,C,D)=IM(0,1,4,6)
2.5.4 逻辑函数形式的变换
我们在上一小节中已经讲过，可以通过运算将给定的与或形式逻辑函数式
变换为最小项之和的形式或最大项之积的形式。
此外，在用电子器件组成实际的逻辑电路时，由于选用不同逻辑功能类型的
器件，还必须将逻辑函数式变换成相应的形式。
例如，我们想用门电路实现如下的逻辑函数
Y=AC+BC' (2.5.3)
按照上式的形式，需要用两个具有与运算功能的与门电路和一个具有或运算功
能的或门电路，才能产生函数Y。
如果受到器件供货的限制，只能全部用与非门实现这个电路，这时就需要将
式(2.5.3)的与或形式变换成全部由与非运算组成的与非-与非形式。为此，
可用摩根定理将式(2.5.3)变换为
Y=((AC+BC')')'
=((AC)'(BC')')' (2.5.4)
如果要求用具有与或非功能的门电路实现式(2.5.3)的逻辑函数，则需要
将式(2.5.3)化为与或非形式的运算式。根据逻辑代数的基本公式A+A'=1
和代入定理可知，任何一个逻辑函数Y都遵守公式Y+Y'=1。又因为全部最小
项之和恒等于1,所以不包含在Y中的那些最小项之和就是Y'。将这些最小项
之和再求反，也得到Y,而且是与或非形式的逻辑函数式。
【例2.5.8】 将逻辑函数Y=AC+BC'化为与或非形式。
解：首先将Y展开为最小项之和的形式，得到
Y=AC(B+B')+BC'(A+A')
=ABC+AB'C+ABC'+A'BC'
2.6 逻辑函数的化简方法 39
或写作
Y(A,B,C)=∑m(2,5,6,7)
将Y式中不包含的最小项相加，即得
Y'(A,B,C)=∑m(0,1,3,4)
将上式求反，就得到了Y的与或非式
Y=(Y')'=(m。+m?+m?+m?)'=(A'B'C'+AB'C'+A'B'C+A'BC)'
=(B'C'+A'C)' (2.5.5)
如果要求全部用或非门电路实现逻辑函数，则应将逻辑函数式化成全部由
或非运算组成的形式，即或非-或非形式。这时可以先将逻辑函数式化为与或
非的形式，然后再利用反演定理将其中的每个乘积项化为或非形式，这样就得到
了或非-或非式。例如，我们已经得到了式(2.5.5)的与或非式，则可按上述方
法将它变换为或非-或非形式
Y=(B'C'+A'C)'
=((B+C)'+(A+C')')'
复习思考题
R2.5.1 逻辑函数的表示方法有哪几种?你能把由任何一种表示方法给出的逻辑函数
转换为由其他任何一种表示方法表示的逻辑函数吗?
R2.5.2 在逻辑函数的真值表和波形图中，任意改变各组输入和输出取值的排列顺序
对函数有无影响?
2.6 逻辑函数的化简方法
2.6.1 公式化简法
在进行逻辑运算时常常会看到，同一个逻辑函数可以写成不同的逻辑式，而
这些逻辑式的繁简程度又相差甚远。逻辑式越是简单，它所表示的逻辑关系越
明显，同时也有利于用最少的电子器件实现这个逻辑函数。因此，经常需要通过
化简的手段找出逻辑函数的最简形式。
例如，有两个逻辑函数
Y=ABC+B'C+ACD (2.6.1)
40 第二章 逻辑代数基础
Y=AC+B'C (2.6.2)
将它们的真值表分别列出后即可见到，它们是同一个逻辑函数。显然，下式比上
式简单得多。
在与或逻辑函数式中，若其中包含的乘积项已经最少，而且每个乘积项里的
因子也不能再减少时，则称此逻辑函数式为最简形式。对与或逻辑式最简形式
的定义对其他形式的逻辑式同样也适用，即函数式中相加的乘积项不能再减少，
而且每项中相乘的因子不能再减少时，则函数式为最简形式。
化简逻辑函数的目的就是要消去多余的乘积项和每个乘积项中多余的因
子，以得到逻辑函数式的最简形式。常用的化简方法有公式化简法、卡诺图化简
法以及适用于编制计算机辅助分析程序的Q-M法等。
公式化简法的原理就是反复使用逻辑代数的基本公式和常用公式消去函数
式中多余的乘积项和多余的因子，以求得函数式的最简形式。
公式化简法没有固定的步骤。现将经常使用的方法归纳如下。
一、并项法
利用表2.3.3中的公式AB+AB'=A可以将两项合并为一项，并消去B和
B'这一对因子。而且，根据代入定理可知，A和B均可以是任何复杂的逻辑式。
【例2.6.1】 试用并项法化简下列逻辑函数
Y?=A(B'CD)'+AB'CD
Y?=AB'+ACD+A'B'+A'CD
Y?=A'BC'+AC'+B'C'
解：
Y?=BC'D+BCD'+BC'D'+BCD
Y?=A((B'CD)'+B'CD)=A
Y?=A(B'+CD)+A'(B'+CD)=B'+CD
Y=A'BC'+(A+B')C'=(A'B)C'+(A'B)'C'=C'
Y?=B(C'D+CD')+B(C'D'+CD)
=B(C+D)+B(C+D)'=B
二、吸收法
利用表2.3.3中的公式A+AB=A可将AB项消去。A和B同样也可以是
任何一个复杂的逻辑式。
【例2.6.2】试用吸收法化简下列逻辑函数
Y?=((A'B)'+C)ABD+AD
Y?=AB+ABC'+ABD+AB(C'+D')
Y?=A+(A'(BC))'(A'+(B'C'+D)')+BC
2.6 逻辑函数的化简方法 41
解： Y?=((A'B)'+C)B·AD+AD=AD
Y?=AB+AB(C'+D+(C'+D'))=AB
Y?=(A+BC)+(A+BC)(A'+(B'C'+D)')=A+BC
三、消项法
利用表2.3.3中的公式AB+A'C+BC=AB+A'C及AB+A'C+BCD=AB+
A'C将BC或BCD项消去。其中A、B、C、D均可以是任何复杂的逻辑式。
【例2.6.3】 用消项法化简下列逻辑函数
Y?=AC+AB'+(B+C)'
Y?=AB'CD'+(AB')'E+A'CD'E
解：
Y?=A'B'C+ABC+A'BD'+AB'D'+A'BCD'+BCD'E'
Y?=AC+AB'+B'C'=AC+B'C'
Y?=(AB')CD'+(AB')'E+(CD')(E)A'
=AB'CD'+(AB')'E
Y?=(A'B'+AB)C+(A'B+AB')D'+BCD'(A'+E')
=(A+B)'C+(A+B)D'+CD'(B(A'+E'))
=(A+B)'C+(A④B)D'
四、消因子法
利用表2.3.3中的公式A+A'B=A+B可将A'B中的A'消去。A、B均可以
是任何复杂的逻辑式。
【例2.6.4】 试利用消因子法化简下列逻辑函数
解：
Y?=B'+ABC
Y?=AB'+B+A'B
Y?=AC+A'D+C'D
Y?=B'+ABC=B'+AC
Y?=AB'+B+A'B=A+B+A'B=A+B
Y?=AC+A'D+C'D=AC+(A'+C')D=AC+(AC)'D
=AC+D
五、配项法
①根据基本公式中的A+A=A可以在逻辑函数式中重复写入某一项，有时
能获得更加简单的化简结果。
【例2.6.5】 试化简逻辑函数Y=A'BC'+A'BC+ABC。
解：若在式中重复写入A'BC,则可得到
42 第二章 逻辑代数基础
Y=(A'BC'+A'BC)+(A'BC+ABC)
=A'B(C+C')+BC(A+A')
=A'B+BC
②根据基本公式中的A+A'=1可以在函数式中的某一项上乘以(A+A'),
然后拆成两项分别与其他项合并，有时能得到更加简单的化简结果。
【例2.6.6】试化简逻辑函数Y=AB'+A'B+BC'+B'C。
解：利用配项法可将Y写成
Y=AB'+A'B(C+C')+BC'+(A+A')B'C
=AB'+A'BC+A'BC'+BC'+AB'C+A'B'C
=(AB'+AB'C)+(BC'+A'BC')+(A'BC+A'B'C)
=AB'+BC'+A'C
在化简复杂的逻辑函数时，往往需要灵活、交替地综合运用上述方法，才能
得到最后的化简结果。
【例2.6.7】 化简逻辑函数
Y=AC+B'C+BD'+CD'+A(B+C′)+A'BCD'+AB'DE
解：Y=AC+B'C+BD'+CD'+A(B+C')+A'BCD'+AB'DE
(根据A+AB=A,消去A'BCD')
AC+B'C+BD'+CD'+A(B'C)'+AB'DE
(根据A+A'B=A+B,消去A(B'C)'中的(B'C)'因子) =AC+B'C+BD'+CD'+A+AB'DE
(根据A+AB=A,消去AC和AB'DE) =A+B'C+B'+CD'
(根据AB+A'C+BC=AB+A'C,消去CD') =A+B'C+BD'
2.6.2 卡诺图化简法
一、逻辑函数的卡诺图表示法
将 n变量的全部最小项各用一个小方块表示，并使具有逻辑相邻性的最小
项在几何位置上也相邻地排列起来，所得到的图形称为n变量最小项的卡诺图。
因为这种表示方法是由美国工程师卡诺(M.Karnaugh)首先提出的，所以将这种
2.6 逻辑函数的化简方法 43
图形称为卡诺图(Karnaugh Map)。
图2.6.1中画出了二到五变量最小项的卡诺图。图形两侧标注的0和1表
示使对应小方格内的最小项为1的变量取值。同时，这些0和1组成的二进制
数所对应的十进制数大小也就是对应的最小项的编号。
CD AB 00 011110
B BC A 0 1 A 00 01 1110 00
0
A'B AB' mo m? 0 mo m1 m? m? 01
1 Am' AB
m? 1 m? m? m? m? 11
10
(a) (b)
mo m? m? m2
m4 m? m7 m6
m12m13 m15m14
m? m? m11 m10
(c)
CDE
AB 000001 011 010 110 111 101 100
00
01
11
10
m? m? m? m2 m? m7 m? m4
mg m? m1 m10 m14m15 m13 m12
m24m?s m27 m26 m30m31 m29m28
m16 m17 m19m18 m22 m23 m21 m20
(d)
图2.6.1 二到五变量最小项的卡诺图
(a)两变量(A、B)最小项的卡诺图(b)三变量(A、B、C)最小项的卡诺图
(c)四变量(A、B、C、D)最小项的卡诺图(d)五变量(A、B、C、D、E)最小项的卡诺图
为了保证图中几何位置相邻的最小项在逻辑上也具有相邻性，这些数码不
能按自然二进制数从小到大地顺序排列，而必须按图中的方式排列，以确保相邻
的两个最小项仅有一个变量是不同的。
从图2.6.1所示的卡诺图上还可以看到，处在任何一行或一列两端的最小
项也仅有一个变量不同，所以它们也具有逻辑相邻性。因此，从几何位置上应当
将卡诺图看成是上下、左右闭合的图形。
在变量数大于、等于五以后，仅仅用几何图形在两维空间的相邻性来表示逻
辑相邻性已经不够了。例如，在图2.6.1(d)所示的五变量最小项的卡诺图中，
除了几何位置相邻的最小项具有逻辑相邻性以外，以图中双竖线为轴左右对称
位置上的两个最小项也具有逻辑相邻性。
既然任何一个逻辑函数都能表示为若干最小项之和的形式，那么自然也就
44 第二章 逻辑代数基础
可以设法用卡诺图来表示任意一个逻辑函数。具体的方法是：首先将逻辑函数
化为最小项之和的形式，然后在卡诺图上与这些最小项对应的位置上填入1,在
其余的位置上填入0,就得到了表示该逻辑函数的卡诺图。也就是说，任何一个
逻辑函数都等于它的卡诺图中填入1的那些最小项之和。
【例2.6.8】 用卡诺图表示逻辑函数
Y=A'B'C'D+A'BD'+ACD+AB'
解：首先将Y化为最小项之和的形式
Y=A'B'C'D+A'B(C+C')D'+A(B+B')CD+AB'(C+C')(D+D')
=A'B'C'D+A'BCD'+A'BC'D'+ABCD+AB'CD+AB'CD'+AB'C'D
+AB'C'D'
=m,+m?+m?+mg+m,+m10+m+m?5
画出四变量最小项的卡诺图，在对应于函数式中各最小项的位置上填入1,
其余位置上填入0,就得到如图2.6.2所示的函数Y的卡诺图。
CD
AB 00 01 11 10
00 0 1 0 0
1 0 0 1
0 0 1 0
1 1 1 1
BC 01 A 00 01 11 10
11 0
10 1
图2.6.2 例2.6.8的卡诺图 图2.6.3 例2.6.9的卡诺图
【例2.6.9】已知逻辑函数Y的卡诺图如图 2.6.3所示，试写出该函数的
逻辑式。
解：因为函数Y等于卡诺图中填入1的那些最小项之和，所以有
Y=AB'C'+A'B'C+ABC+A'BC'
二、用卡诺图化简逻辑函数
利用卡诺图化简逻辑函数的方法称为卡诺图化简法或图形化简法。化简时
依据的基本原理就是具有相邻性的最小项可以合并，并消去不同的因子。由于
在卡诺图上几何位置相邻与逻辑上的相邻性是一致的，因而从卡诺图上能直观
地找出那些具有相邻性的最小项并将其合并化简。
1.合并最小项的原则
0 1 0 1
1 0 1 0
2.6 逻辑函数的化简方法 45
若两个最小项相邻，则可合并为一项并消去一对因子。合并后的结果中只
剩下公共因子。
在图2.6.4(a)和(b)中画出了两个最小项相邻的几种可能情况。例如，图
(a)中A'BC(m?)和ABC(m?)相邻，故可合并为
A'BC+ABC=(A'+A)BC=BC
合并后将A和A'一对因子消掉了，只剩下公共因子B和C。
CD
AB 00 01 11 10
BC
A 00 01 11 10 00 ①
BC
A 00 01 11 10
0 1 1 1 01 1 1 1 0 ① 1 1 ①|
1 D 1 1 11 1 ① 1 1 1 1 1 1
BC 10 ①
(a) (b) (c)
CD CD
AB 00 01 11 10 AB 00 01 11 10
00 1 1 1 00 1 1 1 1
A'
01 1 1 1 1 01 1 1 1 1
11 1 1 1 1 11 1 1
10 1 1 1 10 1 1
BD (d) (e)
图2.6.4 最小项相邻的几种情况
(a)、(b)两个最小项相邻(c)、(d)四个最小项相邻(e)八个最小项相邻
若四个最小项相邻并排列成一个矩形组，则可合并为一项并消去两对因子。
合并后的结果中只包含公共因子。
例如，在图 2.6.4(d)中，A'BC'D(m?)、A'BCD(m?)、ABC'D(m?3)和
ABCD(m15)相邻，故可合并。合并后得到
A'BC'D+A'BCD+ABC'D+ABCD
=A'BD(C+C')+ABD(C+C')
= BD(A+A')=BD
可见，合并后消去了A、A'和C、C'两对因子，只剩下四个最小项的公共因子B
46 第二章 逻辑代数基础
和D。
若八个最小项相邻并且排列成一个矩形组，则可合并为一项并消去三对因
子。合并后的结果中只包含公共因子。
例如，在图2.6.4(e)中，上边两行的八个最小项是相邻的，可将它们合并为
一项A'。其他的因子都被消去了。
至此，可以归纳出合并最小项的一般规则，这就是：如果有2"个最小项相邻
(n=1,2,…)并排列成一个矩形组，则它们可以合并为一项，并消去 n对因子。
合并后的结果中仅包含这些最小项的公共因子。
2.卡诺图化简法的步骤
用卡诺图化简逻辑函数时可按如下步骤进行：
(1)将函数化为最小项之和的形式。
(2)画出表示该逻辑函数的卡诺图。
(3)找出可以合并的最小项。
(4)选取化简后的乘积项。选取的原则是：
①这些乘积项应包含函数式中所有的最小项(应复盖卡诺图中所有的1)。
②所用的乘积项数目最少。也就是可合并的最小项组成的矩形组数目
最少。
③每个乘积项包含的因子最少。也就是每个可合并的最小项矩形组中应
包含尽量多的最小项。
【例2.6.10】 用卡诺图化简法将下式化简为最简与或函数式
Y=AC'+A'C+BC'+B'C
解：首先画出表示函数Y的卡诺图，如图2.6.5所示。
BC BC
A 00 01 11 10 A 00 01 11 10
0 0 1 1 1 0 0 1 1 1
1 1 1 0 1 1 1 1 0 1
(a) (b)
图2.6.5 例2.6.10的卡诺图
事实上在填写Y的卡诺图时，并不一定要将Y化为最小项之和的形式。例
如，式中的AC'一项包含了所有含有AC'因子的最小项，而不管另一个因子是B
2.6 逻辑函数的化简方法 47
还是B'。从另外一个角度讲，也可以理解为AC'是ABC'和AB'C'两个最小项相
加合并的结果。因此，在填写Y的卡诺图时，可以直接在卡诺图上所有对应A=
1、C=0的空格里填入1。按照这种方法，就可以省去将Y化为最小项之和这一
步骤了。
其次，需要找出可以合并的最小项。将可能合并的最小项用线圈出。由图
2.6.5(a)和(b)可见，有两种可取的合并最小项的方案。如果按图2.6.5(a)的
方案合并最小项，则得到
Y=AB'+A'C+BC'
而按图2.6.5(b)的方案合并最小项得到
Y=AC'+B'C+A'B
两个化简结果都符合最简与或式的标准。
此例说明，有时一个逻辑函数的化简结果不是唯一的。
【例2.6.11】 用卡诺图化简法将下式化为最简与或逻辑式
Y=ABC+ABD+AC'D+C'D'+AB'C+A'CD'
解：首先画出Y的卡诺图，如图2.6.6所示。然后将可能合并的最小项圈
出，并按照前面所述的原则选择化简后与或式 CD
00 01 11 AB 10 中的乘积项。由图可见，应将图中下边两行的8
1 0 1 0 00 个最小项合并，同时将左、右两列最小项合并，
于是得到 0 01 1 0 1
Y=A+D' 11 1 1 1 1
从图2.6.6中可以看到，A和D'中重复包
含了m?、m?0、m12和 m14这 4个最小项。但据
A+A=A可知，在合并最小项的过程中允许重复
使用函数式中的最小项，以利于得到更简单的
化简结果。
10 1 1 1 1
图2.6.6 例2.6.11的卡诺图
另外，还要补充说明一个问题。在以上的两个例子中，我们都是通过合并卡
诺图中的1来求得化简结果的。但有时也可以通过合并卡诺图中的0先求出Y'
的化简结果，然后再将Y'求反而得到Y。
这种方法所依据的原理我们已在2.5.4节中做过说明。因为全部最小项之
和为1,所以若将全部最小项之和分成两部分，一部分(卡诺图中填入1的那些
最小项)之和记作Y,则根据Y+Y'=1可知，其余一部分(卡诺图中填入0的那
些最小项)之和必为Y'。
在多变量逻辑函数的卡诺图中，当0的数目远小于1的数目时，采用合并0
的方法有时会比合并1来得简单。例如，在图2.6.6所示的卡诺图中，如果将0
48 第二章 逻辑代数基础
合并，则可立即写出
Y'=A'D,Y=((Y'))'=(A'D)'=A+D'
与合并1得到的化简结果一致。
此外，在需要将函数化为最简的与或非式时，采用合并0的方式最为适宜，
因为得到的结果正是与或非形式。如果要求得到Y'的化简结果，则采用合并0
的方式就更简便了。
*2.6.3 奎恩-麦克拉斯基化简法(Q-M法)
从上一小节的内容中不难看出，虽然卡诺图化简法具有直观、简单的优点，
但它同时又存在着很大的局限性。首先，在函数的输入逻辑变量较多时(例如
大于5以后),便失掉了直观的优点。其次，在许多情况下要凭设计者的经验确
定应如何合并最小项才能得到最简单的化简结果，因而不便于借助计算机完成
化简工作。
公式化简法的使用虽然不受输入变量数目的影响，但由于化简的过程没有
固定的、通用的步骤可循，所以同样不适用于计算机辅助化简。
由奎恩(W.V.Quine)和麦克拉斯基(E.J.McCluskey)提出的用列表方式进
行化简的方法则有一定的规则和步骤可循，较好地克服了公式化简法和卡诺图
化简法在这方面的局限性，因而适用于编制计算机辅助化简程序。通常将这种
化简方法称为奎恩-麦克拉斯基法，简称Q-M法。
Q-M法的基本原理仍然是通过合并相邻最小项并消去多余因子而求得逻
辑函数的最简与或式。下面再结合一个具体的例子简要地介绍一下Q-M法的
基本原理和化简的步骤。
假定需要化简的五变量逻辑函数为
Y(A,B,C,D,E)=AB'CDE'+A'C'D'E'+A'B'C'D+A'BDE'
+BCDE+ABC'(D+E)' (2.6.3)
则使用Q-M法的化简步骤如下：
(1)将函数化为最小项之和形式，列出最小项编码表。
将式(2.6.3)化为最小项之和形式后得到
Y(A,B,C,D,E)=A'B'C'D'E'+A'B'C'DE'+A'B'C'DE+A'BC'D'E'
+A'BC'DE'+A'BCDE'+A'BCDE+AB'CDE'+ABC'D'E'
+ABC'DE+ABCDE
=∑m(0,2,3,8,10,14,15,22,24,27,31)(2.6.4)
用1表示最小项中的原变量，用0表示最小项中的反变量，就得到了表
2.6.1所示的最小项编码表。
2.6 逻辑函数的化简方法 49
表2.6.1 式(2.6.4)最小项的编码表
最小项 0 2 3
编号 8 10 14
代码 00000 00010 00011 01000 01010 01110
最小项 15 22 24 编号 27 31
代码 01111 10110 11000 11011 11111
(2)按包含1的个数将最小项分组，如表2.6.2中最左边一列所示。
表2.6.2 列表合并最小项
合并前的最小项 第一次合并结果
(含n-1个变量的乘积项)
编号 A B C D E
0√
—
0,2 000
0,8 0 0 0
2,3 P?
2,10 0
8,10 —0√
8,24 00 P?
10,14 0 1 -1 0 P?
15,31-1111 P?
14,15 01 1 1-P?
第二次合并结果
(∑m:) (含n-2个变量的乘积项)
编号 A B C D E 编号 A B C D E
0 00000
2 00 8,10} 0—0 —0 P?
8 01 0,8
3 00 0 2,10
0-0 0 P?
10 01
24 11 01 14
22 10 11 0 1:11
1
P?
31
(3)合并相邻的最小项。
将表2.6.2中最左边一列里每一组的每一个最小项与相邻组里所有的最小
项逐一比较，若仅有一个因子不同，则定可合并，并消去不同的因子。消去的因
子用“—”号表示，将合并后的结果列于表2.6.2的第二列中。同时，在第一列
中可以合并的最小项右边标以“√”号。
按照同样的方法再将第二列中的乘积项合并，合并后的结果写在第三列中。
如此进行下去，直到不能再合并为止。
(4)选择最少的乘积项。
50 第二章 逻辑代数基础
只要将表2.6.2中合并过程中没有用过的那些乘积项相加，自然就包含了
函数Y的全部最小项，故得
Y(A,B,C,D,E)=P,+P?+P?+P?+P?+P?+P,+P?(2.6.5)
然而，上式并不一定是最简的与或表达式。为了进一步将式(2.6.5)化简，
将P?~P?各包含的最小项列成表2.6.3。因为表中带圆圈的最小项仅包含在
一个乘积项中，所以化简结果中一定包含它们所在的这些乘积项，即P?、P?、P?、
P,和P?。而且，选取了这五项之和以后，已包含了除m?和m?5以外所有Y的最
小项。
表2.6.3 用列表法选择最少的乘积项
m: 0 2 3 8 10 14 15 22 24 27
①
1 ①
1 ①
1 1
1 1
1
①
① 1 1 1
31
P,
P,
P?
P?
P?
P?
P? 1
P? 1
P?
剩下的问题就是要确定化简结果中是否应包含Pa、P?和P?了。为此，可将
表2.6.3中有关P?、P?、P?的部分简化成表2.6.4的形式。
表 2.6.4 表2.6.3的P?、P?、P?部分
m; 14
1
15
P,
P?
P? 1 1
P? 1
由表2.6.4中可以看到，P?行所有的1和P?行所有的1皆与P?中的1重
叠，亦即P?中的最小项包含了P?和P?的所有最小项，故可将P?和P?两行删
掉。因此，可将式(2.6.5)中的P?和P?两项去掉，从而得到最后的化简结果
2.7 具有无关项的逻辑函数及其化简 51
Y(A,B,C,D,E)=P?+P?+P?+P?+P,+P?
=AB'CDE'+A'B'C'D+BC'D'E'
+A'BCD+ABDE+A'C'E' (2.6.6)
从上面的例子中可以看到，虽然Q-M法的化简过程看起来比较繁琐，但由
于它有确定的流程，适用于任何复杂逻辑函数的化简，这就为编制计算机辅助化
简程序提供了方便。因此，几乎很少有人用手工方法使用Q-M法去化简复杂
的逻辑函数，而是使用基于Q-M法的基本原理去编制各种计算机软件，然后在
计算机上完成逻辑函数的化简工作。
复习思考题
R2.6.1 卡诺图化简法所依据的基本原理是什么?
R2.6.2 卡诺图两侧变量取值的标注次序应遵守什么规则?
R2.6.3 Q-M法所依据的基本原理是什么?
R2.6.4 公式化简法、卡诺图化简法、Q-M化简法各有何优缺点?
2.7 具有无关项的逻辑函数及其化简
2.7.1 约束项、任意项和逻辑函数式中的无关项
在分析某些具体的逻辑函数时，经常会遇到这样一种情况，即输人变量的取
值不是任意的。对输入变量取值所加的限制称为约束。同时，将这一组变量称
为具有约束的一组变量。
例如，有三个逻辑变量A、B、C,它们分别表示一台电动机的正转、反转和停
止的命令，A=1表示正转，B=1表示反转，C=1表示停止。表示正转、反转和停
止工作状态的逻辑函数可写成
Y?=AB'C'(正转)
Y?=A'BC' (反转)
(停止) Y?=A'B'C
(2.7.1)
(2.7.2)
(2.7.3)
因为电动机任何时候只能执行其中的一个命令，所以不允许两个以上的变
量同时为1。ABC的取值只可能是001、010、100当中的某一种，而不能是000、
011、101、110、111中的任何一种。因此，A、B、C是一组具有约束的变量。
52 第二章 逻辑代数基础
通常用约束条件来描述约束的具体内容。显然，用上面的这样一段文字叙
述约束条件是很不方便的，最好能用简单、明了的逻辑语言表述约束条件。
由于每一组输入变量的取值都使一个、而且仅有一个最小项的值为1,所以
当限制某些输入变量的取值不能出现时，可以用它们对应的最小项恒等于0来
表示。这样，上面例子中的约束条件可以表示为
或写成
A'B'C'+A'BC+AB'C+ABC'+ABC=0
同时，将这些恒等于0的最小项称为函数Y、Y?和Y?的约束项。
在存在约束项的情况下，由于约束项的值始终等于0,所以既可以将约束项
写进逻辑函数式中，也可以将约束项从函数式中删掉，而不影响函数值。
有时还会遇到另外一种情况，就是在输入变量的某些取值下函数值是1还
是0皆可，并不影响电路的功能。在这些变量取值下，其值等于1的那些最小项
称为任意项。
我们仍以上面的电动机正转、反转和停止控制为例。如果电路设计成当A、
B、C三个控制变量出现两个以上同时为1或者全部为0时电路能自动切断供电
电源，那么这时Y、Y?和Y?等于1还是等于0已无关紧要，电动机肯定会受到
保护而停止运行。例如，当出现A=B=C=1时，对应的最小项ABC(m?)=1。
如果把最小项ABC写入Y式中，则当A=B=C=1时Y?=1;如果没有把ABC
这一项写入Y?式中，则当A=B=C=1时Y,=0。因为这时Y?=1还是Y?=0
都是允许的，所以既可以把ABC这个最小项写入Y,式中，也可以不写入。因
此，我们把ABC称为逻辑函数Y,的任意项。同理，在这个例子中A'B'C'、A'BC、
AB'C、ABC'也是Y?、Y?和Y?的任意项。
因为使约束项的取值等于1的输入变量取值是不允许出现的，所以约束项
的值始终为0。而任意项则不同，在函数的运行过程中，有可能出现使任意项取
值为1的输入变量取值。
我们将约束项和任意项统称为逻辑函数式中的无关项。这里所说的“无
关”是指是否把这些最小项写入逻辑函数式无关紧要，可以写入也可以删除。
上一节中曾经讲到，在用卡诺图表示逻辑函数时，首先将函数化为最小项之
和的形式，然后在卡诺图中这些最小项对应的位置上填入1,其他位置上填入0。
既然可以认为无关项包含于函数式中，也可以认为不包含在函数式中，那么在卡
2.7 具有无关项的逻辑函数及其化简 53
诺图中对应的位置上就可以填入1,也可以填入0。为此，在卡诺图中用×(或
?)表示无关项。在化简逻辑函数时既可以认为它是1,也可以认为它是0。
2.7.2 无关项在化简逻辑函数中的应用
化简具有无关项的逻辑函数时，如果能合理利用这些无关项，一般都可得到
更加简单的化简结果。
为达到此目的，加入的无关项应与函数式中尽可能多的最小项(包括原有
的最小项和已写入的无关项)具有逻辑相邻性。
合并最小项时，究竟把卡诺图中的×作为1(即认为函数式中包含了这个最
小项)还是作为0(即认为函数式中不包含这个最小项)对待，应以得到的相邻最
小项矩形组合最大、而且矩形组合数目最少为原则。
【例2.7.1】 化简具有约束的逻辑函数
Y=A'B'C'D+A'BCD+AB'C'D'
给定约束条件为
A'B'CD+A'BC'D+ABC'D'+AB'C'D+ABCD+ABCD'+AB'CD'=0
在用最小项之和形式表示上述具有约束的逻辑函数时，也可写成如下形式
Y(A,B,C,D)=∑m(1,7,8)+d(3,5,9,10,12,14,15)
式中以d表示无关项，d后面括号内的数字是无关项的最小项编号。
解：如果不利用约束项，则Y已无可化简。但适当地加进一些约束项以
后，可以得到
Y=(A'B'C'D+A'B'CD)+(A'BCD+A'BC'D)
约束项 约束项
+(AB'C'D'+ABC'D)+(ABCD'+AB'CD')
约束项 约束项 约束项
=(A'B'D+A'BD)+(AC'D'+ACD')
=A'D+AD'
可见，利用了约束项以后，使逻辑函数得以进一步化简。但是，在确定该写
入哪些约束项时尚不够直观。
如果改用卡诺图化简法，则只要将表示Y的卡诺图画出，就能从图上直观
地判断对这些约束项应如何取舍。
图2.7.1是例2.7.1的逻辑函数的卡诺图。从图中不难看出，为了得到最
大的相邻最小项的矩形组合，应取约束项m?、m?为1,与m?、m,组成一个矩形
组。同时取约束项m?0、m?2、m?4为1,与mg组成一个矩形组。将两组相邻的最
小项合并后得到的化简结果与上面推演的结果相同。卡诺图中没有被圈进去的
54 第二章 逻辑代数基础
约束项(m,和m?s)是当作0对待的。
【例2.7.2】试化简具有无关项的逻辑函数
Y(A,B,C,D)=∑m(2,4,6,8)+d(10,11,12,13,14,15)
解：画出函数Y的卡诺图，如图2.7.2所示。
由图可见，若认为其中的无关项m?0、m?2、m,4为1,而无关项m,?、m?3、m15为
0,则可将m?、m?、m?2和m?合并为BD',将mg、m10、m??和m合并为AD',将m?、
m?、m?0和m?4合并为CD',于是得到
Y=BD'+AD'+CD'
AD
CD
AB 00 01 11 10
00 0 1 × 0
CD
AB 00 01 11 10
01 0 × 1 0 00 0 0 0 1
11 × 0 × × 01 1 0 0 1
10 1 × 0 × 11 × × × ×
10 1 0 × × AD'
图2.7.1 例2.7.1的卡诺图 图2.7.2 例2.7.2的卡诺图
复习思考题
R2.7.1 什么是逻辑函数的约束项、任意项和逻辑函数式的无关项?
R2.7.2 将一个约束项写入逻辑函数式或不写入逻辑函数式，对函数的输出是否有影
响?将一个任意项写入逻辑函数式或不写入逻辑函数式，对函数的输出有无影响?
R2.7.3 怎样利用无关项才能得到更简单的逻辑函数化简结果?
*2.8 用Multisim 7进行逻辑函数的化简与变换
由于电子电路的复杂程度日益提高，更新速度越来越快，这就对设计工作的
自动化提出了迫切的要求。许多软件开发商、研究机构和集成电路制造商都投
入了大量的人力和经费，先后研制出了不少优秀的软件开发工具。其中包括用
*2.8 用Multisim 7进行逻辑函数的化简与变换 55
于电路性能和参数分析的、用于运行状态仿真的、用于集成电路芯片设计的、用
于可编程器件设计的以及用于印制电路板设计的等等。综合运用这些软件，就
可以在设计的全过程实现电子设计自动化(Electronic Design Automation,简称
EDA)。
Multisim 7就是其中比较受欢迎的一种，它是由加拿大IIT(Interactive Image
Technologies)公司推出的大型设计工具软件。它不仅提供了电路原理图输人和
硬件描述语言模型输入的接口和比较全面的仿真分析功能，同时还提供了一个
庞大的元、器件模型库和一整套虚拟仪表(其中包括示波器、信号发生器、万用
表、逻辑分析仪、逻辑转换器、字符发生器、波特图绘图仪、瓦特表等),可以满足
对一般的数字逻辑电路、模拟电路以及数字-模拟混合电路进行分析和设计的
需要。如果与该公司的Ultirouter 软件配合使用，还可以自动完成从电路原理图
输入直到印制电路板设计的全部设计过程。
Multisim 7另一个突出优点是用户界面友好、直观，使用非常方便。尤其对
于已经熟悉了Windows用法的读者，很容易掌握它的用法。
下面通过一个例子简单介绍一下如何使用Multisim 7中的“逻辑转换器”完
成逻辑函数的化简与变换。
【例2.8.1】 已知逻辑函数Y的真值表如表2.8.1所示，试用Multisim 7求
出Y的逻辑函数式，并将其化简为最简与或形式。
表2.8.1 例2.8.1的函数真值表
A B C D Y
0 0 0 0 0
0 0 0 1 1
0 0 1 0 0
0 0 1 1 ×
0 1 0 0 0
0 1 0 1 1
0 1 1 0 1
0 1 1 1 1
1 0 0 0 0
1 0 0 1 0
1 0 1 0 0
1 0 1 1 ×
56 第二章 逻辑代数基础
续表
A B C D Y
1 1 0 0 ×
1 1 0 1 0
1 1 1 0 ×
1 1 1 1 1
解：启动Multisim 7以后，计算机屏幕上将出现如图2.8.1所示的用户界
面。这时界面的窗口是空白的。在用户界面右侧的仪表工具栏中可以找到一个
“Logic Converter”(逻辑转换器)按钮。点击逻辑转换器按钮，屏幕上便出现如
图2.8.1所示窗口中左上方的逻辑转换器图标“XLC1”。双击这个图标，屏幕上
便弹出图中所示的逻辑转换器操作窗口“Logic converter-XLC1”。
将表2.8.1所示的真值表键入到逻辑转换器操作窗口左半部分的表格中，
然后点击逻辑转换器操作窗口右半部分的上边第二个按钮，即可完成从真值表
到逻辑式的转换。转换结果显示在逻辑转换器操作窗口底部一栏中，得到
Y(A、B、C、D)=A'B'C'D+A'BC'D+A'BCD'+A'BCD+ABCD(2.8.1)
由本例可知，从真值表转换来的逻辑式是以最小项之和形式给出的。
Multisim LCireuit1]
Ele Edi Mew Elace Simulate Transfer Iools Eaports Optians Window Help 一×
合A ?
林多繁即者因
4电。5
燃染然然影然繁然国 XLC1
AB
增命 然
事…念的 Cos
ra 然笙游誉慧籍整器
ASCB-A8CD+ABCD+ABCD+ABCD
Cros1
Cirasit modfied
图2.8.1 用Multisim 7的逻辑转换器实现真值表到逻辑式的转换
本 章 小 结 57
为了将式(2.8.1)化为最简与或形式，只需再点击逻辑转换器操作窗口右
半部分上边的第三个按钮，化简结果便立刻出现在操作窗口底部一栏中，如图
2.8.2所示。得到的化简结果为
Y(A、B、C、D)=A'D+BC
Logic Converter-XLC1
O O
A B
O O O
C D E F H G
Out 
000 001
002
003
004
005
繁警0
0
0
0
0
0
0
0
卷飨
必集
0 0 Corversions
0
0
0
0
0
X
0
D 101
复
006 米 0 美 101
一
AIB
007 0
008
009
0
0
0
0
0 0 101 IMP AIB
010
01 豢
0
0
0
0
0
X
AB →101
012
013 0
0
0
014
016 然承必象 柔s 然亲多多 0
X
0
X
AIB
AB →NAND
AD+BC
图2.8.2 用逻辑转换器化简式(2.8.1)的函数
从图2.8.2中还可以看到，利用逻辑转换器操作窗口中右半部分设置的六
个按钮，可以在逻辑函数的真值表、最小项之和形式的函数式、最简与或式以及
逻辑图之间任意进行转换。
本章小结
这一章所讲的内容主要是逻辑代数的公式和定理、逻辑函数的表示方法、逻
辑函数的化简方法这三部分。
为了进行逻辑运算，必须熟练掌握表2.3.1中的基本公式。至于表2.3.3
中的常用公式，完全可以由基本公式导出。尽管如此，掌握尽可能多的常用公式
仍然是十分有益的，因为直接引用这些公式能大大提高运算速度。
在逻辑函数的表示方法中一共介绍了五种方法，即真值表、逻辑函数式、逻
辑图、波形图和卡诺图。这几种方法之间可以任意地互相转换。根据具体的使
用情况，可以选择最适当的一种方法表示所研究的逻辑函数。
58 第二章 逻辑代数基础
逻辑函数的化简方法是本章的重点。本章一共介绍了三种化简方法——公
式化简法、卡诺图化简法和Q-M法。公式化简法的优点是它的使用不受任何
条件的限制。但由于这种方法没有固定的步骤可循，所以在化简一些复杂的逻
辑函数时不仅需要熟练地运用各种公式和定理，而且需要有一定的运算技巧和
经验。
卡诺图化简法的优点是简单、直观，而且有一定的化简步骤可循。初学者容
易掌握这种方法，而且化简过程中也易于避免差错。然而在逻辑变量超过5个
以上时，将失去简单、直观的优点，因而也就没有太大的实用意义了。
Q-M法的基本原理仍然是通过合并相邻最小项的方法化简逻辑函数。由
于Q-M法有一定的化简步骤，所以特别适合于机器运算。这种方法已被用于
编制数字电路的计算机辅助分析程序。
在设计数宇电路的过程中，有时由于受供货的限制只能选用某种逻辑功能
类型的器件，这时就需要将逻辑函数式变换为与之相应的形式。而在使用器件
的逻辑功能类型不受限制的情况下，为了减少所用器件的数目，往往不限于使用
单一逻辑功能的门电路。这时希望得到的最简逻辑式可能既不是单一的与或
式，也不是单一的与非式，而是一种混合的形式。因此，究竟将函数式化成什么
形式最为有利，还要根据选用哪些种类的电子器件而定。
目前一些比较流行的 EDA软件都具有自动化简和变换逻辑函数式的功能。
本章提到的Multisim 7就是其中的一种。利用这些软件，可以很容易地在计算
机上完成逻辑函数的化简或变换。
[题2.1] 试用列真值表的方法证明下列异或运算公式。
(1)A+0=A (2)A+1 =A'
(3)A+A=0 (4)A+A'=1
(5)(A+B)④C=A+(B+C) (6)A(B+C)=AB+AC
(7)A+B'=(A+B)'=A+B④1
[题2.2] 证明下列逻辑恒等式(方法不限)
(1)AB'+B+A'B=A+B
(2)(A+C')(B+D)(B+D')=AB+BC'
(3)((A+B+C')'C'D)'+(B+C')(AB'D+B'C')=1
(4)A'B'C'+A(B+C)+BC=(AB'C'+A'B'C+A'BC')'
[题2.3] 已知逻辑函数Y?和Y?的真值表如表P2.3(a)、(b)所示，试写出Y?和Y?的
逻辑函数式。
习题 59
表P2.3(a) 表P2.3(b)
A B C Y? A B C D Y?
0 0 0 1 0 0 0 0 0
0 0 1 1 0 0 0 1 1
0 1 0 0 0 0 1 0 1
0 1 1 0 0 0 1 1 0
1 0 0 1 0 1 0 0 1
1 0 1 1 0 1 0 1 0
1 1 0 0 0 1 1 0 0
1 1 1 1 0 1 1 1 1
1 0 0 0 1
1 0 0 1 0
1 0 1 0 0
1 0 1 1 1
1 1 0 0 0
1 1 0 1 1
1 1 1 0 1
1 1 1 1 0
[题2.4] 已知逻辑函数的真值表如表P2.4(a)、(b)所示，试写出对应的逻辑函数式。
表P2.4(a) 表P2.4(b)
A B C Y M N P Q Z
0 0 0 0 0 0 0 0 0
0 0 1 1 0 0 0 1 0
0 1 0 1 0 0 1 0 0
0 1 1 0 0 0 1 1 1
1 0 0 1 0 1 0 0 0
1 0 1 0 0 1 0 1 0
1 1 0 0 0 1 1 0 1
1 1 1 0 0 1 1 1 1
1 0 0 0 0
1 0 0 1 0
1 0 1 0 0
1 0 1 1 1
1 1 0 0 1
1 1 0 1 1
1 1 1 0 1
1 1 1 1 1
[题2.5] 列出下列逻辑函数的真值表。
60 第二章 逻辑代数基础
(1)Y?=A'B+BC+ACD'
(2)Y?=A'B'CD'+(B④C)'D+AD
[题2.6] 写出图P2.6(a)、(b)所示电路的输出逻辑函数式。
A-
A
B·
Y? Y?
B- C-
(a) (b)
图P2.6
[题2.7] 写出图P2.7(a)、(b)所示电路的输出逻辑函数式。
84 A Y? B C D- CD
E-
(a) (b)
图P2.7
[题2.8] 已知逻辑函数Y的波形图如图P2.8所示，试求Y的真值表和逻辑函数式。
A
o
B
t
ol
CA t
0A t
ol t
性
Y?
图P2.8
习题 61
[题2.9] 给定逻辑函数Y的波形图如图P2.9所示，试写出该逻辑函数的真值表和逻
辑函数式。
A?
0
A?
t
ol A?
t
0
A? t
9 t
t
O
图 P2.9
[题2.10] 将下列各函数式化为最小项之和的形式。
(1)Y=A'BC+AC+B'C (2)Y=AB'C'D+BCD+A'D
(3)Y=A+B+CD (4)Y=AB+((BC)'(C'+D'))'
(5)Y=LM'+MN'+NL' (6)Y=((AOB)(COD))'
[题2.11] 将下列各式化为最大项之积的形式。
(1)Y=(A+B)(A'+B'+C')
(2)Y=AB'+C
(3)Y=A'BC'+B'C+AB'C
(4)Y=BCD'+C+A'D
(5)Y(A,B,C)=∑m(1,2,4,6,7)
(6)Y(A,B,C,D)=∑m(0,1,2,4,5,6,8,10,11,12,14,15)
[题2.12] 将下列逻辑函数式化为与非-与非形式，并画出全部由与非逻辑单元组成
的逻辑电路图。
(1)Y=AB+BC+AC (2)Y=(A'+B)(A+B')C+(BC)'
(3)Y=(ABC'+AB'C+A'BC)' (4)Y=A(BC)'+((AB')'+A'B'+BC)'
[题2.13] 将下列逻辑函数化为或非-或非形式，并画出全部用或非逻辑单元组成的
逻辑电路图。
(1)Y= AB'C+BC'
(2)Y=(A+C)(A'+B+C')(A'+B'+C)
(3)Y=(ABC'+B'C)'D'+A'B'D
(4)Y=((CD')'(BC)'(ABC)'D')'
62 第二章 逻辑代数基础
[题2.14] 利用逻辑代数的基本公式和常用公式化简下列各式。
(1)ACD'+D' (2)AB'(A+B)
(3)AB'+AC+BC (4)AB(A+B'C)
(5)E'F'+E'F+EF'+EF (6)ABD+AB'CD'+AC'DE+A
(7)A'BC+(A+B')C (8)AC+BC'+A'B
[题2.15] 用逻辑代数的基本公式和常用公式将下列逻辑函数化为最简与或形式。
(1)Y=AB'+B+A'B
(2)Y=AB'C+A'+B+C'
(3)Y=(A'BC)'+(AB')'
(4)Y=AB'CD+ABD+AC'D
(5)Y=AB'(A'CD+(AD+B'C')')(A'+B)
(6)Y=AC(C'D+A'B)+BC((B'+AD)'+CE)'
(7)Y=AC'+ABC+ACD'+CD
(8)Y=A+(B+C')'(A+B'+C)(A+B+C)
(9)Y=BC'+ABC'E+B'(A'D'+AD)'+B(AD'+A'D)
(10)Y=AC+AC'D+AB'E'F+B(D+E)+BC'DE'+BC'D'E+ABE'F
[题2.16] 写出图P2.16中各卡诺图所表示的逻辑函数式。
CD
AB
A 00 01 1110 00
0 0 0 1 0 01
1| 1 1 0 1 11
10
(a)
CD CDE AB 00 01 11 10 AB 000001 011010 110 111 101 100
00 0 1 0 1 00
01 0 1 1 0 01
11 1 0 1 0 11
10 0 0 0 1 10
(c)
1 0 0 0 0 1 1 0
0 1 1 0 0 0 0 1
0 0 0 0 0 1 1 0
1 0 1 1 0 0 0 0
(d)
图P2.16
[题2.17] 用卡诺图化简法化简以下逻辑函数。
(1)Y=C+ABC
BC 00 01 11 10
1 0 0 1
0 1 0 0
0 0 1 0
1 0 0 1
(b)
A-
B
C-
D-
习题 63
(2)Y?=AB'C+BC+A'BC'D
(3)Y?(A,B,C)=∑m(1,2,3,7)
(4)Y?(A,B,C,D)=∑m(0,1,2,3,4,6,8,9,10,11,14)
[题2.18] 用卡诺图化简法将下列函数化为最简与或形式。
(1)Y=ABC+ABD+C'D'+AB'C+A'CD'+AC'D
(2)Y=AB'+A'C+BC+C'D
(3)Y=A'B'+BC'+A'+B'+ABC
(4)Y=A'B'+AC+B'C
(5)Y=AB'C'+A'B'+A'D+C+BD
(6)Y(A,B,C)=∑m(0,1,2,5,6,7)
(7)Y(A,B,C,D)=∑m(0,1,2,5,8,9,10,12,14)
(8)Y(A,B,C)=∑m(1,4,7)
[题2.19] 化简下列逻辑函数(方法不限)。
(1)Y=AB'+A'C+C'D'+D
(2)Y=A'(CD'+C'D)+BC'D+AC'D+A'CD'
(3)Y=((A'+B')D)'+(A'B'+BD)C'+A'C'BD+D'
(4)Y=AB'D+A'B'C'D+B'CD+(AB'+C)'(B+D)
(5)Y=(AB'C'D+AC'DE+B'DE'+AC'D'E)'
[题2.20] 写出图P2.20中各逻辑图的逻辑函数式，并化简为最简与或式。
A- A·
B-
-Y B
C· C Y,
A8
C
-Y?
图P2.20
Y
(a)
(c)
(b)
(d)
Y
-Y?
64 第二章 逻辑代数基础
[题2.21] 对于互相排斥的一组变量A、B、C、D、E、(即任何情况下，A、B、C、D、E不可能
有两个或两个以上同时为1),试证明AB'C'D'E'=A,A'BC'D'E'=B,A'B'CD'E'=C,A'B'C'DE'=D,
A'B'C'D'E=E。
[题2.22] 将下列具有约束项的逻辑函数化为最简与或形式。
(1)Y?=AB'C'+ABC+A'B'C+A'BC'
给定约束条件为A'B'C'+A'BC=0
(2)Y?=(A+C+D)'+A'B'CD'+AB'C'D,给定约束条件为AB'CD'+AB'CD+ABC'D'
+ABC'D+ABCD'+ABCD=0。
(3)Y3=CD'(A+B)+A'BC'+A'C'D,给定约束条件为AB+CD=0。
(4)Y?=(AB'+B)CD'+((A+B)(B'+C))',给定约束条件为
ABC+ABD+ACD+BCD=0。
[题2.23] 将下列具有无关项的逻辑函数化为最简的与或逻辑式。
(1)Y?(A,B,C)=∑m(0,1,2,4)+d(5,6)
(2)Y?(A,B,C)=∑m(1,2,4,7)+d(3,6)
(3)Y?(A,B,C,D)=∑m(3,5,6,7,10)+d(0,1,2,4,8)
(4)Y?(A,B,C,D)=∑m(2,3,7,8,11,14)+d(0,5,10,15)
[题2.24] 试证明两个逻辑函数间的与、或、异或运算可以通过将它们的卡诺图中对应
的最小项做与、或、异或运算来实现，如图P2.24所示。
[题2.25] 利用卡诺图之间的运算(参见上题)将下列逻辑函数化为最简与或式。
(1)Y=(AB+A'C+B'D)(AB'C'D+A'CD+BCD+B'C)
(2)Y=(A'B'C+A'BC'+AC)(AB'C'D+A'BC+CD)
(3)Y=(A'D'+C'D+CD')+(AC'D'+ABC+A'D+CD)
(4)Y=(A'C'D'+B'D'+BD)+(A'BD'+B'D+BCD')
[题2.26] 用Multisim 7求下列函数的反函数式，并将得到的函数式化简成最简与或
形式。
(1)Y=AB+C
(2)Y=(A+BC)C'D
(3)Y=((A+B')(A'+C))'AC+BC
(4)Y=((AB')'C+C'D)'(AC+BD)
(5)Y=AD'+A'C'+B'C'D+C
(6)Y=E'F'G'+E'F'G+E'FG'+E'FG+EF'G'+EF'G+EFG'+EFG
[题2.27] 用Multisim 7将下列逻辑函数式化为最简与或形式。
(1)Y(A,B,C,D)=((AB+B'D)(A'C')')'(CD'+AD)
(2)Y(A,B,C,D,E)=ABCD'E'+A'B'D'E+AC'DE+A'C(BE+(C'D)')'
(3)Y(A,B,C,D,E)=∑m(0,4,11,15,16,19,20,23,27,31)
(4)Y(A,B,C,D,E)=∑m(1,3,5,8,9,12,13,18,19,22,23,24,25,28,29)
(5)Y(A,B,C,D,E)=∑m(2,9,15,19,20,23,24,25,27,28)
+d(5,6,16,31)
习题65
m;
Y?
m2
Y?
m;+m2
Y=Y?+Y?
m?
Y?
mD
Y?
mim2
Y=Y·Y?
mn
Y?
m2
Y?
m田m2
Y=Y?田Y?
图P2.24
(6)Y(A,B,C,D,E)=∑m(1,4,5,8,9,10,13,14,19,20,22,23,26,28)
+d(0,11,12,18,30)
(7)Y(A,B,C,D,E,F)=∑m(0,4,8,11,12,15,16,17,20,21,27,31,32,36,59,63)
(8)Y(A,B,C,D,E,F)=∑m(3,7,9,11,13,15,16,19,27,29,31,41,43,45,47,48)
(9)Y(A,B,C,D,E,F)=∑m(8,9,12,14,15,19,20,23,24,29,36,41,42,51,52,57,58)
+d(3,6,21,22,33,34,35,49,50)
(10)Y(A,B,C,D,E,F)=∑m(0,4,9,11,15,25,27,31,32,41,45,53,59,63)
+d(13,29,36,43,47,57,61)
第三章
门 电 路
内容提要
本章系统地讲述了数字电路的基本逻辑单元电路——门电路
由于门电路中的二极管和三极管经常工作在开关状态，所以首先介绍了它们在开关
状态下的工作特性。然后，重点讨论了目前广泛使用的CMOS门电路和TTL门电路。对
于每一种门电路，除了讲解它们的工作原理和逻辑功能以外，还着重介绍了它们作为电子
器件的电气特性，特别是输入特性和输出特性，以便为实际使用这些器件打下必要的
基础。
3.1 概述
用以实现基本逻辑运算和复合逻辑运算的单元电路称为门电路。与上一章
里所讲的基本逻辑运算和复合逻辑运算相对应，常用的门电路在逻辑功能上有
与门、或门、非门、与非门、或非门、与或非门、异或门等几种。
在电子电路中.用高、低电平分别表示二值逻辑的1和0两种逻辑状态。获
得高、低输出电平的基本原理可以用图3.1.1中的两个电路说明。在图3.1.1
(a)所示的单开关电路中，当开关S断开时，输出电压v。为高电平(Vcc);而当S
接通以后.输出便为低电平(等于零)。开关S是用半导体三极管组成的。只要
能通过输入信号v?控制三极管工作在截止和导通两个状态，它们就可以起到图
中开关S的作用。
单开关电路的主要缺点是功耗比较大。当S导通使v。为低电平时，电源电
压全部加在电阻R上，消耗在R上的功率为V2n/R。为了克服这个缺点，将单开
关电路中的电阻用另外一个开关代替，就形成了图3.1.1.(b)所示的互补开关
3.1 概 述 67
Vcc Vcc
SR S?
vo 输入信号 V? 输出信号 输入信号 v? vo输出信号 s S?
(a) (b)
图3.1.1 用来获得高、低电平的基本开关电路
(a)单开关电路(b)互补开关电路
电路。在互补开关电路中，S?和S?两个开关虽然受同一个输入信号 v?控制，但
它们的开关状态是相反的。当v?使S?接通的同时，使S?断开，则v。为低电平；
当v?使S,接通的同时，使S?断开，则v。为高电平。因为无论 v。是高电平还是
低电平，S?和S?总有一个是断开的，所以流过S?和S?的电流始终为零，电
路的功耗极小。因此，这种互补式的开关电路在数字集成电路中得到了广
泛应用。
以高、低电平表示两种不同逻辑状态
时，有两种定义方法。如果以高电平表示 0
逻辑1,以低电平表示逻辑0,则称这种表
示方法为正逻辑。反之，若以高电平表示
逻辑0,而以低电平表示逻辑1,则称这种
表示方法为负逻辑，如图3.1.2所示。今
后除非特殊说明，本书中一律采用正
逻辑。
0 1
正逻辑 负逻辑
图3.1.2 正逻辑与负逻辑表示法 因为在实际工作时只要能区分出来
高、低电平就可以知道它所表示的逻辑状态了，所以高、低电平都有一个允许的
范围，如图3.1.2所示。正因为如此，在数字电路中无论是对元、器件参数精度
的要求还是对供电电源稳定度的要求，都比模拟电路要低一些。而提高数字电
路的运算精度可以通过增加数字信号的位数达到。
在最初的数字逻辑电路中，每个门电路都是用若干个分立的半导体器件和
电阻、电容连接而成的。不难想像，用这种单元电路组成大规模的数字电路是非
常困难的，这就严重地制约了数字电路的普遍应用。随着数字集成电路的问世
和大规模集成电路工艺水平的不断提高，今天已经能把大量的门电路集成在一
68 第三章 门电路
块很小的半导体芯片上，构成功能复杂的“片上系统”。这就为数字电路的应用
开拓了无限广阔的天地。
从制造工艺上可以将目前使用的数字集成电路分为双极型、单极型和混合
型三种。在数字集成电路发展的历史过程中，首先得到推广应用的是双极型的
TTL电路。
1961年美国得克萨斯仪器公司率先将数字电路的元、器件制作在同一硅片
上，制成了数字集成电路(Integrated Circuits,简称IC)。由于集成电路体积小、
重量轻、可靠性好，因而在大多数领域里迅速取代了分立器件组成的数字电路。
直到20世纪80年代初，这种采用双极型三极管组成的TTL型集成电路一直是
数字集成电路的主流产品。
然而，TTL电路也存在着一个严重的缺点，这就是它的功耗比较大。由于这
个原因，用TTL电路只能作成小规模集成电路(Small Scale Integration,简称SSI,
其中仅包含10个以内的门电路)和中规模集成电路(Medium Scale Integration,
简称MSI,其中包含10～100个门电路),而无法制作成大规模集成电路(Large
Scale Integration,简称 LSI,其中包含1000～10000个门电路)和超大规模集成电
路(Very Large Scale Integration,简称VLSI,其中包含10000个以上的门电路)。
CMOS集成电路出现于20世纪60年代后期，它最突出的优点在于功耗极低，所
以非常适合于制作大规模集成电路。随着CMOS制作工艺的不断进步，无论在
工作速度还是在驱动能力上，CMOS电路都已经不比TTL电路逊色。因此，
CMOS电路便逐渐取代 TTL电路而成为当前数字集成电路的主流产品。不过在
现有的一些设备中仍旧在使用TTL电路，所以掌握TTL电路的基本工作原理和
使用知识仍然是必要的。本章将重点介绍CMOS和TTL这两种目前使用最多
的数字集成门电路。
3.2 半导体二极管门电路
3.2.1 半导体二极管的开关特性
由于半导体二极管具有单向导电性，即外加正向电压时导通，外加反向电压
时截止，所以它相当于一个受外加电压极性控制的开关。用它取代图3.1.1中
的开关S,可以得到图3.2.1所示的二极管开关电路。
假定输入信号的高电平VH=Vcc,低电平V=0,并假定二极管D为理想开
关元件，即正向导通电阻为0,反向内阻为无穷大，则当v?=VH时，D截止，vo=
3.2 半导体二极管门电路 69
VoH=Vcc;而当v?=V=0时，D导通，vo=VoL=0。
因此，可以用v?的高、低电平控制二极管的开关状态，并在输出端得到相应
的高、低电平输出信号。
然而，我们在分析各种实际的二极管电路时发现，由于二极管的特性并不是
理想的开关特性，所以并不是任何时候都能满足上面对二极管特性所做的假定。
根据半导体物理理论得知，二极管的特性可以近似地用式(3.2.1)的PN 结方程
和图3.2.2所示的伏安特性曲线描述，即
i=Is(e”VT-1) (3.2.1)
v?=g 这里的k为 其中i为流过二极管的电流，v 为加到二极管两端的电压，
玻尔兹曼常数，T为热力学温度，q为电子电荷。n是一个修正系数。对于一般
分立器件二极管的缓变结，n≈2;而对于一般数字集成电路中的PN 结，n≈1。
常温下(即结温为27℃,T=300 K)VT≈26 mV。式中的Is称为反向饱和电流，
它和二极管的材料、工艺和几何尺寸有关，对每只二极管是一个定值。
由式(3.2.1)和图3.2.2所示的曲线不难看出，实际的半导体二极管反向
电阻不是无穷大，正向电阻也不是0。而且，电压和电流之间是非线性关系。此
外，由于存在着PN 结表面的漏电阻以及半导体的体电阻，所以真正的二极管的
伏安特性与式(3.2.1)所给出的曲线略有差异。即使是同一型号、同一工厂生
产的二极管，也不可能每只的特性都完全一致。
Vcc i
SR
D
十 +
V? vo
0 V
图3.2.1 二极管开关电路 图 3.2.2 二极管的伏安特性
在分析二极管组成的电路时，虽然可以选用精确的二极管模型电路并通过
计算机辅助分析求出准确的结果，然而在多数情况下，需要通过近似的分析迅速
判断二极管的开关状态。为此，必须利用近似的简化特性，以简化分析和计算
过程。
图3.2.3给出了二极管的三种近似的伏安特性曲线和对应的等效电路。
当外电路的等效电源Vcc和等效电阻R?都很小时，二极管的正向导通压降
—
—-
70 第三章 门电路
十 v
十 i
Vcc SRL
i i i
△v r=
△i
o 0 0
v V V
Von Von
rD Von Yon
W 十
(a) (b) (c)
图3.2.3 二极管伏安特性的几种近似方法
和正向电阻都不能忽略，这时可以用图3.2.3(a)中的折线作为二极管的近似特
性，并得到如图3.2.3(a)中所示的等效电路。
当二极管的正向导通压降和外加电源电压相比不能忽略，而与外接电阻相
比二极管的正向电阻可以忽略时，可采用图3.2.3(b)中所示的近似特性和等效
电路。当加到二极管两端的电压小于Von时，流过二极管的电流近似地看作为
0。当外加电压大于VoN以后，二极管导通，而且电流增加时二极管两端的电压
基本不变，仍等于VoN。在下面将要讨论到的开
关电路中，多数都符合这种工作条件(即外加电
源电压较低而外接电阻较大),因此经常采用这
种近似方法。
v
O t
当二极管的正向导通压降和正向电阻与
电源电压和外接电阻相比均可忽略时，可以
将二极管看作理想开关，用图3.2.3(c)中与
坐标轴重合的折线近似代替二极管的伏安特
性。
i
0 t
在动态情况下，亦即加到二极管两端的
电压突然反向时，电流的变化过程如图3.2.4
所示。由于外加电压由反向突然变为正向 图3.2.4 二极管的动态电流波形
3.2 半导体二极管门电路 71
时，要等到PN结内部建立起足够的电荷梯度后才开始有扩散电流形成，因
而正向导通电流的建立要稍微滞后一点。当外加电压突然由正向变为反向
时，因为PN结内尚有一定数量的存储电荷，所以有较大的瞬态反向电流流
过，如图3.2.4所示。随着存储电荷的消散，反向电流迅速衰减并趋近于稳
态时的反向饱和电流。瞬态反向电流的大小和持续时间的长短取决于正向
导通时电流的大小、反向电压和外电路电阻的阻值，而且与二极管本身的特
性有关。
反向电流持续的时间用反向恢复时间tr来定量描述。t.是指反向电流从它
的峰值衰减到峰值的十分之一所经过的时间。由于tr的数值很小，在几纳秒以
内，所以用普通的示波器不容易看到反向电流的瞬态波形。
复习思考题
R3.2.1 为什么在图3.2.3中给出了三种不同形式的二极管等效电路?它们各适用于
什么场合?
3.2.2 二极管与门
最简单的与门可以用二极管和电阻组成。图3.2.5所示是有两个输入端的
与门电路，图中A、B为两个输入变量， Vcc
Y为输出变量。 SR
设Vcc=5V,A、B输入端的高、低
电平分别为VIH=3V,VI=0V,二极
管 D?、D?的正向导通压降VDF =
D?
A- Y
B
A-
B· -Y
0.7V。由图可见，A、B当中只要有一
个是低电平0V,则必有一个二极管导
D?
通，使Y为0.7V。只有A、B同时为高
电平3V时，Y才为3.7V。将输出与
输入逻辑电平的关系列表，即得表
图3.2.5 二极管与门
2.3.1。
如果规定3V以上为高电平，用逻辑1表示；0.7V以下为低电平，用逻辑0
表示，则可将表3.2.1改写成表3.2.2的真值表。显然，Y和A、B是与逻辑关
系。通常也用与逻辑运算的图形符号作为与门电路的逻辑符号。
72 第三章 门电路
表3.2.1 图3.2.5所示电路的逻辑电平 表3.2.2 图3.2.5所示电路的真值表
A/V B/V
0
3
0
3
Y/V A B Y
0 0.7 0 0
1
0
1
0
0 0.7 0 0
3 0.7 1 0
3 3.7 1 1
这种与门电路虽然很简单，但是存在着严重的缺点。首先，输出的高、低电
平数值和输入的高、低电平数值不相等，相差一个二极管的导通压降。如果把这
个门的输出作为下一级门的输入信号，将发生信号高、低电平的偏移。其次，当
输出端对地接上负载电阻时，负载电阻的改变有时会影响输出的高电平。因此，
这种二极管与门电路仅用作集成电路内部的逻辑单元，而不用它直接去驱动负
载电路。
3.2.3 二极管或门
最简单的或门电路如图3.2.6所示，它也是由二极管和电阻组成的。图中
A、B是两个输入变量，Y是输出变量。
若输人的高、低电平分别为VH=3V、
V=0V,二极管 D?、D?的导通压降为
D?
A·
0.7V,则只要A、B当中有一个是高电平，输
出就是2.3V。只有当A、B同时为低电平
时，输出才是0V。因此，可以列出表3.2.3
的电平关系表。如果规定高于2.3V为高
电平，用逻辑1表示；而低于0V为低电
平，用逻辑0表示，则可将表3.2.3改写
Y A- —Y B— B
D?
SR
图3.2.6 二极管或门
为表3.2.4所示的真值表。显然，Y和A、B之间是或逻辑关系。
表3.2.3 图3.2.6所示电路的逻辑电平 表3.2.4 图3.2.6所示电路的真值表
A/V B/V Y/V A B Y
0 0
3
0
3
0 0 0
1
0
1
0
0 2.3 0 1
3 2.3 1 1
3 2.3 1 1
二极管或门同样存在着输出电平偏移的问题，所以这种电路结构也只用于
集成电路内部的逻辑单元。可见，仅仅用二极管门电路无法制作具有标准化输
i
3.3 CMOS门电路73
出电平的集成电路。
复习思考题
R3.2.2 为什么不宜将多个二极管门电路串联起来使用?
3.3 CMOS 门电路
3.3.1 MOS 管的开关特性
在CMOS集成电路中，以金属一氧化物-半导体场效应晶体管(Metal Oxide -Semiconductor Field-Effect Transistor,简称MOS管)作为开关器件。
一、MOS 管的结构和工作原理
图3.3.1所示是MOS管的结构示意图和符号。在P型半导体衬底(图中用
B标示)上，制作两个高掺杂浓度的N型区，形成MOS管的源极S(Source)和漏
极D(Drain)。第三个电极称为栅极G(Gate),通常用金属铝或多晶硅制作。栅
极和衬底之间被二氧化硅绝缘层隔开，绝缘层的厚度极薄，在0.1 μm 以内。
VDs +! IiD
VGs+
一
S G D
SiO? 标准符号 简化符号
D D
N+ N+ -B G
G-
P型衬底(B) S S
图3.3.1 MOS管的结构和符号
如果在漏极和源极之间加上电压vps,而令栅极和源极之间的电压VGs=0,
则由于漏极和源极之间相当于两个 PN 结背向地串联，所以D-S间不导通，
ip=0。
当栅极和源极之间加有正电压vcs,而且vcs大于某个电压值VGS(h)时，由于
栅极与衬底间电场的吸引，使衬底中的少数载流子——电子聚集到栅极下面的
74 第三章 门电路
衬底表面，形成一个N型的反型层。这个反型层就构成了D-S间的导电沟道，
于是有ip流通。Vcs(h)称为MOS管的开启电压。因为导电沟道属于N型，而且
在vGs=0时不存在导电沟道，必须加以足够高的栅极电压才有导电沟道形成，
所以将这种类型的MOS管称为N沟道增强型MOS管。
随着vcs的升高，导电沟道的截面积也将加大，ip增加。因此，可以通过改变
vcs控制ip的大小。
为防止有电流从衬底流向源极和导电沟道，通常将衬底与源极相连，或将衬
底接到系统的最低电位上。
二、MOS 管的输入特性和输出特性
若以栅极-源极间的回路为输入回路，以漏极-源极间的回路为输出回路，
则称为共源接法，如图3.3.2(a)所示。由图3.3.1可见，栅极和衬底间被二氧
化硅绝缘层所隔离，在栅极和源极间加上电压vcs以后，不会有栅极电流流通，可
以认为栅极电流等于零。因此，就不必要再画输入特性曲线来表示了。
ip
ip 十 5V
VDs 十 4V
VGs 32
O VDs
(a) (b)
图3.3.2 MOS管共源接法及其输出特性曲线
(a)共源接法(b)输出特性曲线
图3.3.2(b)给出了共源极接法下的输出特性曲线。这个曲线又称为MOS
管的漏极特性曲线。
漏极特性曲线分为三个工作区。当vcs<VGs(h)时，漏极和源极之间没有导
电沟道，ip≈0。这时D-S间的内阻非常大，可达10?Ω以上。因此，将曲线上
vcs<Vcs(h)的区域称为截止区。
当vcs>Vcsc)以后，D-S间出现导电沟道，有i。产生。曲线上vcs>VcS(h)
的部分又可分成两个区域。
图3.3.2(b)所示漏极特性上虚线左边的区域称为可变电阻区。在这个区
域里，当vcs一定时，ip与vos之比近似地等于一个常数，具有类似于线性电阻的
性质。等效电阻的大小和vcs的数值有关。在vps≈0时，MOS导通电阻Ron和
3.3 CMOS门电路 75
vcs的关系由下式给出
Ro=2K(vos-Vs) (3.3.1)
上式表明，在vcs>>Vcs(h)的情况下，RoN近似地与vcs成反比。为了得到较
小的导通电阻，应取尽可能大的vcs值。
图3.3.2(b)中漏极特性曲线上虚线以右的区域称为恒流区。恒流区里漏
极电流i词的大小基本上由vcs决定，vps的变化对io的影响很小。io与vcs的关系
由下式给出
o=1m(s-1) (3.3.2) ip
其中Ips是vcs=2VGS(th)时的ip值。
不难看出，在vcs>>Vcs(h)的条件下，ip近
似地与v2Cs成正比。表示ip与vcs关系的曲线称
为MOS 管的转移特性曲线，如图3.3.3所示。
这条曲线也可以从漏极特性曲线做出。在恒流
区中vps为不同数值时对转移特性的影响不大。
0 Vos(L) VGs
图3.3.3 MOS管
三、MOS 管的基本开关电路 的转移特性曲线
以 MOS管取代图3.1.1(a)中的开关 S,便得到了图3.3.4所示的MOS管
开关电路。
VoD
Yoo 人以 Rp
Ro
W
SVGs G D
D +
N N+
+
G
lip vo
V1 S P(B)
图3.3.4 MOS管的基本开关电路
当v?=vcs<Vcs(h)时，MOS 管工作在截止区。只要负载电阻R,远远小于
MOS管的截止内阻RoFF,在输出端即为高电平VoH,且VoH≈VDD。这时MOS管
的D-S间就相当于一个断开的开关。
当v?>VGs(ch)并且在vps较高的情况下，MOS管工作在恒流区，随着 v?的升
高io增加，而vo随之下降。由于io与v?变化量之比不是正比关系，所以v?为
76 第三章 门电路
不同数值下△v。与△v?之比(即电压放大倍数)也不是常数。这时电路工作在放
大状态。
当 v?继续升高以后，MOS管的导通内阻RoN变得很小(通常在1kΩ以内，有
的甚至可以小于10Ω),只要Rp>>RoN,则开关电路的输出端将为低电平VoL,
且VoL≈0。这时MOS管的D-S间相当于一个闭合的开关。
综上所述，只要电路参数选择得合理，就可以做到输入为低电平时MOS 管
截止，开关电路输出高电平；而输入为高电平时MOS管导通，开关电路输出低
电平。
四、MOS 管的开关等效电路
由于MOS管截止时漏极和源极之间的内阻RoFr非常大，所以截止状态下的
等效电路可以用断开的开关代替，如图3.3.5(a)所示。MOS管导通状态下的内
阻RoN约在1 kΩ以内，而且与vcs的数值有关。因为这个电阻阻值有时不能忽
略不计，所以在图 3.3.5(b)导通状态的等效电路中画出了导通电阻RONo
D D
G· G·
C?: C: RoN
S S
(a) (b)
图3.3.5 MOS管的开关等效电路
(a)截止状态(b)导通状态
图中的C?代表栅极的输入电容。C?的数值约为几皮法。由于开关电路的
输出端不可避免地会带有一定的负载电容，所以在动态工作情况下(即v?在高、
低电平间跳变时),漏极电流io的变化和输出电压vps的变化都将滞后于输入电
压的变化。
五、MOS管的四种类型
1.N沟道增强型
前面已经提及，图 3.3.1中的MOS管属于N沟道增强型。这种类型的
MOS管采用P型衬底，导电沟道是N型。在vcs=0时没有导电沟道，开启电压
Ves)为正。工作时使用正电源，同时应将衬底接源极或者接到系统的最低电位
上。
在图3.3.1给出的符号中，用D-S间断开的线段表示Vcs=0时没有导电
3.3 CMOS门电路 77
沟道，即MOS管为增强型。衬底B上的箭头指向MOS管内部，表示导电沟道为
N型。栅极引出端画在靠近源极一侧。
2.P沟道增强型
图3.3.6是P沟道增强型MOS管的结构示意图和符号。它采用N型衬底，
导电沟道为P型。Vcs=0时不存在导电沟道，只有在栅极上加以足够大的负电
压时，才能把N型衬底中的少数载流子——空穴吸引到栅极下面的衬底表面，
形成P型的导电沟道。因此，P沟道增强型MOS管的开启电压VGS(th)为负值。
这种MOS管工作时使用负电源，同时需将衬底接源极或接至系统的最高电
位上。
+ VDs 标准符号 简化符号
+Vgs- SiO? D D
P+ p+ B G· G N型衬底(B) S S
图3.3.6 P沟道增强型MOS管的结构与符号
P沟道增强型MOS管的符号如图3.3.6中所示，其中衬底上指向外部的箭
头表示导电沟道为P型。
图3.3.7是P沟道增强型MOS管的漏极特性。用P沟道增强型MOS管接
成的开关电路如图3.3.8所示。当v?=0时，MOS管不导通，输出为低电平VoLo
只要Rp远小于MOS管的截止内阻ROFF,则VoL≈-VDDo
ip
-2V 0 VDs ip
十
-3V
UDs
-4V 十
VGs VGs=-5V
图3.3.7 P沟道增强型MOS管的漏极特性
当 v?<VGs(th)时，MOS管导通，输出为高电平VoH。只要R。远大于MOS管
的导通内阻RoN,则VoH≈0。
i
78 第三章 门电路
3.N沟道耗尽型
N沟道耗尽型MOS管的结构形式与N沟道增强型MOS管的相同，都采用
P型衬底，导电沟道为N型。所不同的是在耗尽 -DD
型MOS管中，栅极下面的二氧化硅绝缘层中掺进 SRp 了一定浓度的正离子。这些正离子所形成的电场
+ 足以将衬底中的少数载流子——电子吸引到栅极
下面的衬底表面，在D-S间形成导电沟道。因 vo ]io 此，在vcs=0时就已经有导电沟道存在了。vcs为 十
v? 正时导电沟道变宽，ip 增大；vcs为负时导电沟道 二
变窄，ip减小。直到vcs小于某一个负电压值
VGs(or)时，导电沟道才消失，MOS管截止。VGS(ff)
图3.3.8 用P沟道增强型 称为N沟道耗尽型MOS管的夹断电压。 MOS管接成的开关电路 图3.3.9是N沟道耗尽型MOS管的符号，图
中D-S间是连通的，表示vcs=0时已有导电沟道存在。其余部分的画法和增强
型MOS管相同。
在正常工作时，N沟道耗尽型MOS管的衬底同样应接至源极或系统的最低
电位上。
4.P沟道耗尽型
P沟道耗尽型MOS管与P沟道增强型MOS管的结构形式相同，也是N型
衬底，导电沟道为P型。所不同的是在P沟道耗尽型MOS管中，vcs=0时已经
有导电沟道存在了。当vcs为负时导电沟道进一步加宽，ip的绝对值增加；而vcs
为正时导电沟道变窄，ip的绝对值减小。当vcs的正电压大于夹断电压VGs(of)
时，导电沟道消失，管子截止。
图3.3.10是P沟道耗尽型MOS管的符号。工作时应将它的衬底和源极相
连，或将衬底接至系统的最高电位上。
简化符号 标准符号
D
标准符号 简化符号
D
D
-B G G- s
S
D
B
G
G
S
S
图3.3.9 N沟道耗尽
型MOS管的符号
图3.3.10 P沟道耗尽
型MOS管的符号
四种类型MOS管的比较见表3.3.1。
3.3 CMOS门电路 79
表 3.3.1 四种类型MOS管的比较
MOS管
类型
衬底
材料
导电
沟道
开启
电压
夹断
电压
电压极性
标准符号
Vps VGs
P型 N型 + + +
JD
-B
G
ls
N型 P型
一 D
-B
G
ls
P型 N型 + ±
JD
B
G-
ls
N型 P型 +
一
干
JD
B
G-
ls
简化符号
N沟道
D
增强型
G-
S
D
P沟道
增强型
G-
S
N沟道
D
耗尽型
G-
S
P沟道
D
耗尽型
G-
S
复习思考题
R3.3.1 在什么条件下才可以将图3.3.4中的MOS管近似地看作一个理想开关?
R3.3.2 N沟道增强型MOS管和P沟道增强型 MOS管在导通状态下Vcs和Vps的极性
有何不同?
R3.3.3 什么是开启电压Vcs(h)?什么是夹断电压 VGS(cr)?
3.3.2 CMOS反相器的电路结构和工作原理
CMOS反相器的电路结构是CMOS电路的基本结构形式。同时，CMOS反
相器和下面将会介绍到的CMOS传输门又是构成复杂CMOS逻辑电路的两种基
本模块。因此，我们需要对CMOS反相器做比较全面和深入的分析。
一、CMOS反相器的电路结构
CMOS反相器的基本电路结构形式为图3.3.11所示的有源负载反相器，其
中T?是P沟道增强型MOS管，T?是N沟道增强型MOS管。
80 第三章 门电路
如果T,和T?的开启电压分别为VGs(h)p和VcS(h)N,同时令VDp>VGS(h)N
+|VGS(th)P|,那么当v?=V=0时，有
-<w ol(且为负)
V? yo
+VDD
S? G? D? D? G? S? VDD T?
io
P+ N+ N+ P+ P+ N+
v? Vo
P阱
N型衬底 T? Vss
(a) (b)
图3.3.11 CMOS反相器
(a)结构示意图(b)电路图
故T?导通，而且导通内阻很低(在|vcs足够大时可小于1 kΩ);而T?截止，内
阻很高(可达10?~10?Ω)。因此，输出为高电平Vo,且VoH≈VDp。
当v?=VoH=VDp时，则有
=o<Yo
故T,截止而T?导通，输出为低电平VoL,且VoL≈0。
可见，输出与输入之间为逻辑非的关系。正因为如此，通常也将非门称为反
相器(Inverter)。
无论 v?是高电平还是低电平，T?和T?总是工作在一个导通而另一个截止
的状态，即所谓互补状态，所以把这种电路结构形式称为互补对称式金属-氧化
物-半导体电路(Complementary -Symmetery Metal-Oxide-Semiconductor Cir cuit,简称CMOS电路)。
由于静态下无论 v?是高电平还是低电平，T?和T?总有一个是截止的，而且
截止内阻又极高，流过T,和T?的静态电流极小，因而CMOS反相器的静态功耗
极小。这是CMOS电路最突出的一大优点。
二、电压传输特性和电流传输特性
在图3.3.11(b)所示的 CMOS反相器电路中，设Vop>VGs(h)N+|VGs(t)p|,
3.3 CMOS门电路 81
且VGS(h)N=|VGS(th)P,T,和T?具有同样的导通内阻RoN和截止内阻Ror,则输
出电压随输入电压变化的曲线，亦即电压传输特性如图3.3.12所示。
当反相器工作于电压传输特性的AB段
时，由于v?<VGS(th)N,而|vcs?|>|VGS(th)P,故
T,导通并工作在低内阻的电阻区，T?截止，
分压的结果使vo=VoH≈VDp。
vo
VoDA B
在特性曲线的CD段，由于v?>VDD-
|Vcs(h)p|,使|vcsl<|VGS(th)P,故T,截止。
而vcs?>VcS(h)N,T?导通。因此 vo=
立
VGs(mN
\VGs(mP
C D
0
VoL≈0。 oo VoD U?
在 BC 段，即VCS(th)N<v?<VDD VGS(th)P的区间里，vGs?>VGS(th)N、vGs>
VGS(h)P,T?和T?同时导通。如果T,和
图3.3.12 CMOS反相器的
电压传输特性
v?=2vo ,vo=2voD T?的参数完全对称，则 时两管的导通内阻相等 ,即工作于
电压传输特性转折区的中点。我们将电压传输特性转折区中点所对应的输入电
压称为反相器的阈值电压(threshold voltage),用VTH表示。因此，CMOS反相器
Va≈2vop。 的阈值电压为
从图3.3.12所示的曲线上还可以看到，CMOS反相器的电压传输特性上不
仅Vm=2vo,,而且转折区的变化率很大，因此它更接近于理想的开关特性。
图3.3.13所示为漏极电流随输入
电压而变化的曲线，即所谓电流传输特
性。这个特性也可以分成三个工作区。
在AB段，因为T?工作在截止状态，内阻
非常高，所以流过T,和T?的漏极电流
几乎等于零。
ip
Vos(N IVGsm)pl
在CD段，因为T?为截止状态，内阻
非常高，所以流过T,和T?的漏极电流
也几乎为零。
A B C D
0
o VDD vi
在特性曲线的BC段中，T,和T?同
时导通，有电流ip流过T?和T?,而且v?=
图3.3.13 CMOS反相器的
电流传输特性
2vm附近ip最大。考虑到CMOS电路的这一特点，在使用这类器件时不应使
82 第三章 门电路
之长期工作在电流传输特性的BC段(即VGS(h)N<v?<VDp-|VGS(h)P),以防止
器件因功耗过大而损坏。
三、输入端噪声容限
从图3.3.12所示的CMOS反相器电压传输特性上可以看到，当输入电压 v
偏离正常的低电平(VoL≈0)而升高时，输出的高电平并不立刻改变。同样，当输
入电压v?偏离正常的高电平(VoH≈VDD)而降低时，输出的低电平也不会立刻改
变。因此，在保证输出高、低电平基本不变(变化的大小不超过规定的允许限
度)的条件下，允许输入信号的高、低电平有一个波动范围，这个范围称为输入
端的噪声容限。
图3.3.14给出了噪声容限的计算方法。因为在将许多门电路互相连接组
成系统时，前一级门电路的输出就是后一级门电路的输入，所以根据输出高电平
的最小值VOH(min)和输入高电平的最小值VIH(min)便可求得输入为高电平时的噪
声容限为
1输出
DD
VOH(min) VNH 1输入
VIHKcmin)
-…0 VLCmax) VI
VL 0输入 VoLmm) 0V.
0输出
vo v?
图3.3.14 输入端噪声容限示意图
VNH=VOH(min)-VIH(min) (3.3.3)
同理，根据输出低电平的最大值VoL(max)和输入低电平的最大值VIL(max)可求
得输入为低电平时的噪声容限为
VNL=VL(max) -VoL(max) (3.3.4)
在CMOS门电路中，当负载为另外的门电路的情况下(负载电流几乎等于
零，相当于空载情况),规定VOH(min)=Vpp-0.1 V,VoL(max)=Vss+0.1V。Vss表示
i I
3.3 CMOS门电路 83
N沟道MOS管的源极电位。在这个源极接地(电源公共端)的情况下，VoL(max)=
0.1V。
测试结果表明，在输出高、低电平的变化不大于限定的10Vpo情况下，输
入信号高、低电平允许的变化量大于30mD。因此得到VNH=VNL=30mDo
可见，CMOS电路的噪声容限大小是和VDp有关的。VDp越高，噪声容限越大。图
3.3.15中给出了VNH和VNL随VDD变化的情况。
KH,V/V
Vo/V|
15 18
VL Vop=15V 15 VH
10 Vop=10V 12
VL 9
VH 5
6
0.3V
VH- 3
0
VNL
Vss+0.1V
5 10 15 V?/V 0 3 6 9 12 15 18 VDp/V
(a) (b)
图3.3.15 CMOS反相器输入噪声容限与Voo的关系
(a)不同VDD下的电压传输特性(b)VNH、VNL随Vop变化的曲线
3.3.3 CMOS反相器的静态输入特性和输出特性
为了正确地处理门电路与门电路、门电路与其他电路之间的连接问题，必须
了解门电路输入端和输出端的伏安特性，也就是通常所说的输入特性和输出特
性。
一、输入特性
所谓输人特性，是指从反相器输入端看进去的输入电压与输入电流的关系。
因为MOS管的栅极和衬底之间存在着以SiO?为介质的输入电容，而绝缘
介质又非常薄(约1000 A),极易被击穿(耐压约100 V),所以必须采取保护措
施。
在目前生产的CMOS集成电路中都采用了各种形式的输入保护电路，图
3.3.16所示的保护电路就是常用的两种。在74HC系列的CMOS器件中，多采
用图3.3.16(a)所示的输入保护电路。图中的D?和D?都是双极型二极管，它
们的正向导通压降VDF=0.5~0.7V,反向击穿电压约为30V。由于D?是在输
入端的N型扩散电阻区和P型衬底间自然形成的，是一种所谓分布式二极管结
84 第三章 门电路
构，所以在图3.3.16(a)中用一条虚线和两端的两个二极管表示。这种分布式
二极管结构可以通过较大的电流。Rs的阻值一般在1.5~2.5 kΩ之间。C,和
C?分别表示T,和T?的栅极等效电容。
VpD 输入保护电路 输入保护电路
Vpp
iC? D?Rs T? D ic
v? W
vG vo V?
Rs
W
T?
va}
Vo
本D? ic T? D? iC? T?
Vss Vss
(a) (b)
图3.3.16 CMOS反相器的输入保护电路
(a)74HC系列的输入保护电路(b)4000系列的输入保护电路
在输入信号电压的正常工作范围内(0≤v?≤VDo)输入保护电路不起作用。
若二极管的正向导通压降为VDF,则v?>VDp+Vpr时，D?导通，将T,和T?的
栅极电位 vc钳在Vop+VpF,保证加到C?上的电压不超过Vop+VDF。而当v?<
-0.7V时，D?导通，将栅极电位 vc钳在-Vp,保证加到C?上的电压也不会超
过Vop+VpF。因为多数 CMOS集成电路使用的Vop不超过18 V,所以加到C?和
C?上的电压不会超过允许的耐压极限。
在输入端出现瞬时的过冲电压使D?或D?发生击穿的情况下，只要反向击
穿电流不过大，而且持续时间很短，那么在反向击穿电压消失后D?和D?的PN
结仍可恢复工作。
当然，这种保护措施是有一定限度的。通过D?或D?的正向导通电流过大
或反向击穿电流过大，都会损坏输入保护电路，进而使MOS管栅极被击穿。因
此，在可能出现上述情况时，还必须采取一些附加的保护措施，并注意器件的正
确使用方法。
根据图3.3.16(a)所示的输入保护电路可以画出它的输入特性曲线，如图
3.3.17(a)所示。在-Vpp<v?<Vpp+Vr范围内，输入电流i?≈0。当v?>Voo+
Vop或者 v?<-Vp以后，i?的绝对值随v?绝对值的增加而迅速加大。电流的绝
对值将由输入信号的电压和内阻所决定。
图3.3.16(b)是另一种常见于4000系列CMOS 器件中的输入保护电路，它
的输入特性如图3.3.17(b)所示。这个电路同样能保证加到C?和C?上的电压
3.3 CMOS门电路 85
计 让
-0.7V -0.7V
0 VpD+0.7V Vr 0 Vpp+0.7V v1
(a) (b)
图3.3.17 CMOS反相器的输入特性
(a)图3.3.16(a)电路的输人特性(b)图3.3.16(b)电路的输人特性
不会超过VDD+VDF。
二、输出特性
从反相器输出端看进去的输出电压与输出电流的关系，称为输出特性。
1.低电平输出特性
当输出为低电平，即vo=VoL时，反相器的P沟道管截止、N沟道管导通，工
作状态如图3.3.18所示。这时负载电流Io从负载电路注入T?,输出电平随IoL
增加而提高，如图3.3.19所示。因为这时的VoL就是vps?、IoL就是i?,所以VoL
与Io的关系曲线实际上也就是T?管的漏极特性曲线。从曲线上还可以看到，
由于T?的导通内阻与vcs?的大小有关，Vcs?越大导通内阻越小，所以同样的Io值
下VDD越高，T?导通时的v s?越大，VoL也越低。
Ypp VoL
SR? lo!
T? VoL
VH=VDD Iio2 VDp=5V 10V 15V
0 IoL
图3.3.18 vo=VoL时CMOS
反相器的工作状态
图3.3.19 CMOS反相器的
低电平输出特性
2.高电平输出特性
当CMOS反相器的输出为高电平，即vo=VoH时，P沟道管导通而N沟道管
86 第三章 门电路
截止，电路的工作状态如图3.3.20所示。这时的负载电流IoH是从门电路的输
出端流出的，与规定的负载电流正方向相反，在图3.3.21所示的输出特性曲线
上为负值。
VoH
VDD
VDD
15V 10V Vpp=5V
Vn=0 T?
VoH
IoH SRL
0 loH
图3.3.20 vo=VoH时CMOS反相器
的工作状态
图3.3.21 CMOS反相器的
高电平输出特性
由图3.3.20可见，这时VoH的数值等于Vpp减去T?管的导通压降。随着负
载电流的增加，T?的导通压降加大，VoH下降。如前所述，因为MOS管的导通内
阻与vss大小有关，所以在同样的Io值下Voo越高，则T?导通时vcs?越负，它的导
通内阻越小，Von也就下降得越少，如图3.3.21所表示的那样。
以上分析说明，反相器输出的高、低电平是与负载电流的大小有关的。在查
阅器件手册给出的这些高、低电平数据时，一定要注意这些数据是在什么负载电
流下得出的。
复习思考题
R3.3.4 若将图3.3.16(a)所示反相器的输入端经过100kΩ电阻接地，这时输入端电
压 v?等于多少?
R3.3.5 若将图3.3.16(a)所示反相器的输入端悬空，这时输入端电压v,是多少?
3.3.4 CMOS反相器的动态特性
在CMOS 反相器的静态特性一节里，我们所讨论的是电路处于稳定状态下
的输入特性和输出特性。而动态特性所要讨论的是当电路状态转换过程中所表
现出来的一些性质。
3.3 CMOS门电路 87
一、传输延迟时间tpHL、tPLB
由于MOS管的电极之间以及电极与衬底之间都存在寄生电容，尤其在反相
器的输出端更不可避免地存在着负载电容(当负载为下一级反相器时，下一级
反相器的输人电容和接线电容就构成了这一级的负载电容),当输入信号发生
跳变时，输出电压的变化必然滞后于输入电压的变化。我们把输出电压变化落
后于输入电压变化的时间称为传输延迟时间，并且将输出由高电平跳变为低电
平时的传输延迟时间记做tpHL,将输出由低电平跳变为高电平时的传输延迟时
间记做tpLH。在CMOS电路中，tpHL和 tpLA是以输入和输出波形对应边上等于最
大幅度50??两点间时间间隔来定义的，如图3.3.22所示。因为CMOS电路
的tpHL和tpL通常是相等的，所以也经常以平均传输延迟时间 tp表示 tpHL和：tPLHo
VpD --VoH
V?— --50oH
VoL≈0
V· vo VOH
Vo- 50oH
CL -VoL≈0
tPHL tPLH
图3.3.22 CMOS反相器传输延迟时间的定义
一般情况下，tpHL、tpLA主要是由于负载电容的充放电所产生的，所以为了缩
短传输延迟时间，必须减小负载电容和MOS管的导通电阻。由式(3.3.1)可
知，为了减小 MOS管的导通电阻，应当尽可能地提高电源电压和输入信号的高
电平。
美国TI公司生产的74HC系列CMOS反相器74HCO4在VDp=5V、负载电
容CL=50 pF的条件下，td仅为9 ns。而改进系列的74AHCO4,t只有5ns。
二、交流噪声容限
如上所述，由于负载电容和MOS管寄生电容的存在，输入信号状态变化时
必须有足够的变化幅度和作用时间才能使输出改变状态。当输入信号为窄脉
冲，而且脉冲宽度接近于门电路传输延迟时间的情况下，为使输出状态改变，所
需要的脉冲信号幅度将远大于直流输入信号的幅度。因此，反相器对这类窄脉
冲的噪声容限——交流噪声容限远高于前面所讲过的直流噪声容限。而且，传
输延迟时间越长，交流噪声容限也越大。
由于传输延迟时间与电源电压和负载电容有关，所以交流噪声容限也受电
88 第三章门电路
源电压和负载电容的影响。图3.3.23所示的曲线表示了反相器74HC04在负
载电容不变的情况下VDp对交流噪声容限 VNA/V
影响的太致趋势。图中以VNA表示交流噪
5 声容限，以tw表示噪声电压的持续时间。
4 可以看出，噪声电压作用时间越短、电源电
压越高，则交流噪声容限越大。 3
三、动态功耗 2 Vpp=5V
当CMOS反相器从一种稳定工作状态
突然转变到另一种稳定状态的过程中，将
产生附加的功耗，我们称之为动态功耗。
1
VDD=3V
0 5 10 15 20 tw/ns
动态功耗由两部分组成，一部分是对
负载电容充、放电所消耗的功率Pc,另一
部分是由于两个MOS管T?和T?在短时间
内同时导通所消耗的瞬时导通功耗PT。
图3.3.23 CMOS反相器的交流
噪声容限
首先我们来计算负载电容充、放电的功耗Pc。在图3.3.24中，用CL表示
接到反相器输出端的所有电容，其中包括下一级门电路的输入电容、接线电容、
还可能有其他负载电路的电容等。
vrh
VpD
o
vo
t
T?
ip
V? vo
o
in
t
i
CL
T? o t
ip
0 t
图3.3.24 CMOS反相器对负载电容的充、放电电流波形
当输入电压由高电平跳变为低电平时，T,导通、T?截止，Vop经T?向CL充
3.3 CMOS门电路 89
电，产生充电电流ip。而当输入电压由低电平跳变为高电平时，T?导通、T,截
止，CL通过T?放电，产生放电电流in。根据图 3.3.24所示的波形可以写出in
和ip所产生的平均功耗为
Pc=贵。ivodt+ip(Voo-vo)d:]
而其中
=-c?d
=C?dw=-c?d(Y-)
故得到
Pc=[c-?+CL-(Vm-vo)d(Vo-vo)]
2vo+2v]
=C?fVpD (3.3.5)
f= 式中 为输入信号的重复频率。
式(3.3.5)说明，对负载电容充、放电所产生的功耗与负载电容的电容量、
信号重复频率以及电源电压的平方成正比。
下面再来计算瞬时导通功耗PT。如果取VDp>VGS(h)N+ |VcS(th)P|,Vm≈
Vpp、Vn≈0,那么当 v?从V过渡到VH和从VH过渡到VH的过程中，都将经过短
时间的Vcs(h)N<vc<VDp-|VcS(h)P的状态。在此状态下T,和T?同时导通，有
瞬时导通电流i流过T,和T?,如图3.3.25所示。
VG T VDD Vop-IVGs()pl
T? -VGs(hN
D?
v?- M
Rs |ir 0 t
VG i计本
vo
D?
…
T? 0 t?t? t?t4 t
图3.3.25 CMOS反相器的瞬时导通电流
90 第三章 门电路
从图3.3.25可以看出，瞬时导通功耗PT和电源电压VDp、输入信号v?的重
复频率f以及电路内部参数有关。PT的数值可以用下式计算
PT=CpnfVDD (3.3.6)
Cpp称为功耗电容，它的具体数值由器件制造商给出。需要说明的是Cpp并
不是一个实际的电容，而仅仅是用来计算空载(没有外接负载)瞬时导通功耗的
等效参数。而且，只有在输入信号的上升时间和下降时间小于器件手册中规定
的最大值时，Cpo的参数才是有效的。74HC系列门电路的Cpp数值通常为20 pF
左右。
总的动态功耗Pp应为Pc与PT之和，于是得到
PD=Pc+PT
=(CL+Cpp)fVpD (3.3.7)
CMOS反相器工作时的全部功耗PTOT应等于动态功耗Pp和静态功耗Ps之
和。前面已经讲过，静态下无论输入电压是高电平还是低电平，T,和T?总有一
个是截止的。因为T?或T?截止时的漏电流极小，所以这个电流产生的功耗可
以忽略不计。由图3.3.26可见，在实际的反相器电路中不仅有输入保护二极
管，还存在着寄生二极管(参阅图3.3.11(a)的结构图)。这些二极管的反向漏
电流比T?或T?截止时的漏电流要大得多，它们构成了电源静态电流的主要成
分。图3.3.26中用虚线标出了这些漏电流的流通路径。
VDD Vop
vr=0
…
RsW
本本
在本 Vo本 v?=VDD
…
Rs
W
去玄
本立
vo
(a) (b)
图3.3.26 CMOS反相器的静态漏电流
(a)v?=0(b)v?=VDD
因为这些二极管都是PN 结型的，它们的反相电流受温度影响比较大，所以
CMOS反相器的静态功耗也随温度的改变而变化。
静态功耗通常是以指定电源电压下的静态漏电流的形式给出。例如TI公
3.3 CMOS 门电路91
司生产的74HC系列CMOS反相器在常温(+25℃)下、VDD=6V时的静态电源
电流不超过0.33 μA。可见，在工作频率较高的情况下，CMOS反相器的动态功
耗要比静态功耗大得多，这时的静态功耗可以忽略不计。
【例3.3.1】计算CMOS反相器的总功耗PTOT。已知电源电压VDD=5V,
静态电源电流Ipp=1μA,负载电容CL=100 pF,功耗电容Cpp=20 pF。输入信
号近似于理想的矩形波，重复频率f=100 kHz。
解：因为输入信号接近于理想的矩形波，它的上升时间和下降时间一定比
手册上规定的输入电压的上升时间和下降时间短，所以瞬时导通功耗可以用式
(3.3.6)计算。
根据式(3.3.7)得到总的动态功耗为
PD =(CL+Cpp)f VpD
=(100+20)×10-12×100×103×52W=0.3mW
而静态功耗为
Ps=IppVpp=10-?×5W=0.005 mW
故得总的功耗PTOT为
PTor=Po+Ps=0.305 mW
从本例中还可以看出，一般情况下静态功耗远小于动态功耗，所以在计算总·
功耗PToT时经常可以忽略静态功耗而只计算动态功耗。
复习思考题
R3.3.6 CMOS电路的动态功耗和哪些电路参数有关?
R3.3.7 你能说明CMOS电路功耗电容的物理意义吗?
3.3.5 其他类型的CMOS门电路
一、其他逻辑功能的CMOS 门电路
在CMOS门电路的系列产品中，除反相器外常用的还有或非门、与非门、或
门、与门、与或非门、异或门等几种。
为了画图的方便，并能突出电路中与逻辑功能有关的部分，以后在讨论各种
逻辑功能的门电路时就不再画出每个输入端的保护电路了。
图3.3.27是CMOS与非门的基本结构形式，它由两个并联的P沟道增强型
MOS管T,、T?和两个串联的N沟道增强型MOS管T?、T?组成。
I
92 第三章 门电路
当A=1、B=0时，T?导通、T?截止，故Y=1。而当A=0、B=1时，T,导通、
T?截止，也使Y=1。只有在A=B=1时，T,和T?同时截止、T?和T?同时导通，
才有Y=0。因此，Y和A、B间是与非关系，即Y=(A·B)'。
图3.3.28是CMOS或非门的基本结构形式，它由两个并联的N沟道增强型
MOS管T?、T?和两个串联的P沟道增强型MOS管T?、T?组成。
在这个电路中，只要A、B当中有一个是高电平，输出就是低电平。只有当
A、B同时为低电平时，才使T?和T?同时截止、T?和T?同时导通，输出为高电
平。因此，Y和A、B间是或非关系，即Y=(A+B)'。
利用与非门、或非门和反相器又可组成与门、或门、与或非门、异或门等。例
如，在图3.3.27与非门的输出端再接入一级反相器，就得到了与门。
Vpp
VpD B
T?
T? T?
A
Y
T?
-Y
A
T?
T? T?
B· T?
图3.3.27 CMOS与非门 图3.3.28 CMOS或非门
图3.3.27所示的与非门电路虽然结构很简单，但也存在着严重的缺点。首
先，它的输出电阻R。受输入端状态的影响。假定每个MOS管的导通内阻均为
RoN,截止内阻RoF≈的，则根据前面对图3.3.27的分析可知：
若A=B=1,则R。=RoN?+RON?=2RoN;
若A=B=0,则R?=Roxn//Ros=Rox;
若A=1、B=0,则R。=RON?=RoN;
若A=0、B=1,则R。=RON=RONo
可见，输入状态的不同可以使输出电阻相差4倍之多。
其次，输出的高、低电平受输入端数目的影响。输入端数目越多，串联的驱
动管数目也越多，输出的低电平VoL也越高。而当输入全部为低电平时，输入端
越多负载管并联的数目越多，输出高电平VoH也更高一些。
此外，输入端工作状态不同时对电压传输特性也有一定的影响。
—
一
3.3 CMOS门电路93
图3.3.28所示的或非门电路中也存在类似的问题。
为了克服这些缺点，在实际生产的4000系列和74HC 系列CMOS电路中均
采用带缓冲级的结构，就是在门电路的每个输入端、输出端各增设一级反相器。
加进的这些具有标准参数的反相器称为缓冲器。
需要注意的一点是，输入、输出端加进缓冲器以后，电路的逻辑功能也发生
了变化。图3.3.29所示的与非门电路是在图3.3.28所示的或非门电路的基础
上增加了缓冲器以后得到的。在原来与非门的基础上增加缓冲级以后就得到了
或非门电路，如图3.3.30所示。
VoD
A
A
·
-Y
B B
Y A B-
-Y
图3.3.29 带缓冲级的CMOS与非门电路
VDD
Y
A
A
Y
B
B
A-
B-
Y
图3.3.30 带缓冲级的CMOS或非门电路
这些带缓冲级的门电路其输出电阻、输出的高、低电平以及电压传输特性将
不受输入端状态的影响。而且，电压传输特性的转折区也变得更陡了。此外，前
面讲到的CMOS反相器的输入特性和输出特性对这些门电路自然也适用。
94 第三章 门电路
二、漏极开路输出门电路(OD门)
在CMOS电路中，为了满足输出电平变换、吸收大负载电流以及实现线与连
接等需要，有时将输出级电路结构改为一个漏极开路输出的MOS管，构成漏极
开路输出(Open- Drain Output)门电路，简称OD门。
图3.3.31(a)是OD输出与非门 74HCO3的电路结构示意图。它的输出电
路是一个漏极开路的N沟道增强型MOS管TN。图(b)是它的逻辑符号，用门电
路符号内的菱形记号表示OD输出结构。菱形下方的横线表示输出低电平时为
低输出电阻。
VDD YDD2
SRL
Vo
内部逻辑 Y=(AB)' A A·
B
B· -Y
Tn
(a) (b)
图3.3.31 OD输出的与非门
(a)电路结构(b)逻辑符号
OD门工作时必须将输出端经上拉电阻RL接到电源上，如图3.3.31(a)中
所示。设T、的截止内阻和导通内阻分别为RorF和Ro,则只要满足RoF>>
R?>>Ro,就一定能使得T～截止时v。=VoH≈VDp?,T、导通时 vo=VoL≈0。因为
Vpo?可以选为不同于Vpp!的数值，所以就很容易地将输入的高、低电平Voo/0V
变换为输出的高、低电平VDD?/0 V了。OD门的另一个重要应用是可以将几个
OD门的输出端直接相连，实现线与逻辑。图3.3.32是用两个OD输出与非门
G,和G,接成线与逻辑的例子。由图3.3.32(a)可见，当Y?或Y?任何一个为低
电平时，Y都为低电平；只有Y,、Y?同时为高电平时，Y才为高电平，所以Y、Y?
和Y之间是与逻辑关系，即
Y=Y?、Y?
=(AB)'(CD)'=(AB+CD)'
这样就将两个OD输出与非门接成了一个与或非电路。线与的逻辑符号是画在
线与连接点处的与门轮廓，如图3.3.32(b)所示。
下面我们来讨论一下外接电阻阻值的计算方法。由图3.3.33中可以看到，
3.3 CMOS门电路 95
VDD VDD
G? Y
SR? A8
SR
Y G? A.B
② Y Y
G?
G? Y? C
D
Y? 线与符号
C-D
(a) (b)
图3.3.32 OD输出门的线与接法
(a)线与连接方法(b)线与逻辑符号
在线与输出端接有其他门电路作为负载的情况下，当所有的OD门同时截止、输
出为高电平时，由于OD门输出端MOS管截止时的漏电流和负载门的高电平输
入电流同时流过R,并在R?上产生压降，所以为保证输出高电平不低于规定的
数值，R 不能取得过大。由此可计算出R?的最大允许值RL(max)。若每个OD门
输出管截止时的漏电流为IoA,负载门每个输入端的高电平输入电流为IH,要求
输出高电平不低于VoH,则可得到
VDD-(nloH+mlm)RL≥VoH
RL≤(Vop-Voa)/(nloH+mlm)=RL(max) (3.3.8)
式中的 n是并联 OD门的数目，m是负载门电路高电平输入电流的数目。
YpD YDD
SR? SRL
VoL
m'
VL
Vπ
V
loH
2
②
:loH
p
>n
IH
Vm
VoH
m< VL 2
: Im
V
(a)
图3.3.33 OD门外接上拉电阻的计算
(a)R?最大值的计算 (b)RL最小值的计算
(b)
96 第三章 门电路
当输出为低电平，而且并联的 OD门当中只有一个门的输出MOS管导通
时，负载电流将全部流入这个导通管。为了保证负载电流不超过输出MOS管允
许的最大电流，RL的阻值不能太小。据此又可以计算出R,的最小允许值
RL(min)。若OD门允许的最大负载电流为IoL(max),负载门每个输入端的低电平输
入电流为I,此时的输出低电平为VoL,则应满足
(Vpp-VoL)/R+m'|I≤IoL(max)
RL≥(VDp-VoL)/(IoL(max)-m'|In1)=RL(min) (3.3.9)
这里的m'是负载门电路低电平输入电流的数目。在负载为CMOS 门电路的情
况下，m和m'相等。
为了保证线与连接后电路能够正常工作，应取
RL(max)≥RL≥RL(min)
【例3.3.2】 在图3.3.34所示的电路中，已知G?、G?、G?为OD输出的与
非门74HC03,输出高电平时的漏电流最大 Vop 74HC00 值为IoH(max)=5μA,输出低电平为VoL(max)74HC?3 G? G?
SR? =0.33 V时允许的最大负载电流 为
G? Gs IoL(max)=5.2 mA。负载门 G?~G?为 2o 74HC00,它的高电平输入电流最大值 G? G?
IH(max)和低电平输入电流最大值I(max)均
为1μA。若Vpp=5V,要求VoH≥4.4V、
Vo≤0.33 V,试求R取值的允许范围。 图3.3.34 例3.3.2的电路
解：由式(3.3.8)可知
RL(max)=(VDp-Von)/(nloH(max)+mlH(max))
=(5-4.4)/(3×5×10-?+6×10-?)Ω
=28.6 kΩ
又由式(3.3.9)得到
RL(min)=(Vop-VoL)/(IoL(max)-m'|In(max)1)
=(5-0.33)/(5.2×103-6×10-?)Ω
=0.90 kΩ
故R允许的取值范围为
28.6 kΩ>R>0.90 kΩ
三、CMOS传输门
利用P沟道 MOS管和N沟道MOS管的互补性可以接成如图3.3.35所示
的CMOS 传输门。CMOS 传输门如同CMOS反相器一样，也是构成各种逻辑电
3.3 CMOS门电路 97
路的一种基本单元电路。
C'
C' VDD
T?
TG v?/vo· vo/UI VI/vo- vo/U?
T?
C
C
图3.3.35 CMOS传输门的电路结构和逻辑符号
图3.3.35中的T,是N沟道增强型MOS管，T?是P沟道增强型MOS管。
因为T,和T?的源极和漏极在结构上是完全对称的，所以栅极的引出端画在栅
极的中间。T,和T?的源极和漏极分别相连作为传输门的输入端和输出端。
C和 C'是一对互补的控制信号。
如果传输门的一端接输入正电压v?,另一端接负载电阻R,则T,和T?的工
作状态将如图3.3.36 所示。
C' C'
VDD S? D? vo v?- T? SR Vo v1-
T? 心RL v? D? S? Vo
SR
C C
图3.3.36 CMOS传输门中两个MOS管的工作状态
设控制信号C和C'的高、低电平分别为VD和OV,那么当C=0、C'=1时，
只要输入信号的变化范围不超出0~VDp,则T,和T?同时截止，输入与输出之间
呈高阻态(>10?Ω),传输门截止。
反之，若C=1、C'=0,而且在RL远大于T?、T?的导通电阻的情况下，则当
0<v?<VDD-VcS(h)N时T,将导通。而当|VGS(th)P|<v?<VDD时T?导通。因此，v?
在0~VDp之间变化时，T,和T?至少有一个是导通的，使 v?与vo两端之间呈低
阻态(小于1 kΩ),传输门导通。
由于T?、T?管的结构形式是对称的，即漏极和源极可互易使用，因而CMOS
传输门属于双向器件，它的输入端和输出端也可以互易使用。
98 第三章 门电路
利用CMOS传输门和CMOS反相器可以组合成各种复杂的逻辑电路，如异
或门、数据选择器、寄存器、计数器等。
图3.3.37就是用反相器和传输门构成异或门的一个实例。由图可知
当A=1、B=0时，TG?截止而TG?导通，Y=B'=1;
当A=0、B=1时，TG,导通而TG?截止，Y=B=1;
当A=B=0时，TG,导通而TG?截止，Y=B=0;
当A=B=1时，TG,截止而TG?导通，Y=B'=0。
因此，Y与A、B之间是异或逻辑关系，即Y=A+B。
A-
B· TG?
Y BD-y
TG?
图3.3.37 用反相器和传输门构成的异或门电路
传输门的另一个重要用途是作模拟开关，用来传输连续变化的模拟电压信
号。这一点是无法用一般的逻辑门实现的。模拟开关的基本电路是由CMOS传
输门和一个CMOS反相器组成的，如图3.3.38所示。和CMOS 传输门一样，它
也是双向器件。
C C v?/vo- vo/v SW v?/vo TG vo/vI
图3.3.38 CMOS双向模拟开关的电路结构和符号
假定接在输出端的电阻为R(如图3.3.39所示),双向模拟开关的导通内
阻为Rr。当C=0(低电平)时开关截止，输出与输入之间的联系被切断，vo=0。
当C=1(高电平)时，开关接通，输出电压为
=R?+Rn (3.3.10)
我们将 v。与v?的比值定义为电压传输系数KTG,即
—
3.3 CMOS门电路 99
Knc=°=R?+Rn (3.3.11)
为了得到尽量大而且稳定的电压传输系数，应使R>>Rrc,而且希望RTc不
受输人电压变化的影响。然而式(3.3.1)表明，MOS C·
管的导通内阻 RoN是栅源电压vcs的函数。从图
3.3.36可见，T?和T?的vcs都是随v?的变化而改变
的，因而在不同v?值下T,的导通内阻RoN、T?的导
通内阻RoN?以及它们并联而成的RTG皆非常数。
V? SW Vo
R
为了进一步减小RTG的变化，又对图 3.3.36 所
示的电路做了改进。采用改进电路的74HC4066 四
双向模拟开关集成电路在VDD=6V下的RTc值只有
图3.3.39 CMOS模拟开关接
负载电阻的情况
30 Ω,而且在v?变化时RTG基本不变。目前某些精密CMOS模拟开关的导通电
阻已经降低到了20Ω以下。
四、三态输出的 CMOS 门电路
三态输出门电路的输出除了有高、低电平这两个状态以外，还有第三个状
态——高阻态。图3.3.40(a)是三态输出反相器的电路结构图。因为这种电路
结构总是接在集成电路的输出端，所以也将这种电路称为输出缓冲器(Output
Buffer)。
Vop
EN'-
G? G? T
EN'-
A- G? -Y A- ▽ Y
G? G? T?
(a) (b)
图3.3.40 三态输出的CMOS反相器
(a)电路结构(b)逻辑符号
从这个电路图中可以看到，为了实现三态控制，除了原有的输入端A 以外，又
增加了一个三态控制端EN'。当EN'=0时，若A=1,则G?、G?的输出同为高电
平，T?截止、T?导通，Y=0;若A=0,则G?、G?的输出同为低电平，T?导通、T?截
止，Y=1。因此，Y=A',反相器处于正常工作状态。而当EN'=1时，不管A的状
态如何，G?输出高电平而G?输出低电平，T?和T?同时截止，输出呈现高阻态。
100 第三章 门电路
图3.3.40(b)是三态输出反相器的逻辑符号。反相器符号内的三角形记号表
示三态输出结构，EN'输入端处的小圆圈表示EN'为低电平有效信号，即只有在
EN'为低电平时，电路方处于正常工作状态。如果EN'为高电平有效，则没有这个
小圆圈。这种三态输出结构有时也用于其他逻辑功能CMOS集成电路的输出端。
在一些比较复杂的数字系统(例如微型计算机)当中，为了减少各个单元之
间的连线数目，希望能用同一条导线分时传递若干个门电路的输出信号。这时
可采用图3.3.41所示的连接方式。图中的G?、G?、…、G。均为三态输出反相
器，只要工作过程中控制各个反相器的EN端轮流等于1,而且任何时候仅有一
个等于1,就可以轮流地把各个反相器的输出信号送到公共的传输线——总线
上，而互不干扰。这种连接方式称为总线结构。
EN?
A?- 7
EN?- G? 总
EN·
A?- 总
G? Do 口
G? D。/D?
● ● ●
EN 线 Dí 口
G? 线
An Gn
图3.3.41 用三态输出反相器接成
总线结构
图3.3.42 用三态输出反相器实现
数据双向传输
利用三态输出结构的门电路还能实现数据的双向传输。图3.3.42是数据
双向传输电路的结构图。当EN=1时，G?工作而G?为高阻态，数据D。经过G?
反相后送到总线上去。当EN=0时，G?工作而G?为高阻态，来自总线的数据
D,经过G,反相后送入电路内部。
复习思考题
R3.3.8 能否将两个互补输出结构的CMOS门电路的输出端并联，接成线与结构?
3.3 CMOS门电路 101
3.3.6 CMOS电路的正确使用
一、输入电路的静电防护
虽然在 CMOS电路的输入端已经设置了保护电路，但由于保护二极管和
限流电阻的几何尺寸有限，它们所能承受的静电电压和脉冲功率均有一定的
限度。
CMOS集成电路在储存、运输、组装和调试过程中，难免会接触到某些带静
电高压的物体。例如工作人员如果穿的是由容易产生静电的织物制成的衣裤，
则这些服装摩擦时产生的静电电压有时可高达数千伏。假如将这个静电电压加
到CMOS电路的输入端，将足以将电路损坏。
为防止由静电电压造成的损坏，应注意以下几点：
(1)在储存和运输CMOS器件时不要使用易产生静电高压的化工材料和化
纤织物包装，最好采用金属屏蔽层作包装材料。
(2)组装、调试时，应使电烙铁和其他工具、仪表、工作台台面等良好接地。
操作人员的服装和手套等应选用无静电的原料制作。
(3)不用的输入端不应悬空。
二、输入电路的过流保护
由于输入保护电路中的钳位二极管电流容量有限，一般为1mA,所以在可
能出现较大输人电流的场合必须采取以下保护措施：
(1)输入端接低内阻信号源时，应在输入端与信号源之间串进保护电阻，保
证输入保护电路中的二极管导通时电流不超过1mA。
(2)输入端接有大电容时，亦应在输入端与电容之间接入保护电阻，如图
3.3.43所示。
在输入端接有大电容的情况下，若电源电压突然降低或关掉，则电容C上
积存的电荷将通过保护二极管D?放电，形成较大的瞬态电流。串进电阻Rp以
后，可以限制这个放电电流不超过1 mA。Rp的阻值可按Rp=vc/1 mA 计算。
此处vc表示输入端外接电容C上的电压(单位V)。
(3)输入端接长线时，应在门电路的输入端接入保护电阻Rp,如图3.3.44
所示。
因为长线上不可避免地伴生有分布电容和分布电感，所以当输入信号发生
突变时只要门电路的输入阻抗与长线的阻抗不相匹配，则必然会在CMOS电路
的输入端产生附加的正、负振荡脉冲。因此，需串入Rp限流。根据经验，Rp的
阻值可按Rp=Vpp/1 mA 计算。输入端的长线长度大于10m以后，长度每增加
10m,Rp的阻值应增加1 kΩ。
102 第三章 门电路
D? T?
RpW
Rs
W
VDD
v? Vo VpD
+
C: Vc D?
(长线) L
T?
Rp
CMOS
一
v? W
C
图3.3.43 输入端接大电容时的防护 图3.3.44 输入端接长线时的防护
*三、CMOS电路锁定效应的防护
锁定效应(Latch -Up),或称为可控硅效应(Silicon Controlled Rectifer)是
CMOS电路中的一个特有问题。发生锁定效应以后往往会造成器件的永久失
效，因而了解锁定效应的产生原因及其防护方法是十分必要的。
图3.3.45是图3.3.43所示CMOS反相器的结构示意图。从图上可以看
到，为了在同一片N型衬底上同时制作P沟道和N沟道两种类型的MOS管，并
利用反相PN 结实现隔离，就必须先在N型衬底上形成一个P型区———P阱，然
后再于P阱上制作两个N型区，形成N沟道MOS管的源极和漏极。P阱里的另
一个N型区是输入保护二极管 D?的负极。这样一来便在三个N型区-P阱-
N型衬底之间形成了一个纵向多发射极的 NPN型寄生三极管TN①。
vo V?
-Vpp
S? G? D? D? G? S?
PtJ N N N P+ P+ -M-P+ N+
Rs
P阱 Tn
-W Tp
Rw RB
W
N型衬底
图3.3.45 CMOS反相器电路中的双极型寄生三极管效应
① 有关NPN、PNP双极型三极管的内容见本章的3.5.1节。
i
—
3.3 CMOS门电路 103
为了得到P沟道MOS管，又在N型衬底上另外制作了两个P型区，作为P
沟道管的源极和漏极。图3.3.45中最右边一个P型区是输入保护电阻。这样
在三个P型区-衬底-P阱之间又形成了一个横向多发射极的PNP型寄生三
极管Tp。
若以Rw表示P阱的电阻，以RB表
示衬底的电阻，其他高掺杂区的内阻略
而不计，则TN、Tp和Rw、RB一起便形成
Vpp
了图3.3.46 所示的正反馈电路。这种
电路结构就是通常所说的可控硅整流器
(Silicon Controlled Rectifier),简称可控
硅或SCR(也称晶闸管)。
Rg:S v?
iBp vo
(β?)
icN
Tp
TN
icp
(β?)
iBN 如果Tp和TN的电流放大系数的乘 vo- SRw v?- 积β·β?>1,那么当Tp有基极电流iBP Rs
流过时，集电极有电流icp =β?·iBP。假
定Rw的分流作用可以忽略，则TN的基
图3.3.46 由寄生三极管形成 极电流为iBN=icP=β?·iBP。如果再忽
的可控硅结构 略RB的分流作用，这时将有ipp=icN=
β?·β?·iBp,所以由于正反馈作用iBp被放大了。于是TN、Tp的电流都迅速增
长，直至饱和导通，并在电源与地之间形成低电阻通路，有很大的电流流过电路。
除非切断电源或将电源电压降至很低，这种导通状态将一直保持下去，因此将这
种现象称为锁定效应。锁定效应的持续会造成器件的永久性损坏。
同理，T、有基极电流注入时也会引发锁定效应。
那么什么条件下Tp或TN会导通呢?从图3.3.46上可以看出：
(1)若v?>VDD+V(V,表示T、和Tp发射结的正向导通压降),则Tp导
通，并进而引起T、导通，产生锁定效应。
(2)若v?<-VF,则T、导通，并进而引起Tp导通，产生锁定效应。
(3)若vo>VDD +VF,则Tp导通，并进而引起T、导通，产生锁定效应。
(4)若vo<-VF,则T、导通，并进而引起Tp导通，产生锁定效应。
(5)若VDD大于PN 结的反向击穿电压，则TN或Tp也会导通，并引发锁定
效应。
因此，为防止发生锁定效应，在CMOS电路工作时始终应保证v?、vo、VDD的
数值符合如下规定：
-VF<v?<VDD +V
-Vp<vo<VDp+V
104 第三章 门电路
VDD<VDD(BR)(VDp端的击穿电压)
此外，还可以采取以下的防护措施：
(1)在输入端和输出端设置钳位电路，以确保v?和v。不会超过上述的规定
范围，如图3.3.47所示。图中的二极管通常选用导通压降较低的锗二极管或肖
特基势垒二极管。
VDD° VpD VDD
R
v? Vo v Vo ±C
vr Vo
(a) (b)
图3.3.47 CMOS电路的钳位保护电路
(a)输入端的钳位电路(b)输出端的钳位电路
图3.3.48 在CMOS电路的
电源上加去耦保护
(2)当Vn可能出现瞬时高压时，在 CMOS电路的电源输入端加去耦电路，
如图3.3.48所示。在去耦电阻R选得足够大的情况下，还可以将电源电流限制
在锁定状态的维持电流以下，即使有触发电流流入T、或Tp,自锁状态也不能维
持下去，从而避免了锁定效应的发生。这种方法的缺点是降低了电源的利用率。
(3)当系统由几个电源分别供电时，各电源的开、关顺序必须合理。启动时
应先接通 CMOS电路的供电电源，然后再接通输入信号和负载电路的电源。关
机时应先关掉信号源和负载的电源，再切断CMOS电路的电源。
为了使用的安全和方便，人们一直在研究从 CMOS电路本身的设计和制造
上克服锁定效应的方法。现在一些工厂生产的高速CMOS电路中，通过改进图
版设计和生产工艺，减小了寄生三极管的β值和Rw、RB的阻值，已经能够基本
消除锁定效应的发生。但这些改进方法都明显地加大了芯片面积，因而目前还
不能保证所有的CMOS电路产品在工作温度升高和工作电流较大的情况下都不
会发生锁定效应。
3.3.7 CMOS数字集成电路的各种系列
自 20世纪60年代 CMOS电路问世以来，随着CMOS制造工艺水平的不断
改进，CMOS电路的性能得到了迅速提高。到了20世纪80年代以后，在减小单
元电路的功耗和缩短传输延迟时间两个主要方面进展尤为迅速。到目前为止，
已经生产出的标准化、系列化的 CMOS集成电路产品有4000系列、HC/HCT系
—
3.3 CMOS门电路 105
列、AHC/AHCT系列、VHC/VHCT 系列、LVC系列、ALVC系列等。
最早投放市场的CMOS集成电路产品是4000系列。由于受到当时制造工
艺水平的限制，虽然它有较宽的工作电压范围(3~18 V),但传输延迟时间很
长，可达100 ns左右。而且，带负载能力也较弱。例如，工作在5V的电源电压
时，输出为高电平时输出的最大负载电流和输出为低电平时吸收的最大负载电
流都只有0.5mA左右。因此，目前它已基本上被后来出现的HC/HCT系列产
品所取代。
HC/HCT是高速CMOS(High-Speed CMOS/High -Speed CMOS,TTL Com patible)逻辑系列的简称。由于在制造工艺上采用了硅栅自对准工艺以及缩短
MOS管的沟道长度等一系列改进措施，HC/HCT系列产品的传输延迟时间缩短
到了10 ns左右，仅为4000系列的十分之一。同时，它的带负载能力也提高到了
4 mA 左右。
HC系列和 HCT 系列在传输延迟时间和带负载能力上基本相同，只是在工
作电压范围和对输入信号电平的要求有所不同。HC系列可以在2~6V间的任
何电源电压下工作。在提高工作速度作为主要要求的情况下，可以选择较高的
电源电压；而在降低功耗为主要要求的情况下，可以选用较低的电源电压。但由
于HC系列门电路要求的输入电平与后面要讲到的TTL电路输出电平不相匹
配，所以 HC系列电路不能与TTL电路混合使用，只适用于全部由HC系列电路
组成的系统。HCT系列工作在单一的5V电源电压下，它的输入、输出电平与
TTL电路的输入、输出电平完全兼容，因此可以用于HCT与TTL混合的系统。
AHC(Advanced High-Speed CMOS)/AHCT(Advanced High-Speed CMOS,
TTL Compatible)逻辑系列是改进的高速CMOS逻辑系列的简称。改进后的这两
种系列不仅比 HC/HCT的工作速度提高了一倍，而且带负载能力也提高了近一
倍。同时AHC/AHCT系列产品又能与HC/HCT系列产品兼容，这就为系统的
器件更新带来了很大方便。因此，AHC/AHCT系列是目前比较受欢迎的、应用
最广的CMOS器件。就像HC与HCT系列的区别一样，AHC与AHCT系列的区
别也主要表现在工作电压范围和对输入电平的要求不同上。
与TI公司的AHC/AHCT系列性能相近的还有一种VHC/VHCT系列，由于
是另外一些公司的产品，所以在某些具体的性能参数上两者不完全相同。
LVC系列是TI公司20世纪90年代推出的低压 CMOS(Low - Voltage
CMOS)逻辑系列的简称。LVC系列不仅能工作在1.65~3.3V的低电压下，而
且传输延迟时间也缩短至3.8 ns。同时，它又能提供更大的负载电流，在电源电
压为3V时，最大负载电流可达24 mA。此外，LVC的输入可以接受高达5V的
高电平信号，能很容易地将5V电平的信号转换为3.3V以下的电平信号，而
LVC系列提供的总线驱动电路又能将3.3V以下的电平信号转换为5V的输出
106 第三章 门电路
信号，这就为3.3V系统与5V系统之间的连接提供了便捷的解决方案。
ALVC系列是TI公司于1994年推出的改进的低压 CMOS(Advanced Low Voltage CMOS)逻辑系列。ALVC在LVC基础上进一步提高了工作速度，并提供了
性能更加优越的总线驱动器件。LVC和ALVC是目前CMOS电路中性能最好的
两个系列，可以满足高性能数字系统设计的需要。尤其在移动式的便携电子设备
(如笔记本电脑、移动电话、数码照相机等)中，LVC和ALVC系列的优势更加明显。
表3.3.2是以TI公司生产的不同系列反相器为例列出的各种CMOS系列
门电路主要性能参数的比较表。器件名称54/74HC04中，“54/74”是TI公司产
品的标志，“HC”是不同系列的名称，后面的数码“04”表示器件具体的逻辑功
能，在这里表示这个器件是“六反相器”(即其中有六个同样的反相器)。只要器
件名称中最后的数码相同，它们的逻辑功能就是一样的。但是不同系列的电气
性能参数就大不一样了。“54”和“74”系列的区别主要在于允许的环境工作温
度不同。“54”系列允许的环境工作温度为-55～+125℃,而“74”系列的允许
环境工作温度为-40~+85℃。
表 3.3.2 各种CMOS系列门电路性能的比较(以74××04为例)
参数名称 74HCO4 74HCTO4 74AHC04 74AHCT04 74LVC04
2~6 4.5~5.5 2~5.5 4.5~5.5 1.65~3.6
3.15 2 3.15 2 2
1.35 0.8 1.35 0.8 0.8
4.4 4.4 4.4 4.4 2.2
0.33 0.33 0.44 0.44 0.55
-4 -4 -8 -8 -24
4 4 8 8 24
0.1 0.1 0.1 0.1 5
-0.1 -0.1 -0.1 -0.1 -5
和符号
电源电压范围
Vpo/V
输入高电平
最小值VH(min)/V
输人低电平
最大值V(max)/V
输出高电平
最小值VoH(min)/V
输出低电平
最大值VoL(max)/V
高电平输出电流
最大值IoH(max)/mA
低电平输出电流
最大值IoL(max)/mA
高电平输人电流
最大值IH(max)/μA
低电平输入电流
最大值IL.(max)/μA
74ALVC04
1.65~3.6
2
0.8
2.0
0.55
-24
24
5
-5
*3.4 其他类型的MOS集成电路 107
续表
参数名称 74HC04 74HCT04 74AHC04 74AHCTO4 74LVC04
9 14 5.3 5.5 3.8
10 10 10 10 5
20 20 12 14 8
74ALVC04
和符号
平均传输延迟时
间td/ns
2
输入电容最大值
C?/pF
3.5
功耗电容
Cd/pF
27.5
注：1.表中给出的参数(除电源电压范围以外)中，74HC/HCT和74 AHC/AHCTO4是Vpp=4.5V下
的参数，74LVCO4和74ALVCO4是VDp=3V下的参数。
2.VoH(min)和VoL(max)是最大负载电流下的输出电压。
*3.4 其他类型的MOS集成电路
3.4.1 PMOS电路
在MOS电路的发展过程中，最初采用的电路全部是用P沟道MOS 管组成
的，这种电路称为PMOS电路。
PMOS反相器的电路结构如图 3.4.1 所
示，其中T,和T?都是P沟道增强型MOS管。
因为PMOS 工艺比较简单，成品率高、价格便
宜，所以曾经被广泛采用。
-Vop
T?
但是，PMOS反相器有两个严重的缺点。 0V Vo
第一，它的工作速度比较低。因为P沟道MOS
管的导通电流是由空穴运动形成的，而空穴的
迁移率比电子的迁移率低得多，所以为了获得
同样的导通电阻和电流，P沟道MOS管必须有
T?
-Vop
v?
图3.4.1 PMOS反相器电路
更大的几何尺寸。这就使P沟道MOS管的寄生电容要比N沟道MOS管的寄生
电容大得多，从而降低了它的开关速度。
第二，由于PMOS电路使用负电源，输出电平为负，所以不便于和TTL电路
连接，使它的应用受到了限制。
基于上述原因，在NMOS工艺成熟以后，PMOS电路就用得越来越少了。
i
108 第三章 门电路
3.4.2 NMOS电路
全部使用NMOS管组成的集成电路称为NMOS电路。由于NMOS电路工
作速度快，尺寸小，加之NMOS工艺水平的不断提高和完善，目前许多高速LSI
数字集成电路产品仍采用NMOS工艺制造。
图3.4.2给出了NMOS反相器的两种常见形式。由于负载管的类型和工作
方式不同，它们的性能也不一样。
Vpp VpD
T? T?
vo vo
T?
VI CL T?
V?
CL
(a) (b)
图3.4.2 NMOS反相器电路
(a)增强型负载(E/E MOS)(b)耗尽型负载(E/D MOS)
图3.4.2(a)中的负载管T,和驱动管T?都是增强型MOS管，因而称为增强
型负载反相器，简称E/E MOS电路。图3.4.2(b)电路的负载管T?是耗尽型
MOS管，故将这个电路称为耗尽型负载反相器，简称E/D MOS电路。
为了分析这两个电路的输出特性，需要找出负载管的伏安特性。在图
3.4.2(a)所示增强型负载反相器电路中，负载管T?始终工作在vcs=vps的状
态，只要将T?漏极特性上所有vcs=vps的各点连起来，就得到了T?管的伏安特
性，如图3.4.3所示。
在图3.4.2(b)所示耗尽型负载反相器电路中，由于负载管T?始终工作在
vcs=0的状态，所以漏极特性曲线中vcs=0的一条曲线就是T?管的伏安特性曲
线，如图3.4.3所示。
当T?突然截止时，反相器的输出电压vo随负载电容C?的充电而升高，负
载电流即T?管的漏极电流io。根据 vo=VDp-vos即可做出动随v。变化的曲
线，如图3.4.4所示。此即反相器的输出特性。
比较一下图3.4.4中的两条输出特性不难看出，耗尽型负载反相器在vo上
升的绝大部分区间里一直能向负载电容提供较大的充电电流，而增强型负载反
相器所能提供的充电电流随v。上升迅速减小。因此，耗尽型负载NMOS反相器
3.5 TTL门电路 109
电路的开关速度比较快，这也正是高速NMOS电路中多半采用E/D MOS工艺的
原因所在。
iD ip
VGs=0(耗尽型) 耗尽型
(Vpp-vps)
O UDs 0 VoDvo
图3.4.3 NMOS反相器负载管
的伏安特性
图3.4.4 NMOS反相器的
输出特性(当v?=0时)
综合N沟道耗尽型负载、短沟道、硅栅自对准工艺等各项技术所生产的
MOS电路不仅功耗一延迟积很小，而且有很高的集成度。这种集成电路又称为
高性能MOS电路(简称HMOS电路)。
3.5 TTL门电路
3.5.1 双极型三极管的开关特性
因为TTL集成电路中采用双极型三极管作为开关器件，所以在介绍TTL电
路之前，我们首先需要了解一下双极型三极管的开关特性。
一、双极型三极管的结构
一个独立的双极型三极管由管芯、三个引出电极和外壳组成。三个电极分
别称为基极(base)、集电极(collector)和发射极(emitter)。外壳的形状和所用材
料各不相同。管芯由三层P型和N型半导体结合在一起而构成，有NPN型和
PNP型两种，它们的示意图如图3.5.1所示。因为在工作时有电子和空穴两种
载流子参与导电过程，故称这类三极管为双极型三极管(Bipolar Junction Tran sistor,简称BJT)。
二、双极型三极管的输入特性和输出特性
若以基极b和发射极e之间的发射结作为输入回路，则可以测出表示输入
电压vBE和输入电流ig之间关系的特性曲线，如图3.5.2(a)所示。这个曲线称
为输入特性曲线。由图可见，这个曲线近似于指数曲线。为了简化分析计算，经
110 第三章 门电路
集电极 集电极
C c
c c
基极 N
P 基极 P
b b
N
b
b-
N P
e
e
e e
发射极 发射极
(a) (b)
图3.5.1 双极型三极管的两种类型
(a)NPN型(b)PNP型
常采用图中虚线所示的折线来近似。图中的VoN称为开启电压。硅三极管的
VoN为0.5~0.7V,锗三极管的VoN为0.2~0.3V。
iB
ic/mA
饱和区 5
4
3
2
1
0
iB
十
VBE
0 VBE VoN
(a)
50μA
放 40μA β=Ae
30μA ig
大 △ic 20μA Aig
10μA
区 ip=0
5 10 15 VCE/V
截止区 (b)
图3.5.2 双极型三极管的特性曲线
(a)输入特性曲线(b)输出特性曲线
ic
十
VCE
二
3.5 TTL门电路 111
若以集电极c和发射极e之间的回路作为输出回路，则可测出在不同iB值
下表示集电极电流c和集电极电压vcE之间关系的曲线，如图3.5.2(b)所示。
这一族曲线称为输出特性曲线。由图可知，集电极电流ic不仅受vcE的影响，还
受输入的基极电流ip的控制。
输出特性曲线明显地分成三个区域。特性曲线右边水平的部分称为放大区
(或者叫线性区)。放大区的特点是ic随ip成正比地变化，而几乎不受vcE变化
的影响。ic和is的变化量之比称为电流放大系数β,即β=△ic/△ig。普通三极
管的β值多在几十到几百的范围内。
曲线靠近纵坐标轴的部分称为饱和区。饱和区的特点是ic不再随ig以β
倍的比例增加而趋向于饱和。硅三极管开始进入饱和区的vcE值约为0.6~
0.7V。在深度饱和状态下，集电极和发射间的饱和压降VCE(sat)在0.2V以下。
图3.5.2(b)中ig=0的一条输出特性曲线以下的区域称为截止区。截止
区的特点是ic几乎等于零。这时仅有极微小的反向穿透电流IcEo流过。硅三极
管的IcEo通常都在1 μA 以下。
三、双极型三极管的基本开关电路
用NPN型三极管取代图3.1.1(a)中的开关S,就得到了图3.5.3所示的三
极管开关电路。只要电路的参数配合得当，必能 Vcc
做到v?为低电平时三极管工作在截止状态，输出 Rc
为高电平；而v?为高电平时三极管工作在饱和状 +
ic 态，输出为低电平。 RB
M
iB 当输入电压v?=0时，三极管的vBE=0。由 十· vo
图3.5.2(a)所示的输人特性曲线可知，这时iB= v?
0,三极管处于截止状态。如果采用图3.5.2(a)
中折线化的近似输入特性，则近似地认为在v?< 图3.5.3 双极型三极管的
VoN时三极管已处于截止状态，ip≈0。由输出特 基本开关电路
性曲线可以看到，ig=0时ic≈0,电阻Rc上没有
压降。因此，三极管开关电路的输出为高电平VoH,且VoH≈Vcc。
当v?>VoN以后，有iB产生，同时有相应的集电极电流ic流过Rc和三极管
的输出回路，三极管开始进入放大区。根据折线化的输入特性可近似地求出基
极电流为
Rr (3.5.1)
若三极管的电流放大系数为β,则得到
vo=VcE=Vcc-icRc
=Vcc-βigRc (3.5.2)
!
112 第三章 门电路
式(3.5.1)和式(3.5.2)说明，随着 v?的升高is增加，Rc上的压降增加，而
vo相应地减小。当Rc和β足够大而RB不是特别大时，v。的变化△v。会远远大
于 v?的变化△vr。△v。与△v?的比值称为电压放大倍数，用A,表示，亦即A,= -°。负号表示v。与v?的变化方向相反。
在给出输出特性曲线的条件下，也可以用非线性电路的图解法，求出给定电
路参数下 vo。的具体数值。为便于说明图解法的原理，现将图3.5.3所示电路改
画成图3.5.4(a)所示的形式。如果从MN两点把输出回路划分为左右两部分，
分别画出它们在MN 处的伏安特性，则电路必然工作在两个特性的交点处。左
边部分的伏安特性就是三极管的输出特性。右边的伏安特性是一条直线，MN
两端的电压随ic的增加而线性地下降。只要找出直线上的两点，就可以画出这
ic=c 条直线。当vcE=0时 ,给出直线上的一点；而当vcCE=Vcc时ic=0,给出
直线上另一点，连接这两点的直线即右边部分电路的伏安特性。这条直线称为
负载线。当IB值确定以后，与Ig值对应的一条输出特性曲线和负载线的交点就
是开关电路实际所处的工作点。这一点对应的ic和vcE值也就是所求的集电极
电流和输出电压的数值。
ic
ic ic
W
+
M Rc RB
W
b
c
Vce(vo) Vcc
e
N
IB
O
Vo Vcc VCE
(a) (b)
图3.5.4 用图解法分析图3.5.3电路
(a)电路图(b)作图方法
v、继续升高时ig增加，Rc上的压降也随之增大。当Rc上的压降接近电源
电压 Vc时，三极管上的压降将接近于零，三极管的c-e之间最后只有一个很小
的饱和导通压降和很小的饱和导通内阻，三极管处于深度饱和状态，开关电路处
于导通状态，输出端为低电平，vo =VoL≈0。
若以VCE)表示三极管深度饱和时的压降，以RCE(ct)表示深度饱和时的导
通内阻，则由图3.5.4(a)可求出深度饱和时三极管所需要的基极电流为
3.5 TTL门电路 113
ns=B(R+Rc (3.5.3)
IBs称为饱和基极电流。为使三极管处于饱和工作状态，开关电路输出低电平，
必须保证ip≥Igs。用于开关电路的三极管一般都具有很小的VCE(sst)(通常小于
0.1 V)和RCE(sat)(通常为几到几十欧姆)。在Vcc>>VCE( at)、Rc>>RCE(sat)的情况
下，可将式(3.5.3)近似为 s~BR。 (3.5.4)
从图3.5.2(b)所示的输出特性上不难看出，三极管饱和区内的β值比线性
区内的β值小得多，而且不是常数。手册上往往只给出线性区的β值。如果用
线性区的β值代入式(3.5.3)计算，则得到的IBs值比实际需要的Iss值要小。
综上所述，只要合理地选择电路参数，保证当v?为低电平VIπ时vBE<VoN,三
极管工作在截止状态；而v?为高电平Vm时iB>Is,三极管工作在深度饱和状
态，则三极管的c-e间就相当于一个受 v?控制的开关。三极管截止时相当于
开关断开，在开关电路的输出端给出高电平；三极管饱和导通时相当于开关接
通，在开关电路的输出端给出低电平。
四、双极型三极管的开关等效电路
根据以上的分析，我们可以将三极管开关状态下的等效电路画成如图3.5.5
所示的形式。由于截止状态下的ig和ic等于零，所以等效电路画成图(a)的形
式。图(b)为饱和导通下的等效电路，图中的VoN是发射结b-e的开启电压，
VCE(sat)和RCE(sat)是c-e间的饱和导通压降和饱和导通内阻。在电源电压远大
于VCE(t),而且外接负载电阻远大于RCE(st)的情况下，可以将饱和导通状态的等
效电路简化为图(c)的形式。
c c c
SRCE(s b- b
b- VoN VCEea) VoN
e e e
(a) (b) (c)
图3.5.5 双极型三极管的开关等效电路
(a)截止状态(b)、(c)饱和导通状态
114 第三章 门电路
五、双极型三极管的动态开关特性
在动态情况下，亦即三极管在截止与饱和导通两种状态间迅速转换时，三极
管内部电荷的建立和消散都需要一定的时间，因而集电极电流ic的变化将滞后
于输入电压vr的变化。在接成三极管开关电路以后，开关电路的输出电压vo的
变化也必然滞后于输入电压v?的变化，如图3.5.6所示。这种滞后现象也可以
用三极管的b-e间、c-e间都存在结电容效应来理解。
v?
Vcc 0
t
SRc ic
R
ic
Vo 0
v?
t
vo
ol t
图3.5.6 双极型三极管的动态开关特性
六、三极管反相器
仔细观察一下图3.5.3中给出的三极管开关电路即可发现，当输入为高电
平时输出为低电平，而输入为低电平时
输出为高电平。因此，输出与输入的电
平之间是反相关系，它实际上就是一个
反相器(非门)。
Vc
SRc
Y
(vo)A- -Y R? 在一些实用的反相器电路中，为了 A· T
保证在输入低电平时三极管可靠地截(v?)
SR? 止，常将电路接成图3.5.7所示的形
式。由于接入了电阻 R?和负电源 VEE
VF,即使输入的低电平信号稍大于零，
也能使三极管的基极为负电位，从而使
三极管能可靠地截止，输出为高电平。
图3.5.7 三极管反相器
当输入信号为高电平时，应保证三极管工作在深度饱和状态，以使输出电平
接近于零。为此，电路参数的配合必须合适，保证提供给三极管的基极电流大于
3.5 TTL门电路 115
深度饱和的基极电流，即IB>Iss。
【例3.5.1】 在图3.5.7所示的反相器电路中，若Vcc=5V,VEE=-8V,Rc
=1kΩ,R,=3.3kΩ,R?=10kΩ,三极管的电流放大系数β=20,饱和压降VCE(sat)
=0.1V,饱和导通内阻RCE(sat)=20 Ω,输入的高、低电平分别为VH=5V、V=
OV,试计算输入高、低电平时对应的输出电平，并说明电路参数的设计是否合
理。
解：首先利用戴维宁定理将发射结的外接电路化简成由等效电压源VB和
等效内阻RB串联的单回路，如图3.5.8所示。其中VB为b-e两端的开路电
压，Rg为将电压源短路时求出的等效电阻。据此得到
R? RB b b
+ R?S +
vi( vB(
一
VEE·
e e
图3.5.8 图3.5.7电路的化简
B=n1-R+RR?=(v?-13.3×3.3)v (3.5.5)
R=R+R-3.3×10kD=2.5kΩ
当v?=V=0V时，由式(3.5.5)得到
a=(0-13.3×3.3)V=-2.0V
这时加在b-e结上的是反向电压，所以三极管截止，ic=0,vo=Vcc=5V。
当v?=VH=5V时，由式(3.5.5)可知
s=(5-53+3×3.3)V=1.8V
如果采用折线化近似的输入特性，即认为vBE<0.7V时ig=0;vBE>0.7V时
b-e结导通，导通后b-e结的压降维持在0.7V基本不变，则可近似求得iB值
为
=R=2.5×107A=0.44mA
又根据式(3.5.3)知，深度饱和时三极管的基极电流为
——
116 第三章 门电路
s=B(Rc+Rcc)-20×1×10A=0.25mA
可见，满足iB>Iss,故三极管处于深度饱和状态，输出电压vo=VCE(sat)≈0。
因此，电路参数的设计是合理的。
复习思考题
R3.5.1 三极管工作在放大区、截止区、饱和区的条件是什么?三个区的工作特性各有
何特点?
3.5.2 TTL反相器的电路结构和工作原理
一、电路结构
反相器是TTL集成门电路中电路结构最简单的一种。图3.5.9中给出了
74系列TTL反相器的典型电路。因为这种类型电路的输入端和输出端均为三
极管结构，所以称为三极管-三极管逻辑电路(Transistor-Transistor Logic),简
称TTL电路。
图3.5.9所示电路由三部分组成：T?、R?和D?组成的输入级，T?、R?和R?
组成的倒相级，T?、Ts、D?和R?组成的输出级。
设电源电压 Vcc=5V,输入信号的高、低电平分别为VH=3.4V,V=0.2V。
PN 结的伏安特性可以用折线化的等效电路代替，并认为开启电压Von为0.7V。
由图3.5.9可见，当v?=Vπ时，T?的发射结必然导通，导通后T?的基极电
位被钳在vB=V+Vox=0.9V。因此，T?的发射结不会导通。由于T?的集电
极回路电阻是R?和T?的b-c结反向电阻之和，阻值非常大，因而T?工作在深
度饱和状态，使VCE(≈0。这时T?的集电极电流极小，在定量计算时可略而不
计。T,截止后vc?为高电平，而ve?为低电平，从而使T?导通、T?截止，输出为高
电平VoH。
当v?=Vm时，如果不考虑T?的存在，则应有vB?=VH+VoN=4.1V。显然，
在存在T?和T,的情况下，T?和T?的发射结必然同时导通。而一旦T?和T?导
通之后，v?便被钳在了2.1V,所以vgi在实际上不可能等于4.1V,只能是2.1 V
左右。T,导通使vca降低而v?升高，导致T?截止、T?导通，输出变为低电平VoL。
可见，输出和输入之间是反相关系，即Y=A'。
由于T,集电极输出的电压信号和发射极输出的电压信号变化方向相反，所
3.5 TTL门电路 117
Vcc
k1.
R?130Ω
R?
4kQ 以以 T?4
VB1 Vc2 D?
W) T? T?
.Y
(vo)
D? R?
I k
[VE2 T?
输入级 倒相级 输出级
图3.5.9 TTL反相器的典型电路
以将这一级称为倒相级。输出级的工作特点是在稳定状态下T?和T?总是一个
导通而另一个截止，这就有效地降低了输出级的静态功耗并提高了驱动负载的
能力。通常将这种形式的电路称为推拉式(push -pull)电路或图腾柱(totem pole)输出电路。为确保T?饱和导通时T?可靠地截止，又在T?的发射极下面串
进了二极管D?。
D?是输入端钳位二极管，它既可以抑制输入端可能出现的负极性干扰脉
冲，又可以防止输入电压为负时T?的发射极电流过大，起到保护作用。这个二
极管允许通过的最大电流约为20 mA。
二、电压传输特性
如果把图3.5.9所示反相器电路输出电压随输入电压的变化用曲线描绘出
来，就得到了图3.5.10所示的电压传输特性。
在曲线的AB段，因为 v?<0.6V,所以
vB?<1.3V,T?和T?截止而T?导通，故输出
为高电平
VoH=Vcc-UR?-VBE?-Vp?≈3.4 V
我们将这一段称为特性曲线的截止区。
在BC 段里，由于v?>0.7V但低于
1.3V,所以T?导通而T?依旧截止。这时
T?工作在放大区，随着v?的升高vc?和vo
线性地下降。这一段称为特性曲线的线
性区。
vo/V
A B
3.0
2.0
C
1.0
D E
0 0.5 1.0 1.5
VTH
图3.5.10 TTL反相器的
电压传输特性
v?/V
118 第三章 门电路
当输入电压上升到1.4V左右时，vgI约为2.1V,这时T?和T?将同时导通，
T?截止，输出电位急剧地下降为低电平，这就是称为转折区的CD段工作情况。
转折区中点对应的输入电压称为阈值电压或门槛电压，用VH表示。
此后v?继续升高时v。不再变化，进入特性曲线的DE段。DE段称为特性曲
线的饱和区。
三、输入端噪声容限
从电压传输特性上可以看到，当输入信号偏离正常的低电平(0.2 V)而升
高时，输出的高电平并不立刻改变。同样，当输入信号偏离正常的高电平(3.4
V)而降低时，输出的低电平也不会马上改变。因此，和CMOS反相器类似，同样
也存在一个允许的噪声容限，即保证输出高、低电平基本不变(或者说变化的大
小不超过允许限度)的条件下，允许输入电平有一定的波动范围。
噪声容限的定义方法也和CMOS反相器一样。由式(3.3.3)和式(3.3.4)
知，输入为高电平和低电平时的噪声容限为
VNA=VOH(min)-VIH(min)
VNL=VIL(max)-VOL(max)
74系列门电路的典型参数为VoH(min)=2.4V,VoL(max)=0.4V,VIH(min)=
2.0V,VL(max)=0.8V,故得到VNA=0.4V,VNL=0.4V。
复习思考题
R3.5.2 为什么74系列TTL反相器的电压传输特性上有一个线性区?
3.5.3 TTL反相器的静态输入特性和输出特性
一、输入特性
在图3.5.9给出的TTL反相器电路中，如果仅仅考虑输入信号是高电平和
低电平而不是某一个中间值的情况，则可忽略T?和T?的b-c结反向电流以及
R?对T、基极回路的影响，将输入端的等效电路画成如图3.5.11所示的形式。
当Vcc=5V,v?=V=0.2V时，输入低电平电流为 n=-ac-R-~-1mA (3.5.6)
v?=0时的输入电流称为输入短路电流Iis。显然，I?s的数值比I的数值要
略大一点。在做近似分析计算时，经常用手册上给出的I?s近似代替I使用。
当v?=V=3.4V时，T?管处于v?c>0、vBE<0的状态。在这种工作状态
3.5 TTL门电路 119
下，相当于把原来的集电极c?当作发射极使用，而把原来的发射极e?当作集电
极使用了。因此称这种状态为倒置状态。倒置状态下三极管的电流放大系数β
极小(在0.01 以下),如果近似地认为β=0,则这时的输入电流只是be结的反
向电流，所以高电平输入电流IH很小。74系列门电路每个输入端的IH值在40
μA 以下。
根据图3.5.11的等效电路可以画出输入电流随输入电压变化的曲线——
输入特性曲线，如图3.5.12所示。
Vcc
R?4k
i/mA
-1.0-0.5 0.5 1.0 1.5 2.0
i?
Vi
0
-0.5
v?/V
T? -1.0
<40μA
D? be? 1.5 be? 立 -2.0
图3.5.11 TTL反相器的
输入端等效电路
图3.5.12 TTL反相器的输入特性
输入电压介于高、低电平之间的情况要复杂一些，但考虑到这种情况通常只
发生在输入信号电平转换的暂短过程中，所以就不做详细的分析了。
二、输出特性
1.高电平输出特性
前面已经讲过，当vo=VoH时，图3.5.9电路中的T?和D?导通，T?截止，输
出端的等效电路可以画成图3.5.13所示的形式。由图可见，这时T?工作在射
极输出状态，电路的输出电阻很小。在负载电流较小的范围内，负载电流的变化
对VoH的影响很小。
随着负载电流i绝对值的增加，R?上的压降也随之加大，最终将使T?的
b-c结变为正向偏置，T?进入饱和状态。这时T?将失去射极跟随功能，因而
VoH随绝对值的增加几乎线性地下降。图3.5.14给出了74系列门电路在输
出为高电平时的输出特性曲线。从曲线上可见，在|i|<5mA的范围内VoH变
化很小。当|i|>5mA 以后，随着i绝对值的增加VoA下降较快。
由于受到功耗的限制，所以手册上给出的高电平输出电流的最大值要比
5mA小得多。74系列门电路的运用条件规定，输出为高电平时，最大负载电流
不能超过0.4 mA。如果Vcc=5V,VoH=2.4V,那么当IoH=-0.4 mA时门电
路内部消耗的功率已达到1 mW。
120 第三章 门电路
Vcc VoH/V
ok? S 人 R?130Ω 3.0
T?
2.0
D? iL
Ovo 1.0
SRL -15-10-50 i/mA
图3.5.13 TTL反相器高电
平输出等效电路
图3.5.14 TTL反相器高电平
输出特性
2.低电平输出特性
当输出为低电平时，门电路输出级的T?管饱和导通而T?管截止，输出端的等
效电路如图3.5.15所示。由于T?饱和导通时c-e间的饱和导通内阻很小(通常
在10Ω以内),饱和导通压降很低(通常约0.1 V),所以负载电流i增加时输出
的低电平Vo仅稍有升高。图3.5.16是低电平输出特性曲线，可以看出，Vot与iL
的关系在较大的范围里基本呈线性。
Vcc
SRL iL VoL/V
Vo 2.0
T? 1.0
SR?
0 51015 i/mA
图3.5.15 TTL反相器
低电平输出等效电路
图3.5.16 TTL反相器
低电平输出特性
【例3.5.2】在图3.5.17所示的电路中，试计算门G,最多可以驱动多少
个同样的门电路负载。这些门电路的输入特性和输出特性分别由图3.5.12、图
3.5.14和图 3.5.16 给出。要求 G?输出的高、低电平满足VoH≥3.2V,VoL≤
0.2V。
解：首先计算保证VoL≤0.2V时可以驱动的门电路数目N?。
由图3.5.16 所示低电平输出特性上查到，Vo=0.2 V时的负载电流i=
3.5 TTL门电路 121
16 mA。这时G?的负载电流是所有负载门的输人电流之和。由图3.5.12所示的输
入特性上又可查到，当v?=0.2V时每个门的输入电 G?
流为i?=-1 mA,于是得到电流绝对值间的关系
N?li?l≤i vo
G?
即 N?≤6=16 G?
G?
N?即为可以驱动的负载个数。
N
其次，再计算保证VoH≥3.2V时能驱动的负
载门数目N?。由图3.5.14所示高电平输出特性
上查到，VOH=3.2V时，对应的i为-7.5 mA。但
手册上同时又规定|IoH|<0.4 mA,故应取lil≤
0.4 mA计算。由图3.5.12所示的输入特性可知，
每个输入端的高电平输入电流IH=40 μA,故可得
图 3.5.17 例3.5.2的电路
N?Im≤liLl
即 N?≤=0.04=10
综合以上两种情况可得出结论：在给定的输入、输出特性曲线下，74系列的
反相器可以驱动同类型反相器的最大数目是N=10。
从这个例子中还能看到，由于门电路无论在输出高电平还是输出低电平时
均有一定的输出电阻，所以输出的高、低电平都要随负载电流的改变而发生变
化。这种变化越小，说明门电路带负载的能力越强。有时也用输出电平的变化
不超过某一规定值时允许的最大负载电流来定量表示门电路带负载能力的大
小。
三、输入端负载特性
在具体使用门电路时，有时需要在输入端与地之间或者输入端与信号的低
电平之间接入电阻Rp,如图3.5.18所示。
由图3.5.18可知，因为输入电流流过Rp,这就必然会在Rp上产生压降而
形成输入端电位v?。而且，Rp越大v?也越高。
图3.5.19所示的曲线给出了v?随Rp变化的规律，即输入端负载特性。由
图可知
=R?+R,(Vec-m) (3.5.7)
上式表明，在Rp<<R?的条件下，v?几乎与Rp成正比。但是当v?上升到
1.4V以后，T?和T?的发射结同时导通，将vg?钳位在了2.1V左右，所以即使Rp
再增大，v?也不会再升高了。这时vr与Rp的关系也就不再遵守式(3.5.7)的关
122 第三章 门电路
系，特性曲线趋近于v?=1.4V的一条水平线。
Vcc
4ke v?/V
v 2.0
T? be? 1.0
SRp be?
0 1.0 2.0 3.0Rp/kQ
图3.5.18 TTL反相器输入端经
电阻接地时的等效电路
图3.5.19 TTL反相器输入端负载特性
【例3.5.3】 在图3.5.20所示的电路中，为保证门G,输出的高、低电平能
正确地传送到门 G?的输入端，要求vo?=VoH时 v?p≥VH(min),Vo=VoL时vn≤
VL(max),试计算Rp的最大允许值是多少。已知G?和G?均为74系列反相器，
Vcc=5V,VoH=3.4V,Vo=0.2V,VH(min)=2.0V,VL(max)=0.8V。G?和G?的
输入特性和输出特性如图3.5.12和图3.5.14、 Voi V12
W 图3.5.16所示。 G? Rp G? 解：首先计算vo?=VoH、v?≥VH(min)时Rp
的允许值。由图3.5.20可得 图3.5.20 例3.5.3的电路
VoH-IHRp≥VIH(min)
R?≤c (3.5.8)
从图3.5.12所示的输入特性曲线上查到v?=Vm=2.0V时的输入电流IH
=0.04mA,代入式(3.5.8)得到
Rp≤0.04×20°a=35k2
其次，再计算vo=VoL、vp≤V(max)时Rp的允许值。由图3.5.18可见，当
Rp的接地端改接至Vo时，应满足如下关系式
R≤Vo--V
R,≤Vcm-n·R, (3.5.9) 故得到
将给定参数代入上式后得出Rp≤0.69 kΩ。
综合以上两种情况，应取 Rp≤0.69 kΩ。也就是说，G?和G?之间串联的电
3.5 TTL门电路 123
阻不应大于690 Ω,否则当vo?=VoL时vi?可能超过VIL(max)值。
复习思考题
R3.5.3 TTL反相器空载(输出端开路)时的输出电压是否还是3.4V左右?为什么?
R3.5.4 TTL反相器的输入端悬空时输入端电压 v?等于多少?这时输出是高电平还是
低电平?
3.5.4 TTL反相器的动态特性
一、传输延迟时间
在TTL电路中，由于二极管和三极管从导通变为截止或从截止变为导通都
需要一定的时间，而且还有二极管、三极管 vI
以及电阻、连接线等的寄生电容存在，所以
-1.5V 把理想的矩形电压信号加到TTL反相器的 ol t 输入端时，输出电压的波形不仅要比输入 vo
信号滞后，而且波形的上升沿和下降沿也
将变坏，如图3.5.21所示。 -1.5V
像在 CMOS电路中所做的一样，我们
将输出电压波形滞后于输入电压波形的时
间称为传输延迟时间，并且将输出电压由
低电平跳变为高电平时的传输延迟时间记
ol t
tPLH
tPHL
图3.5.21 TTL反相器的动态电压波形
作tpLH,将输出电压由高电平跳变为低电平时的传输延迟时间记作tpHL。tpLA和
tpHL的定义方法如图3.5.21所示。
在74系列TTL门电路中，由于输出级的T?管导通时工作在深度饱和状态，
所以它从导通转换为截止时(对应于输出由低电平跳变为高电平时)的开关时
间较长，致使tpLH略大于tPHLo
因为传输延迟时间和电路的许多分布参数有关，不易准确计算，所以tPLH和
tpmL的数值最后都是通过实验方法测定的。这些参数可以从产品手册上查出。
例如TI公司生产的六反相器SN7404的典型参数为tpHL=8 ns,而tpLH=12 ns。
二、交流噪声容限
和CMOS反相器一样，TTL电路的交流噪声容限也大于直流噪声容限。这
是由于TTL电路中存在三极管的开关时间和分布电容的充放电过程，因而输入
信号状态变化时必须有足够的变化幅度和作用时间才能使输出状态改变。在输
124 第三章 门电路
人信号为窄脉冲，而且脉冲宽度接近于门电路传输延迟时间的情况下，为使输出
状态改变所需要的脉冲幅度将远大于信号为直流时所需要的信号变化幅度。
图3.5.22是输入为不同宽度的窄脉冲时TTL反相器的交流噪声容限曲线。图
中以tw表示输入脉冲宽度，以VNA表示输入脉冲的幅度。在图(a)中将输出高电平
由额定值降至2.0V时输入正脉冲的幅度定义为正脉冲噪声容限。在图(b)中将输
出低电平由额定值上升至0.8V时输入负脉冲的幅度定义为负脉冲噪声容限。
VNA/V
2.4
tw VNA 1.8
1.2 VoH
2.0V 0.6
0 510 15 20 25tw/ns
(a)
VNA/V
2.4
tw VNA 1.8
1.2 0.8V
0.6 VoL
0 5 10 152025tw/ns
(b)
图3.5.22 TTL反相器的交流噪声容限
(a)正脉冲噪声容限(b)负脉冲噪声容限
因为绝大多数的TTL门电路传输延迟时间都在50 ns以内，所以当输入脉
冲的宽度达到微秒的数量级时，在信号作用时间内电路已达到稳态，应将输入信
号按直流信号处理。
三、电源的动态尖峰电流
通过对TTL反相器电路的计算发现，在稳定状态下，输出电平不同时它从电
源所取的电流也不一样。由图3.5.23(a)可见，当vo=VoL时v?为高电平，若VH≥
3.4V,则T、T?和T,导通，T?截止，电源电流IccL等于ig和ic?之和。前面已经讲
过，当T,和T,同时导通时 v??被钳位在2.1V左右。假定T?发射结的导通压降为
3.5 TTL门电路 125
0.7V,T?饱和导通压降VCE(sat)=0.1V,则vc?=0.8V。于是得到
IccL=iBI+ic
R+R (3.5.10)
故得 c=(4×10+1.6×10)A
=(0.73+2.63)mA≈3.4 mA
IccL Voc-5V
IccH
Vcc=5V
1.6kW SR? R?S SR?
R?
4 kQ: iB T? R? 4kΩie T?
2.1V 0.8V lic D? 0.9V D?
Vm=3.4V T
T? Vo Vπ=0.2V
T? Vo
T? T?
SR? SR?
(a) (b)
图3.5.23 TTL反相器电源电流的计算
(a)vo=VoL的情况(b)vo=VoH的情况
在vo=VoH时，设v?=Vπ=0.2V,由图3.5.23(b)可见，这时T?和T?导通，
T?和T?截止。因为输出端没有接负载，T?没有电流流过，所以电源电流IccA等
于ig。如果取T,发射结的导通压降为0.7V,则vBI=0.9V,于是得到
Icch=iBI
=VcR"
=4×109A≈1 mA
(3.5.11)
动态情况下，特别是当输出电压由低电平突然转变成高电平的过渡过程中，
由于T?原来工作在深度饱和状态，所以T?的导通必然先于T?的截止，这样就
出现了短时间内T4和T?同时导通的状态，有很大的瞬时电流流经T?和T?,使
电源电流出现尖峰脉冲，如图3.5.24 所示。
由图3.5.25可见，如果v?从高电平跳变成低电平的瞬间T?尚未脱离饱和
导通状态而T?已饱和导通，则电源电流的最大瞬时值将为
126 第三章 门电路
vr
0 t
icc
0 t
图3.5.24 TTL反相器的电源动态尖峰电流
Iccm=ic+iA+i --va-va
+R (3.5.12)
Vn=0.2V T?
Vcc=5V
R? 1.6k W W 130Ω ieA R?i lic 4kΩ T?
D?
T? vo
T?
SR?
图3.5.25 TTL反相器电源尖峰电流的计算
故得到 -5-0.1-307-?.A+5-01.76-×.10-.IA+5×10°
=34.7×10-3A=34.7mA
电源尖峰电流带来的影响主要表现为两个方面。首先，它使电源的平均电
流增加了。而且从图3.5.24上不难看出，信号的重复频率越高、门电路的传输
延迟时间tp越长，电流平均值增加得越多。在计算系统的电源容量时必须注
意这一点。
3.5 TTL门电路 127
其次，当系统中有许多门电路同时转换工作状态时，电源的瞬时尖峰电流数值
很大，这个尖峰电流将通过电源线和地线以及电源的内阻形成一个系统内部的噪声
源。因此，在系统设计时应采取有效的措施将这个噪声抑制在允许的限度以内。
从图3.5.24上还可以看到，在输出电压由高电平变为低电平的过程中也有
一个不大的电源尖峰电流产生，但由于T?导通时一般并非工作在饱和状态，能
够较快地截止，所以T?和T?同时导通的时间极短，不可能产生很大的瞬态电源
电流。在计算电源容量时，可以不考虑它的影响。
为便于计算尖峰电流的平均值，可
以近似地将电源的尖峰电流视为三角
波，并认为尖峰电流的持续时间等于传
输延迟时间tPLH,如图3.5.26 所示。图
中的T为信号重复周期。
icc
IccM
IccH
IccL tPLH
0 T t
图3.5.26 电源尖峰电流的近似波形
一个周期内尖峰脉冲的平均值为
-) (3.5.13)
f=一 或以脉冲重复频率. 表示为
PAv=2f·tua·(lccm-Ict) (3.5.14)
如果每个周期中输出高、低电平的持续时间相等，在考虑电源动态尖峰电流
的影响之后，电源电流的平均值将为
lc=(lcm+Cc)+tm·(Lcm-Ia)
(3.5.15)
【例3.5.4】若74系列TTL反相器的电路参数如图3.5.9所给出，并知
tPLH=15ns,试计算在f=5MHz的矩形波输入电压信号作用下电源电流的平均
值。输入电压信号的占空比(高电平持续时间与周期之比)为50??
解：在图 3.5.9所示的电路参数下，根据式(3.5.10)、(3.5.11)和
(3.5.12)已计算出IccL=3.4 mA,IccH=1 mA,Iccm=34.7 mA。将这些数值及给
定的f、tpLH值代入式(3.5.15)得到
ccav=[(1+3.4)+2×5×10?×15×10-?×(34.7-3.4)]mA
=(2.2+1.17)mA
=3.37 mA
这个结果比单纯地用IccH和IccL平均所得到的数值增加了53??由此可
128 第三章 门电路
见，在工作频率较高时不能忽视尖峰电流对电源平均电流的影响。
复习思考题
R3.5.5 为什么TTL门电路的tpLH大于tpHL?
R3.5.6 TTL电路的电源尖峰电流是怎样产生的?它对系统的工作可能有哪些影响?
3.5.5 其他类型的TTL门电路
一、其他逻辑功能的门电路
与CMOS门电路相仿，在TTL门电路的定型产品中除了反相器以外也有与
门、或门、与非门、或非门、与或非门和异或门几种常见的类型。尽管它们逻辑功
能各异，但输入端、端出端的电路结构形式与反相器基本相同，因此前面所讲的
反相器的输入特性和输出特性对这些门电路同样适用。
1.与非门
图3.5.27是74系列与非门的典型电路。它与图3.5.9所示反相器电路的
区别在于输入端改成了多发射极三极管。
多发射极三极管的结构如图3.5.28(a)所示，它的基区和集电区是共用的，
而在P型的基区上制作了两个(或多个)高掺杂的N型区，形成两个互相独立的
发射极。我们可以将多发射极三极管看作两个发射极独立而基极和集电极分别
并联在一起的三极管，如图3.5.28(b)所示。
在图3.5.27所示的与非门电路
中，只要A、B当中有一个接低电平，则
T?必有一个发射结导通，并将T?的基
Vcc
1.6&心 SR?
130Ω R?
4kΩ心 T?
极电位钳在0.9V(假定Vπ=0.2V,
VBE=0.7V)。这时T?和T?都不导通，
输出为高电平VoH。只有当A、B同时
为高电平时，T?和T?才同时导通，并使
输出为低电平VoL。因此，Y和A、B之
间为与非关系，即Y=(A·B)'。
ZD?
A-
B- T?
T? Y
T?
D? D? Rk
可见，TTL电路中的与逻辑关系
是利用T的多发射极结构实现的。 图3.5.27 TTL与非门电路
与非门输出电路的结构和电路参数与反相器相同，所以反相器的输出特性
也适用于与非门。
3.5 TTL门电路 129
在计算与非门每个输入端的输入电流时，应根据输入端的不同工作状态区
别对待。在把两个输入端并联使用时，由图3.5.27中可以看出，低电平输入电
流仍可按式(3.5.6)计算，所以和反相器相同。而输入接高电平时，e?和e?分
别为两个倒置三极管的等效集电极，所以总的输入电流为单个输入端的高电平
输入电流的两倍。
2.或非门
或非门的典型电路如图3.5.29所示。图中T'、T'?和R',所组成的电路和
T?、T?、R?组成的电路完全相同。当A为高电平时，T?和T?同时导通，T。截止，
输出Y为低电平。当B为高电平时，T'2和T'5同时导通而T?截止，Y也是低电
平。只有A、B都为低电平时，T?和T'?同时截止，T?截止而T?导通，从而使输
出成为高电平。因此，Y和A、B间为或非关系，即Y=(A+B)'。
可见，或非门中的或逻辑关系是通过将T?和T'?两个三极管的输出端并联
来实现的。
由于或非门的输入端和输出端电路结构与反相器相同，所以输入特性和输
出特性也和反相器一样。在将两个或输入端并联时，无论高电平输入电流还是
低电平输入电流，都是单个输入端输入电流的两倍。
3.与或非门
若将图3.5.29所示的或非门电路中的每个输入端改用多发射极三极管，就
得到了图3.5.30所示的与或非门电路。
b e? e? c
SiO?
N+ N+ P+ N+ P P+
N
P N+
(a)
b
e?-
C
e?-
(b)
图3.5.28 多发射极三极管
(a)结构示意图(b)符号及等效电路
-b
c
e?
e2-
A
B
WR?
SR?
T?
T?
T?
多R′ T?
Tí T?!
R?
图3.5.29 TTL或非门电路
SR?
Vcc
-Y
130 第三章 门电路
w NW 1以 Vcc
T? T
AB T?
Y
心 Ts
Tzi w
C
D
Ti
图3.5.30 TTL与或非门
由图3.5.30可见，当A、B同时为高电平时，T?、T?导通而T?截止，输出Y
为低电平。同理，当C、D同时为高电平时，T'?、T?导通而T?截止，也使Y为低
电平。只有A、B和C、D每一组输入都不同时为高电平时，T?和T'2同时截止，
使T,截止而T?导通，输出Y为高电平。因此，Y和A、B及C、D间是与或非关
系，即Y=(AB+CD)'。
4.异或门
异或门典型的电路结构如图3.5.31所示。图中虚线以右部分和或非门的
倒相级、输出级相同，只要T?和T,当中有一个基极为高电平，都能使T?截止、
T,导通，输出为低电平。
≤
Vcc
州 S 以
T?
48 T
T6 T?
心 Y
T? T?
T? T? W
w
T?
图3.5.31 TTL异或门
3.5 TTL门电路 131
若A、B同时为高电平，则T?、T,导通而T。截止，输出为低电平。反之，若
A、B同时为低电平，则T?和T?同时截止，使T,和T,导通而T?截止，输出也为
低电平。
当A、B不同时(即一个是高电平而另一个是低电平),T,正向饱和导通、T?
截止。同时，由于A、B中必有一个是高电平，使T?、T?中有一个导通，从而使T?
截止。T?、T,同时截止以后，T?导通、T,截止，故输出为高电平。因此，Y和A、B
间为异或关系，即Y=A+B。
与门、或门电路是在与非门、或非门电路的基础上于电路内部增加一级反相
级所构成的。因此，与门、或门的输入电路及输出电路和与非门、或非门的相同。
这两种门电路的具体电路和工作原理就不一一介绍了。
二、集电极开路输出的门电路(OC门)
和CMOS电路中的OD输出结构门电路类似，在TTL电路中也有一种集电
极开路(Open Collector)输出结构的门电路。
虽然推拉式输出电路结构具有输出电阻很低的优
点，但使用时有一定的局限性。首先，我们不能把它们
的输出端并联接成线与结构。由图3.5.32可见，倘若
一个门的输出是高电平而另一个门的输出是低电平，则
输出端并联以后必然有很大的负载电流同时流过这两
个门的输出级。这个电流的数值将远远超过正常工作
电流，可能使门电路损坏。
Vcc
R?
T?
D? -O Y?
G?
其次，在采用推拉式输出级的门电路中，电源一经
确定(通常规定工作在+5V),输出的高电平也就固定
了，因而无法满足对不同输出高电平的需要。此外，推
拉式电路结构也不能满足驱动较大电流及较高电压负
载的要求。
Vcc
G?
Y?
克服上述局限性的方法就是将输出级改为集电极
开路的三极管结构，做成集电极开路输出的门电路，简
称OC门。
T?
乏
图3.5.33给出了OC门的电路结构和图形符号。
它的图形符号与OD门所用的符号相同。OC门在工作
时同样需要外接负载电阻和电源。只要电阻的阻值和
电源电压的数值选择得当，就能够做到既保证输出的
高、低电平符合要求，输出端三极管的负载电流又不过大。
图3.5.32 推拉式输出
级并联的情况
OC门的使用方法和前面讲过的OD门的使用方法类似。利用OC门同样
能接成线与结构以及实现输出与输入之间的电平变换。
132 第三章 门电路
Vcc
SR? SR?
A. T? A- 金p—Y T B
-Y B
T?
R?
图3.5.33 集电极开路输出TTL与非门的电路和图形符号
图3.5.34是将两个0C结构与非门输出并联的例子。由图可知，只有
A、B同时为高电平时T?才导通，Y,输出低电平，故Y?=(A·B)'。同理，
Y?=(C·D)'。若将Y?、Y?两条输出线直接接在一起组成线与结构，则只
要Y?、Y?有一个是低电平，Y就是低电平，只有Y?、Y?同时为高电平时，Y才
是高电平，于是得到
Y=Y,·Y?=(AB)'·(CD)'=(AB+CD)'
Vccl Voc
w SR
A-B
T? T?
T? Y? w
G?
Vcc vo-Y
Voc
R
G?
Y? A- ② -Y B w
C-
D- Tí T?
T; 不
Y? 线与 C- ② D- G?
w
G?
图3.5.34 OC门输出并联的接法及逻辑图
由于T,和T同时截止时输出的高电平为VoH=Vccz,而Vcc?的电压数值可以
不同于门电路本身的电源Vcc,所以只要根据要求选择Vcc?的大小，就可以得到
所需的VoH值。
另外，有些 OC门的输出管设计得尺寸较大，足以承受较大电流和较高电
3.5 TTL门电路 133
压。例如，SN7407输出管允许的最大负载电流为40 mA,截止时耐压30V,足以
直接驱动小型继电器。
OC门外接电阻的计算方法和OD门外接电阻的计算方法基本相同。唯一
不同的一点是在多个负载门输入端并联的情况下，低电平输入电流的数目不一
定与输入端的数目相等。
由图3.5.27所示与非门的电路结构图中可知，将输入端并联后总的低电平
输入电流和每个输入端单独接低电平时的输入电流是一样的。因此，在用式
(3.3.9)计算RL(min)时，式中的m'等于负载门的个数，而不是输入端的数目，如
图3.5.35所示。
而对于图3.5.29所示的或非门，将输入端并联以后，总的低电平输入电流
等于每个输入端单独接低电平时的输入电流乘以并联输入端的数目，而不是乘
以门的数目。因此，在用式(3.3.9)计算RL(min)时，式中的m'等于输入端的个
数，而不是负载门的数目，如图3.5.36 所示。
当输入为高电平时，无论负载是m个与输入端并联还是m个或输入端并
联，总的高电平输入电流都等于单个输入端高电平输入电流的m倍。所以在用
式(3.3.8)计算RL(max)时，式中的m都等于并联的输入端数目。
V· m'l=3I m'
V- ml=6lH
m
Vm- m'lπ=6lπm'
Vm- ml=6In
m<
图3.5.35 与输入端并联时
的总输入电流
图3.5.36 或输入端并联时
的总输入电流
【例3.5.5】 试为图3.5.37电路中的外接负载电阻R?选定合适的阻值。
已知G?、G?为OC门，输出管截止时的漏电流为IoH=200 μA,输出管导通时允
许的最大负载电流为IoL(max)=16mA。G?、G?和G?均为74系列与非门，它们的
低电平输人电流为Iπ=-1mA,高电平输入电流为I=40 μA。给定Vcc=5V,
要求OC门输出的高电平VoH≥3.0V,低电平VoL≤0.4V。
134 第三章 门电路
解：根据式(3.3.8),得 Vcc
Rulo-min SR?
G? G?
=2×0.2+9×0.04kQ=2.63ka A B- 少
又由式(3.3.9)可得到 G?
C- Ru-o-m'n D G? Gs
=16-3.×1ks
=0.35 kΩ 图3.5.37 例3.5.5的电路
选定的RL值应在2.63 kΩ与0.35 kΩ之间，故取
R=1 kΩ
三、三态输出门电路(TS 门)
在TTL电路中同样也有一种三态输出结构的门电路。TTL电路中的三态输
出门是在普通门电路的基础上附加控制电路而构成的。
图3.5.38是TTL三态输出门的电路结构图及图形符号，其中图(a)电路的
Vcc 1AA
T? EN
T? A A b—Y T? B· B -Y
D
T? EN- S P
W
(a)
Vcc
T? EN'-
T? A8 ▽ -Y T? B -Y D
T? EN- P
州
(b)
图3.5.38 三态输出门的电路图和图形符号
(a)控制端高电平有效(b)控制端低电平有效
3.5 TTL门电路 135
控制端 EN为高电平时(EN=1),P点为高电平，二极管D截止，电路的工作状
态和普通的与非门没有区别。这时Y=(A·B)',可能是高电平也可能是低电
平，视A、B的状态而定。而当控制端EN为低电平时(EN=0),P点为低电平，
T?截止。同时，二极管D导通，T?的基极电位被钳在0.7V,使T?截止。由于
T?、T?同时截止，所以输出端呈高阻状态。
因为图3.5.38(a)电路在EN=1时为正常的与非工作状态，所以称为控制
端高电平有效。而在图3.5.38(b)电路中，EN'=0时为工作状态，故称这个电
路为控制端低电平有效。
三态输出门的应用已经在CMOS 三态输出门的应用中介绍过，这里不再
重复。
复习思考题
R3.5.7 TTL与非门输入端并联时总的输入电流的计算方法和或非门输入端并联时总
的输入电流的计算方法有何不同?
R3.5.8 oC门外接负载电阻允许阻值的计算和OD门外接负载电阻允许阻值的计算有
何区别?
3.5.6 TTL数字集成电路的各种系列
TI公司最初生产的TTL电路取名为SN54/74系列，我们称它为TTL基本系
列。(54系列和74系列的区别主要在于工作环境温度范围和电源允许的变化
范围不同。后来在高速CMOS集成电路中沿用了这种命名方法。)为了满足提
高工作速度和降低功耗的需要，继54/74系列之后又相继生产了74H、74L、74S、
74LS、74AS、74ALS、74F等改进系列。
74H(High-speed TTL)系列和74L(Low-power TTL)系列是早期曾经采用过
的两种改进系列。74H系列通过减小电路中各个电阻的阻值缩短了传输延迟时
间，但同时也增加了功耗。74L系列则通过加大电路中各个电阻的阻值降低了
功耗，可是又增加了传输延迟时间。可见，这两种改进系列都不能满足既降低功
耗又减少传输延迟时间的要求。如果用传输延迟时间和功耗的乘积(delay-pow er product,简称dp积)表示门电路的综合性能，那么74H和74L系列的dp积并
未减小，说明它们的综合性能并未获得改善。因此，这两种改进系列不久即被
淘汰。
74S(Schottky TTL)系列又称肖特基系列。通过对74系列门电路动态过程
136 第三章 门电路
的分析看到，三极管导通时工作在深度饱和状态是产生传输延迟时间的一个主
要原因。如果能使三极管导通时避免进入深度饱和状态，那么传输延迟时间将
大幅度减小。为此，在74S系列的门电路中，采用了抗饱和三极管(或称为肖特
基钳位三极管——Schottky-clamped Transistor)。
抗饱和三极管是由普通的双极型三极管和肖特基势垒二极管(Schottky Bar rier Diode,简称SBD)组合而成的，如图3.5.39所示。
由于SBD的开启电压很低，只有0.3~0.4V,所以当三极管的b-c结进入
正向偏置以后，SBD首先导通，并将b-c结的正向电压钳位在0.3~0.4V。使
0cE保持在0.4V左右，从而有效地制止了三极管进入深度饱和状态。
图3.5.40是74S系列与非门(74SO0)的电路结构图，其中T?、T?、T?、T?和
T?都是抗饱和三极管。因为T?的b-c结不会出现正向偏置，亦即不会进入饱
和状态，所以不必改用抗饱和三极管。电路中仍采用了较小的电阻阻值。
W2.8 kQ
R? 品 508WY
Vcc
c 卜 T?
T?
SBD c D
+二
0.3V
+
A·
B
T 下 T?
-Y
250Ω
b· 0.4VX b- RB
十
U 500ΩW 中上 Rc 山 T?
n
SR?
0.7V e 下 T? 3.5 kQ
e
图3.5.39 抗饱和三极管 图3.5.40 74S系列与非门(74SO0)
的电路结构
电路结构的另一个特点是用T?、Rg和Rc组成的有源电路代替了74系列中
的电阻R?,为T,管的发射结提供了一个有源泄放回路。当T?由截止变为导通
的瞬间，由于T?的基极回路中串接了电阻Rg,所以T?的基极必然先于T?的基
极导通，使T?发射极的电流全部流入T?的基极，从而加速了T?的导通过程。
而在稳态下，由于T?导通后产生的分流作用，减少了T?的基极电流，也就减轻
了T?的饱和程度，这又有利于加快T?从导通变为截止的过程。
当T,从导通变为截止以后，因为T?仍处于导通状态，为T?的基极提供了
一个瞬间的低内阻泄放回路，使T?得以迅速截止。因此，有源泄放回路的存在
缩短了门电路的传输延迟时间。
此外，引进有源泄放电路还改善了门电路的电压传输特性。因为T?的发射
3.5 TTL门电路 137
结必须经T?或T?的发射结才能导通，所以不存在T?导通而Ts尚未导通的阶
段，而这个阶段正是产生电压传输特性线性区的根源，因此74S系列门电路的电
压传输特性上没有线性区，更接近于理想的开关特性，如图3.5.41所示。从图
上可以看到，74S系列门电路的阈值电压比74 系列要低一些。这是因为T?为
抗饱和三极管，它的b-c间存在SBD,所以T,开始导通所需要的输入电压比74
系列门电路要低一点。
采用抗饱和三极管和减小电路中电阻的阻值也带来了一些缺点。首先是电
路的功耗加大了。其次，由于T?脱离了深度饱和状态，导致了输出低电平升高
(最大值可达0.5V左右)。
为了得到更小的延迟-功耗积，在兼顾功耗与速度两方面的基础上又进一
步开发了74LS(Low-power Schottky TTL)系列(也称为低功耗肖特基系列)。
8k 以
R?
w 120Q
Voc
R,20kΩ D
小 T?
T?
vo/V D?
A·
R?S
14kΩ Y
3.0 B·
2.0 D?
K
D?
L
T?
D?
R?山-W
12 kQ
1.0 D?
Rc
心 3kΩ:
山 T?
RB
1.5 kΩ
山 T?
0 0.4 0.8 1.2 1.6 v?/V
图 3.5.41 74S系列反相器的
电压传输特性
图3.5.42 74LS系列与非门
(74LSO0)的电路结构
图3.5.42是74LS系列与非门(74LSO0)的典型电路。为了降低功耗，大幅
度地提高了电路中各个电阻的阻值。同时，将R?原来接地的一端改接到输出
端，以减小T?导通时R?上的功耗。74LS系列门电路的功耗仅为74系列的五
分之一，74H系列的十分之一。为了缩短传输延迟时间、提高开关工作速度，沿
用了74S系列提高工作速度的两个方法——使用抗饱和三极管和引入有源泄放
电路。同时，还将输入端的多发射极三极管用SBD代替①,因为这种二极管没有
电荷存储效应，有利于提高工作速度。此外，为进一步加速电路开关状态的转换
① 严格地讲，74LS系列属于DTL电路，因为它的输人端不是三极管结构，而是二极管结构。
138 第三章 门电路
过程，又接入了D?、D?这两个SBD。当输出端由高电平跳变为低电平时，D?经
T?的集电极和T?的基极为输出端的负载电容提供了另一条放电回路，既加快
了负载电容的放电速度，又为T?管增加了基极驱动电流，加速了T?的导通过
程。同时，D?也通过T?为T?的基极提供一个附加的低内阻放电通路，使T?更
快地截止，这也有利于缩短传输延迟时间。由于采用了这一系列的措施，虽然电
阻阻值增大了很多，但传输延迟时间仍可达到74系列的水平。74LS系列的延
迟-功耗积仅为74系列的五分之一，74S系列的三分之一。
74LS系列门电路的电压传输特性也没有线性区，而且阈值电压要比74系
列低，约为1V左右。
74AS(Advanced Schottky TTL)系列是为了进一步缩短传输延迟时间而设计
的改进系列。它的电路结构与74LS系列相似，但是电路中采用了很低的电阻阻
值，从而提高了工作速度。它的缺点是功耗较大，比74S系列的功耗还略大
一些。
74ALS(Advanced Low-power Schottky TTL)系列是为了获得更小的延迟-功
耗积而设计的改进系列，它的延迟-功耗积是TTL电路所有系列中最小的一
种。为了降低功耗，电路中采用了较高的电阻阻值。同时，通过改进生产工艺缩
小了内部各个器件的尺寸，获得了减小功耗、缩短延迟时间的双重收效。此外，
在电路结构上也做了局部的改进。
74F(Fast TTL)系列在速度和功耗两方面都介于74AS和74ALS系列之间。
因此，它为设计人员提供了一种在速度与功耗之间折中的选择。
在过去相当长的一段时间里74LS系列曾经是TTL的主流系列。有人预测
在不远的将来74ALS系列将取代74LS系列而成为TTL电路的主流产品。
表3.5.1中列出了TTL电路不同系列的四2输入与非门(74××00)的主
要性能参数。对于不同系列的TTL电路和高速CMOS电路产品，只要型号最后
的数字相同，它们的逻辑功能就是一样的，但是电气性能参数就大不相同了。因
此，它们之间不是任何情况下都可以互相替换的。
表3.5.1 各种系列TTL电路(74××00)特性参数比较
系列
参数名称与符号 74 74S 74LS 74AS 74ALS
0.8 0.8 0.8 0.8 0.8
0.4 0.5 0.5 0.5 0.5
2.0 2.0 2.0 2.0 2.0
74F
输入低电平最大值 0.8
ViL(mx)/V
输出低电平最大值 0.5
VoLmax)/V
输入高电平最小值
VH(min)/V
2.0
*3.6 其他类型的双极型数字集成电路 139
续表
系列
参数名称与符号 74 74S 74LS 74AS 74ALS
2.4 2.7 2.7 2.7 2.7
-1.0 -2.0 -0.4 -0.5 -0.2
16 20 8 20 8
40 50 20 20 20
-0.4 -1.0 -0.4 -2.0 -0.4
9 3 9.5 1.7 4
10 19 2 8 1.2
90 57 19 13.6 4.8
74F
输出高电平最小值 2.7
VoH(min)/V
低电平输入电流最大值 -0.6
IL(max)/mA
低电平输出电流最大 20
loL(max)/mA
高电平输入电流最大值 20
IH(max)/μA
高电平输出电流最大值 -1.0
IOH(max)/mA
传输延迟时间 3
td/ns
每个门的功耗/mW 4
延迟-功耗积 12
pd/pJ
*3.6 其他类型的双极型数字集成电路
在双极型的数字集成电路中，除了TTL电路以外，还有二极管-三极管逻
辑(Diode-Transistor Logic,简称 DTL)、高阈值逻辑(High Threshold Logic,简称
HTL)、发射极耦合逻辑(Emitter Coupled Logic,简称ECL)和集成注入逻辑(Inte grated Injaction Logic,简称I'L)等几种逻辑电路。
DTL是早期采用的一种电路结构形式，它的输入端是二极管结构而输出端
是三极管结构。因为它的工作速度比较低，所以不久便被TTL电路取代了。
HTL电路的特点是阈值电压比较高。当电源电压为15V时，阈值电压达
7~8V。因此，它的噪声容限比较大，有较强的抗干扰能力。HTL电路的主要缺
点是工作速度比较低，曾经用在对工作速度要求不高而对抗干扰性能要求较高
的一些工业控制设备中。目前它已经完全为CMOS电路所取代。
下面仅对ECL和I2L两种电路的工作原理和主要特点做简略介绍。
140 第三章 门电路
3.6.1 ECL 电路
一、ECL电路的结构与工作原理
ECL是一种非饱和型的高速逻辑电路。图3.6.1为ECL或/或非门的典型
电路和逻辑符号。因为图中T?管的输入信号是通过发射极电阻RE耦合过来
的，所以将这种电路称为发射极耦合逻辑电路。
Vcci Vcc?
基准电压
R?907T? Vc2 Vo2
T?Voi
T? T? T? T4 T? T? D? Ru: SRu
ie RE6.1kQ D?
B
D
-Y
Y
/79 S2 R?W
R?
4.98 kQ Vpu
射极输出 A B C D VEs=-5.2V
(vr)
图3.6.1 ECL或/或非门的电路及逻辑符号
这个电路可以按图中的虚线所示划分成三个组成部分：电流开关、基准电
压源和射极输出电路。
正常工作时取VEE=-5.2V,Vcc=Vcc?=0V,T?管发射极给出的基准电压
VBB=-1.3V,输入信号的高、低电平各为VH=-0.92V、V=-1.75V。
当全部输入端同时接低电平时，T?~T?的基极都是-1.75V,而此时T?的
基极电平更高些(-1.3V),故T?导通并将发射极电平钳位在vE=VBB-VBE=
-2.07V(假定发射结的正向导通压降为0.77 V)。这时T?~T?的发射结上只
有0.32V,故T,~T?同时截止，vc?为高电平而vc?为低电平。
当输入端有一个(假定为A)接至高电平时，T?的基极为-0.92V,高于
VBB,所以T?一定导通，并将发射极电平钳位在vE=v?-VBE=-1.69 V。此时加
到T?发射结上的电压只有0.4V,故T?截止，vc?为低电平而vc?为高电平。
由于T~T?的输出回路是并联在一起的，所以只要其中有一个输入端接高
电平，就能使vc?为低电平而vc?为高电平。因此，vc?与各输入端之间的逻辑关系
是或非，vc?与各输入端之间的逻辑关系是或。
然而在图3.6.1给定的参数下，vc和vc?的高、低电平不等于输入信号的高、
电流开关
WRc
220Ω
Vc
Rc?w 245Q
i1 iz Y=A+B+C+D
Y'=(A+B+C+D)'
*3.6 其他类型的双极型数字集成电路 141
低电平，因而无法直接作为下一级门电路的输入信号。为此，又在电路的输出端
增设了由T,和T?组成的两个射极输出电路，以便把vc和vc?的高、低电平转换
成-0.92V和-1.75 V。
基准电压源是由T?组成的射极输出电路，它为T?的基极提供固定的基准
电平。为了补偿VBE?的温度飘移，还在T?的基极回路里接入了两个二极管D?
和D?。
图中的RL为外接的负载电阻，
Vpu为牵引电源。Vpu可以取成VEE,
也可以取不同于VEE的数值。
vo/V
-0.7 Vcc?=Vcc=0V,VEE=-5.2V
-0.9或非输出vol 或输出vo2
图 3.6.2是图3.6.1所示 ECL
或/或非门的电压传输特性，曲线的
转折区发生在 v?=-1.2~-1.4V
的地方。转折区的中点在v?=VBB
处，这时vc与vc2基本相等，因而vo1
与vo?也相差无几。
-1.1
-1.3
-1.5
-1.7
-1.9
二、ECL电路的主要特点 -1.6 -1.2 -0.8-0.4v/V
与TTL 电路相比，ECL电路有
如下几个优点：
图3.6.2 ECL 或/或非门的电压传输特性
第一，ECL电路是目前各种数字集成电路中工作速度最快的一种。根据图
3.6.1中的电路参数不难算出，T?~T?导通时集电结电压VcB≈0V,T?导通时
集电结电压VcB≈0.3V,即导通时均未进入饱和状态，这就从根本上消除了由于
饱和导通而产生的电荷存储效应。同时，由于电路中电阻阻值取得很小，逻辑摆
幅(高、低电平之差)又低，从而有效地缩短了电路各节点电位的上升时间和下
降时间。目前 ECL门电路的传输延迟时间已能缩短至0.1 ns 以内。
第二，因为输出端采用了射极输出结构，所以输出内阻很低，带负载能力很强。
国产CE10K系列门电路的扇出系数(能驱动同类门电路的数目)达90 以上。
第三，由于ic~c?和ics的大小设计得近乎相等，所以在电路开关过程中电源
电流变化不大，电路内部的开关噪声很低。
第四，ECL电路多设有互补的输出端，同时还可以直接将输出端并联以实现
线或逻辑功能，因而使用时十分方便、灵活。
然而，ECL电路的缺点也是很突出的，这主要表现在：
第一，功耗大。由于电路里的电阻阻值都很小，而且三极管导通时又工作在
非饱和状态，所以功耗很大。每个门的平均功耗可达100 mW以上。从一定的
意义上说，可以认为ECL电路的高速度是用多消耗功率的代价换取的。而且，
功耗过大也严重地限制了集成度的提高。
——
i
142 第三章 门电路
第二，输出电平的稳定性较差。因为电路中的三极管导通时处于非饱和状
态，而且输出电平又直接与T?、T?的发射结压降有关，所以输出电平对电路参数
的变化以及环境温度的改变都比较敏感。
第三，噪声容限比较低。ECL电路的逻辑摆幅只有0.8V,直流噪声容限仅
200 mV左右，因此抗干扰能力较差。
目前ECL电路的产品只有中、小规模的集成电路，主要用在高速、超高速的
数字系统和设备当中。
3.6.2 I2L电路
为了提高集成度以满足制造大规模集成电路的需要，不仅要求每个逻辑单
元的电路结构非常简单，而且要求降低单元电路的功耗。显然，无论TTL电路
还是ECL电路都不具备这两个条件。而20世纪70年代初研制成功的I'L电路
则具备了电路结构简单、功耗低的特点，因而特别适于制成大规模集成电路。
一、I2L电路的结构与工作原理
I2L电路的基本单元是由一只多集电极三极管构成的反相器，反相器的偏
流由另一只三极管提供。图3.6.3给出了I2L基本逻辑单元的结构示意图和电
路的表示方法。图(a)中虚线右边部分是作为反相器用的多集电极纵向NPN型
三极管T,左边部分的横向PNP型三极管T'用于为反相器提供基极偏流I?。
(c) (e') b C1 C2 C3 V?
P N N N
N
P
I? CC?Vo
C?
V?
N+ (b) b
T
e e
T' T
(u?)
Vj T' b
e' c
T
C12c, (vo) -C?
c? C?
Vr b
T
e
b' e
(a) (b)
图3.6.3 I2L电路的基本逻辑单元
(a)结构和电路图(b)简化的电路图
由于T'的基极接地而发射极接到固定的电源Vj上，所以它工作在恒流状
*3.6 其他类型的双极型数字集成电路 143
态。电源V,向T'的发射极注入电流，然后经T'的集电极送到三极管T的基极
去。因此，将e'称为注入端，将这种电路称为集成注入逻辑电路。为了画图的方
便，常常使用图3.6.3(b)所示的简化画法，即用恒流源I。代替T',有时连这个
恒流源也省略不画。在实际的电路中，PNP管也做成多集电极形式，以便用同一
只多集电极的PNP管驱动多只NPN三极管。
NPN 管的基极作为信号输入端，当输入电压v?=0时，I。从输入端流出，T
截止，c?、C?、c?输出高电平(这里假定c?、C?、c?分别经过负载电阻接至正电源)。
反之，当输入端悬空或经过大电阻接地时，T饱和导通，c?、C?、c?输出低电平。
可见，任何一个输出端与输入端之间都是反相的逻辑关系。
I2L电路的这种多集电极输出结构在构成复杂的逻辑电路时十分方便。我
们可以通过线与方式把几个门的输出端并联，以获得所需要的逻辑功能。图
3.6.4中给出了I2L电路或/或非门的电路图。
V
(A+B)'
I?] Io o
A- B A+B
图3.6.4 I2L或/或非门电路
二、I2L电路的主要特点
I2L电路的优点突出地表现在以下几个方面：
第一，它的电路结构简单。从上面的讨论中可以看到，I2L的基本逻辑单元
仅包含一个NPN管和一个PNP管，而PNP管又能作成多集电极形式为许多单
元电路所共用。同时，电路中没有电阻元件，这样既节省了所占的硅片面积又降
低了电路的功耗。
此外，由于采用了图3.6.3(a)所示的并合三极管结构(即在半导体硅片的
同一区域里同时制作NPN和PNP三极管而互相间不需要任何隔离和连线),进
一步缩小了每个单元电路所占的面积。因此，也将I2L电路称为并合三极管逻
辑(Merged Transistor Logic,简称MTL)电路。
第二，各逻辑单元之间不需要隔离。从图3.6.4可以看到，I2L电路中所有
单元的NPN 管的发射极是接在一起的。在制作这些单元电路时，只需在公共的
N型衬底上分别制作一个个的P型区，再于每个P型区上制作几个N型区就行
了。这样不仅简化了工艺，又节省了在单元之间设置隔离槽所占用的硅片面积。
第三，I2L电路能够在低电压、微电流下工作。由图3.6.3(a)可知，只要电
压Vj大于T'的饱和导通压降V'CE(sat)和T的发射结导通压降VBE之和，电路就可
144 第三章 门电路
以工作。因此，I2L电路的最低工作电压为
Vj(min)=V'CE(at)+VBE≈0.7~0.8 V
即可以在1V以下的电源电压下工作。
I2L反相器的工作电流可小于1 nA,是目前双极型数字集成电路中功耗最
低的一种。它的集成度可达到500门/mm2以上。
I2L电路也有两个严重的缺点：
第一，抗干扰能力较差。I2L电路的输出信号幅度比较小，通常在0.6V左
右，所以噪声容限低，抗干扰能力也就很差了。
第二，开关速度较慢。因为I2L电路属于饱和型逻辑电路，这就限制了它的
工作速度。I2L反相器的传输延迟时间可达20~30 ns。
为了弥补在速度方面的缺陷，对I2L电路不断地进行了改进。通过改进电
路和制造工艺已成功地把每级反相器的传输延迟时间缩短到了几纳秒。另外，
利用I2L与TTL电路在工艺上的兼容性，可以直接在I2L大规模集成电路芯片
上制作与TTL电平相兼容的接口电路，这就有效地提高了电路的抗干扰能力。
目前I2L电路主要用于制作大规模集成电路的内部逻辑电路，很少用来制
作中、小规模集成电路产品。
*3.7 Bi-CMOS电路
Bi-CMOS是双极型-CMOS(Bipolar-CMOS)电路的简称。
这种门电路的特点是逻辑部分采用CMOS 结构，输出级采用双极型三极管。
因此，它兼有CMOS电路的低功耗和双极型电路低输出内阻的优点。
图3.7.1是Bi-CMOS反相器的两种电路结构形式。图(a)是结构最简单的
一种，其中两个双极型输出管的基极接有下拉电阻。当v?=VH时，T?和T?导
通，T?和T?截止，输出为低电平VoL。当v?=V时，T,和T?导通而T?和T?截
止，输出为高电平VoH。
为了加快T?和T?的截止过程，要求R,和R?的阻值尽量小，而为了降低功
耗，要求R,和R?的阻值应尽量大，两者显然是矛盾的。为此，目前的Bi-CMOS
反相器多半采用图3.7.1(b)所示的电路结构，以T?和T?取代图3.7.1(a)中的
R,和R?,形成有源下拉式结构。当v?=VH时，T?、T?和T?导通，T,、T?和Ts截
止，输出为低电平VoL。当v?=V时，T、T?和T?导通，T?、T?和T?截止，输出为
高电平VoH。由于T?和T?的导通内阻很小，所以负载电容CL的充、放电时间很
短，从而有效地减小了电路的传输延迟时间。
图3.7.2是Bi-CMOS与非门的电路原理图。由图可知，只要A、B当中有一
*3.7 Bi-CMOS电路 145
VDD VDD
T? T?
T? T?
之R? T?
VI vo v vo
T? T?
T CL T? CL
SR? T?
(a) (b)
图3.7.1 Bi-CMOS反相器
(a)最简单的电路结构(b)常用的电路结构
个为低电平，必然使T?导通、T,截止，输出高电平。只有A、B同时为高电平，才
能使T,导通、T?截止，输出低电平。
Bi-CMOS或非门的电路结构如图3.7.3所示，它的逻辑功能请读者自行分
析。
VDD
A
B
T? T4
T?
VDD
T?
T?
T?
A
T?
Y
B-
T? T?
T?
T? CL
T?
Y
T?
T? CL
T? T?
图3.7.2 Bi-CMOS与非门电路 图3.7.3 Bi-CMOS或非门电路
从20世纪90年代起，已经有Bi-CMOS系列集成电路产品面市。由TI公司
146 第三章 门电路
生产的ABT逻辑(Advanced BiCMOS Technology Logic)系列提供了多种高性能
的缓冲/驱动电路，特别适用于驱动带有重负载的信号线。例如四总线缓冲/驱
动门电路SN74ABT125中，每个门的最大驱动电流达64 mA,而平均传输延迟时
间的典型参数仅为2.8 ns,最小值可达1 ns。
*3.8 TTL电路与 CMOS电路的接口
在目前TTL与CMOS两种电路并存的情况下，经常会遇到需将两种器件互
相对接的问题。
由图3.8.1可知，无论是用TTL电路驱动CMOS
电路还是用CMOS电路驱动TTL电路，驱动门必须能
为负载门提供合乎标准的高、低电平和足够的驱动电
流，也就是必须同时满足下列各式
驱动门 负载门
VoH(min)≥VH(min)
VoL(max)≤VL(max)
IoH(max)I≥nlH(max)
IoL(max)≥mlIL.(max)
(3.8.1)
(3.8.2) 驱动门 负载门
(3.8.3)
(3.8.4) 图3.8.1 驱动门与
负载门的连接 其中n和m分别为负载电流中IH、I的个数。通常将
可以驱动负载门的数目称为扇出(fan-out)系数。
为便于对照比较，图3.8.2中列出了各种TTL和CMOS系列门电路在电源
电压为5V时的VoH(min)、VoL(max)、VH(min)和VL(max)值，以便于相互比较。
vo V
三
74·
4.4V·
——— 3.15V
2.7V———
2.4V——
———— 2.0V
——1.35V
0.5V_ -0.44 V_i一
0.4V
0.8V
0.33V
74HC/AHC
、
74HCT7A
图3.8.2 各种CMOS与TTL系列门电路的输出、输入电平
*3.8 TTL电路与CMOS电路的接口 147
一、用TTL电路驱动 CMOS电路
1.用TTL电路驱动74HC和AHC系列CMOS电路
根据表3.3.2和表3.5.1给出的数据可知，所有TTL电路的高电平最大输
出电流都在0.4 mA 以上，低电平最大输出电流都在8 mA 以上，而74HC和
AHC系列CMOS电路的高、低电平输入电流都在1 μA以下。因此，用任何一种
系列的TTL电路驱动74HC和74AHC系列CMOS电路，都能在n、m大于1的情
况下满足式(3.8.3)和式(3.8.4)的要求，并可以由式(3.8.3)和式(3.8.4)求
出n和m的最大允许值。同时，由图3.8.2中还可以看到，所有TTL系列的
VoL(max)均低于74HC和74AHC系列的V(max)=1.35V,所以也满足式(3.8.2)
的要求。然而所有TTL系列的VOH(min)值都低于74HC和74AHC系列的VIH(min)
=3.15V,达不到式(3.8.1)的要求。为此，必须设法将TTL电路输出高电平的
下限值提高到3.15 V以上。
最简单的解决方法是在TTL电路的输出端与电源之间接入上拉电阻R,如
图3.8.3所示。当TTL电路的输出为高电平时，输出级的负载管和驱动管同时
截止，故有
VoH=VDD-Ru(I。+nlH) (3.8.5)
式中的1。为TTL电路输出级T?管截止时的漏电 Vcc=Vpp=5V
流。由于1。和IH都很小，所以只要R,的阻值不
是特别大，输出高电平将被提升至VoH≈VDDo
Rv:S
在CMOS电路的电源电压较高时，它所要求
的VH(min)值将超过推拉式输出结构 TTL电路输
出端能够承受的电压。例如，4000系列CMOS 电
路在VDD =15V时，要求的VIH(min)=11V。因此，
TTL电路输出的高电平必须大于11 V。在这种
情况下，应采用集电极开路输出结构的TTL门电
路(OC门)作为驱动门。OC 门输出端三极管的
耐压较高，可达30 V以上。
TTL
n
CMOS
图3.8.3 用接入上拉电阻
提高TTL电路输出的高电平
Ru取值范围的计算方法与OC门外接上拉电阻的计算方法相同，这里不再
重复。
2.用TTL电路驱动74HCT和74AHCT系列CMOS 门电路
为了能方便地实现直接驱动，通过改进工艺和设计，使74HCT和74AHCT
系列的VIH(min)值降至2V。由图3.8.2及表3.3.2和表3.5.1可知，将TTL电路
的输出直接接到74HCT 和74AHCT 系列电路的输入端时，式(3.8.1)~
(3.8.4)全部都能满足。因此，无需外加任何元、器件。
148 第三章 门电路
二、用CMOS电路驱动TTL电路
由表3.3.2可知，74HC/74HCT系列的IoH(max)和IoL(max)均为4 mA,74AHC/
74AHCT的IoH(max)和IoL(max)均为8 mA。而由表3.5.1可知，所有TTL电路的
IH(max)和IL(max)都在2 mA 以下，所以无论用74HC/74HCT系列还是用74AHC/
74AHCT系列CMOS电路驱动任何系列的TTL电路，都能在一定数目的n、m范
围内满足式(3.8.3)和式(3.8.4)的要求。同时，从图3.8.2上还可以看到，用
74HC/74HCT系列或74AHC/74AHCT系列CMOS电路驱动任何系列的TTL电
路时，都能满足式(3.8.1)和式(3.8.2)的要求。
因此，无论用74HC/74HCT 系列
还是用74AHC/74AHCT系列的CMOS
电路，都可以直接驱动任何系列的
TTL电路。可以驱动负载门的个数可
Vcc
RcS I
vo
以由式(3.8.3)和式(3.8.4)求出。 iB IoL
在找不到合适的驱动门足以满足
大负载电流要求的情况下，可以使用
分立器件的电流放大器实现电流扩
: n
CMOS
电流放大器 TTL
展，如图3.8.4所示。只要放大器的
电路参数选得合理，定可做到在CMOS
与非门输出高电平时，既满足iB<
图3.8.4 通过电流放大器
驱动TTL电路
|IoH(max)(CMOS),又满足Io>n|I(max)(TTL)+IR。同时，放大器输出的高、
低电平也符合式(3.8.1)和式(3.8.2)的要求。
车章小结
门电路是构成各种复杂数字电路的基本逻辑单元，掌握各种门电路的逻辑
功能和电气特性，对于正确使用数字集成电路是十分必要的。
本章重点介绍了目前应用最广的CMOS和TTL两类集成门电路。在学习
这些集成电路时应将重点放在它们的外部特性上。外部特性包含两个内容，一
个是输出与输入间的逻辑关系，即所谓逻辑功能；另一个是外部的电气特性，包
括电压传输特性、输入特性、输出特性和动态特性等。虽然文中也讲到了一些有
关集成电路内部结构和工作原理的内容，但其目的在于帮助读者加深对器件外
特性的理解，以便更好地运用这些外特性。
在后面的几章我们将会看到，尽管逻辑电路越来越复杂，但只要是CMOS电
路，它们的输入端和输出端的电路结构就和这一章里所讲的CMOS 门电路相同；
本 章 小 结 149
只要是TTL电路，它们的输入端和输出端电路结构就和这一章里所讲的TTL电
路相同。本章所讲的外部电气特性对这些电路同样适用。
在使用CMOS器件时应特别注意掌握正确的使用方法，否则容易造成损坏。
目前生产和使用的数字集成电路种类很多，我们可以从制造工艺、输出结构
和逻辑功能三个方面把它们分别归类如下：
4000系列
54/74HC系列
54/74HCT系列
CMOS电路、54/74AHC系列
54/74AHCT系列
74LVC系列 MOS型 74ALVC系列 NMOS电路
PMOS电路 LTL
工*可
TTL电路 区分
双极型
ECL电路
2L电路
Bi-CMOS型 54/74ABT系列
区分
互补输出/推拉式输出
按输出结构
OD输出/OC输出
三态输出
与门
或门
非门
功分与非门
或非门
与或非门
异或门
不难想像，按上述三方面属性的不同组合可以得到非常多的集成电路品种。
这也正是数字集成电路产品的型号十分浩瀚的原因所在。
150 第三章 门电路
目前，在除4000 系列以外的CMOS数字集成电路产品和所有的TTL数字集
成电路产品中，都采用“54/74‘系列标志'×××”的命名方式。其中的“系列标
志”就是表示不同系列的S、LS、AS、ALS、HC、HCT、AHC、AHCT、LVC、ALVC、
ABT等。只有74基本系列的这个标志是空白。在不同系列的产品中，只要型号
最后的数字代码×××相同，则无论是哪一种系列的产品，它们的逻辑功能都是
一样的。而且，在采用同样的封装形式时，集成电路外部引脚的排列顺序也完全
相同。但是不同系列产品的电气特性就大不相同了。因此，不能简单地将它们
互相替换使用。
习题
[题3.1] 在图3.2.5所示的正逻辑与门和图3.2.6所示的正逻辑或门电路中，若改用
负逻辑，试列出它们的逻辑真值表，并说明Y和A、B之间是什么逻辑关系。
[题3.2] 试画出图P3.2中各个门电路输出端的电压波形。输入端A、B的电压波形如
图中所示。
A
81 -Y?
B[0—Y? o t
B
B —Y?
0 t
图P3.2
[题3.3] 试说明能否将与非门、或非门、异或门当做反相器使用?如果可以，各输入端
应如何连接?
[题3.4] 画出图P3.4所示电路在下列两种情况下的输出电压波形：
A
A- 0 t
BA
B. Y
o t
图P3.4
习题 151
(1)忽略所有门电路的传输延迟时间；
(2)考虑每个门都有传输延迟时间td。
输入端A、B的电压波形如图中所示。
[题3.5] 已知CMOS门电路的电源电压VDp=5V,静态电源电流Iop=2μA,输入信号
为200 kHz的方波(上升时间和下降时间可忽略不计),负载电容C?.=200 pF,功耗电容C=
20 pF,试计算它的静态功耗、动态功耗、总功耗和电源平均电流。
[题3.6] 若CMOS门电路工作在5V电源电压下的静态电源电流为5μA,在负载电容
C?为100 pF、输入信号频率为500 kHz时的总功耗为1.56 mW,试计算该门电路的功耗电容
的数值。
[题3.7] 试分析图P3.7中各电路的逻辑功能，写出输出的逻辑函数式。
VoD
-y
A·
B
C.
(a)
Vpp
A-
B
C
Y
(b)
152 第三章 门电路
INH Vop
A-
B·
-Y
C·
D·
(C)
Vop
T?
A·
TG? VDD
T? Y
B· TG?
T4
(d)
图 P3.7
[题3.8] 试画出图P3.8(a)、(b)两个电路的输出电压波形。输入电压波形如图(c)
所示。
[题3.9] 在图P3.9所示电路中，G?和G?是两个OD输出结构的与非门74HC03。
74HCO3输出端MOS管截止时的漏电流为IoH(max)=5μA;导通时允许的最大负载电流为
IoL(max)=5.2 mA,这时对应的输出电压VoL(max)=0.33V。负载门 G?~G?是3输人端或非门
74HC27,每个输入端的高电平输入电流最大值为IH(max)=1μA,低电平输入电流最大值为
IL(max)=-1 μA。试求在Vop=5V、并且满足VoH≥4.4 V、VoL≤0.33V的情况下，R取值的
习题 153
允许范围。
VDD
VNRL
A.B
D
Y?
BA
C- Y?
C-
D
(a) b)
Ak
0 t
BA
0 t
Ck
0 t
DF
0 t
(c)
图P3.8
[题3.10] 图P3.10中的G?~G?是OD输出结构的与非门74HCO3,它们接成线与结
构。试写出线与输出Y与输入A?、A?、B?、B?、C?、C?、D?、D?之间的逻辑关系式，并计算外接电
阻R?取值的允许范围。
YDD
YpD 74HC03×4
A?. S
74HC20×2
Rz
SRL A?-
74HC03×2 74HC27×3 B? G?
A· B?- B
G?
vo Gs
G? Vo C?. G? C?- D Y
G?
G?
C- D?-
D
G? G? D?- G? G?
G?
G? 74HC04×2
图P3.9 图P3.10
154 第三章 门电路
已知VDp=5V,74HCO3输出高电平时漏电流的最大值为IoH(max)=5μA,低电平输出电
流最大值为loL.(max)=5.2 mA,此时的输出低电平为VoLcmay)=0.33V。负载门每个输入端的
高、低电平输人电流最大值为±1μA。要求满足VoH≥4.4V、Vo?.≤0.33V。
[题3.11] 在图P3.11所示的三极管开关电路中，若输入信号 v?的高、低电平分别为
VH=5V、V?.=0V,试计算在图中标注的参数下能否保证v?=VH时三极管饱和导通、v =V,.
时三极管可靠地截止?三极管的饱和导通压降VCR(t)=0.1V,饱和导通内阻RCR()=20Ω。
如果参数配合不当，则在电源电压和Rc不变的情况下应如何修改电路参数?
+10V +5V
1k8SRc 2 kQ3Rc
Vo 3kQ≤R? Vo
vi 5.1 kΩ W
R?
18kQ≤R?
β=30 U? 4.7kQ
W
R?
β=50
18kSSR?
-10V -8V
图P3.11 图P3.12
[题3.12] 在图P3.12所示的电路中，试计算当输入端分别接0V、5V和悬空时输出
电压v。的数值，并指出三极管工作在什么状态。假定三极管导通以后vBe≈0.7 V,电路参数
如图中所注。
[题3.13] 试分析图P3.13中各电路的逻辑功能，写出输出的逻辑函数式。
[题3.14] 指出图P3.14中各门电路的输出是什么状态(高电平、低电平或高阻态)。
已知这些门电路都是74系列TTL电路。
[题3.15] 说明图P3.15中各门电路的输出是高电平还是低电平。已知它们都是
74HC系列的CMOS电路。
[题3.16] 在图P3.16所示的由74系列TTL与非门组成的电路中，计算门 GM能驱动
多少同样的与非门。要求GM输出的高、低电平满足VoH≥3.2V,Vo≤0.4V。与非门的输
入电流为I≤-1.6 mA,IH≤40μA。Vor.≤0.4V时输出电流最大值为IoL(cmax)=16 mA,
VoH≥3.2V时输出电流最大值为IoH(max)=-0.4 mA。GM的输出电阻可忽略不计。
[题3.17] 在图P3.17所示由74系列或非门组成的电路中，试求门GM能驱动多少同
样的或非门。要求GM输出的高、低电平满足VoH≥3.2 V,Vo≤0.4 V。或非门每个输入端
的输入电流为Iπ≤-1.6 mA,H≤40 μA。Vor.≤0.4V时输出电流的最大值为Iocma)=
16 mA,VoH≥3.2V时输出电流的最大值为IoH(max)=-0.4mA。GM的输出电阻可忽略不计。
[题3.18] 试说明在下列情况下，用万用表测量图P3.18中的vp端得到的电压各为多
少：
(1)v悬空；
(2)v接低电平(0.2 V);
A·
B-
S
G?
G?
A
A
B-
≤
W
(a)
≤ S
K
D
Vcc A
Y
B
S
D
(c)
(d)
图P3.13
习题 155
Vcc
-Y
Vcc
Vcc
WW
Y
(b)
Vcc
Y
156 第三章 门电路
10kΩ VmVcc Vn- V W
Y? Y? Y? 悬空 1W
51Q
Vcc Vcc VL Y? VH Vm Y? Y6
10kΩ 工州 51 kΩ
5.1 kQ Vcc— D VI—一 Vcc W
Y? Y? Vπ 悬空{
图P3.14
Vi Y, VH Y?
工以 10kQ 工以51 kΩ
VpD
51 kΩ
Vm -W 以RL
VDD -Y? Y?
Vi
图 P3.15
GM
图P3.16 图 P3.17
GM
习题 157
(3)v接高电平(3.2V);
(4)v经51Ω电阻接地；
(5)v经10kΩ电阻接地。
图中的与非门为74系列的TTL电路，万用表使用5V量程，内阻为20 kΩ/V。
[题3.19] 若将上题中的与非门改为74系列TTL 或非
Vi 门，试问在上列五种情况下测得的v?2各为多少?
Y
Vi2
[题3.20] 若将图P3.18中的门电路改为CMOS与非门，
试说明当v为题[3.18]给出的五种状态时测得的vp各等于多
少?
V
[题3.21] 在图P3.21所示电路中R?、R?和C构成输入
滤波电路。当开关S闭合时，要求门电路的输入电压V≤ 图P3.18
0.4V;当开关S断开时，要求门电路的输入电压VIH≥4V,试求
R,和R?的最大允许阻值。G?~G?为74LS系列TTL反相器，
它们的高电平输入电流IH≤20μA,低电平输入电流IIn.I≤0.4 mA。
Vcc=5V
R? R? G?
S
c: G? Voc
G?
人八R
G? Vn Vo
G?
iL
Vp-
图P3.21 图 P3.22
[题3.22] 试绘出图P3.22所示电路的高电平输出特性和低电平输出特性。已知Vcc
=5V,R=1 kΩ。OC门截止时输出管的漏电流IoH=200 μA。V?=Vm时OC门输出管饱和
导通，其饱和压降为VCE(sat)=0.1 V,饱和导通内阻为RCE(sat)=20 Ω。
[题3.23] 计算图P3.23电路中上拉电阻R?的阻值范围。其中G?、G?、G?是74LS系
列OC门，输出管截止时的漏电流IoH≤100μA,输出低电平VoL≤0.4V时允许的最大负载电
流IoL(max)=8 mA。G?、G?、G?为74LS系列与非门，它们的输入电流为|I|≤0.4 mA、IH≤
20μA。给定Vcc=5V,要求OC门的输出高、低电平应满足VoH≥3.2V、VoL≤0.4V。
[题3.24] 在图P3.24所示电路中，已知G,和G?为74LS系列OC输出结构的与非门，
输出管截止时的漏电流最大值为IoH(max)=100μA,低电平输出电流最大值为IoL(max)=8 mA,
这时输出的低电平为VoL(max)=0.4 V。G?~G?是74LS系列的或非门，它们高电平输人电流
158 第三章 门电路
最大值为IH(max)=20μA,低电平输入电流最大值为IL.(max)=-0.4 mA。给定Vcc=5V,要求
满足VoH≥3.4V、Vo.≤0.4V,试求R,取值的允许范围。
Vcc
Vcc SR
G? G? G?
R
G?
G? G? G? G?
G? vo
G? G?
图P3.23 图P3.24
[题3.25] 图P3.25所示是一个继电器线圈驱动电路。要求在v,=VH时三极管T截
止，而v?=0时三极管T饱和导通。已知 OC门输出管截止时的漏电流IoH≤100 μA,导通时
允许流过的最大电流Iol.(max)=10 mA,管压降小于0.1 V,导通内阻小于20Ω。三极管β=
50,饱和导通压降VcE(mt)=0.1V,饱和导通内阻RCE(sat)=20Ω。继电器线圈内阻240Ω,电源
电压Vcc=12V、VEF=-8V,R?=3.2 kΩ,R?=18 kΩ,试求R,的阻值范围。
[题3.26] 在图P3.26(a)所示电路中已知
三极管导通时VBE=0.7V,饱和压降VCE(sat)=
Vcc=12V
0.3V,饱和导通内阻为RCEC at) =20 Ω,三极管的
电流放大系数β=100。OC门G,输出管截止时
的漏电流约为50 μA,导通时允许的最大负载电
流为16mA,输出低电平≤0.3V。G?~G?均为
74系列TTL电路，其中G?为反相器，G?和G?是
与非门，G?是或非门，它们的输入特性如图
SR?
D
v?
R?
W T
R?S
P3.26(b)所示。试问：
VEE=-8V
(1)在三极管集电极输出的高、低电压满足 图P3.25
VoH≥3.5V、Vo.≤0.3V的条件下，RB的取值范
围有多大?
(2)若将OC门改成推拉式输出的TTL门电路，会发生什么问题?
[题3.27] 计算图P3.27所示电路中接口电路输出端 vc的高、低电平，并说明接口电
路参数的选择是否合理。三极管的电流放大系数β=40,饱和导通压降VCB(t)=0.1V,饱和
导通内阻RCE(sut)=20Ω。CMOS或非门的电源电压Vbp=5V,空载输出的高、低电平分别为
VoH=4.95 V、Vo=0.05 V,门电路的输出电阻小于200 Ω,高电平输出电流的最大值和低电
平输出电流的最大值均为4 mA。TTL或非门的高电平输人电流In=40μA,低电平输入电
流I=-1.6 mA。
习题 159
5V
SR 4.7k 人 G?
Vc
G?
G? i/mA
G? 0 1 2 v?/V
40μA
G? -1.6
(a) (b)
图P3.26
Vc=5V
2k8
Uc
RB β=40
33kQ
接口电路
S
W
Rc
Vop=5V
SR
CMOS TTL v
TTL 74HC系列CMOS
图P3.27 图P3.28
[题3.28] 图P3.28是用TTL电路驱动CMOS电路的实例，试计算上拉电阻RL的取值
范围。TTL与非门在Vo?.≤0.3V时的最大输出电流为8mA,输出端的T?管截止时有50μA
的漏电流。CMOS或非门的高电平输入电流最大值和低电平输人电流最大值均为1μA。要
求加到CMOS或非门输入端的电压满足Vm≥4V,V?≤0.3 V。给定电源电压VDp=5V。
[题3.29] 试说明下列各种门电路中哪些可以将输出端并联使用(输入端的状态不一
定相同):
(1)具有推拉式输出级的TTL电路；
(2)TTL电路的OC门；
(3)TTL电路的三态输出门；
(4)互补输出结构的CMOS门；
(5)CMOS电路的OD门；
(6)CMOS电路的三态输出门。
I
第四章
组合逻辑电路
内容提要
本章将重点介绍组合逻辑电路的特点以及组合逻辑电路的分析方法和设计方法。
首先讲述组合逻辑电路的共同特点和一般的分析方法和设计方法。然后介绍几种常
用的组合逻辑电路的工作原理和使用方法。最后着重从物理概念上说明竞争-冒险现象
及其成因，并扼要地介绍消除竞争-冒险现象的常用方法。此外，还给出了用Multisim 7
分析组合逻辑电路的实例。
4.1 概述
一、组合逻辑电路的特点
根据逻辑功能的不同特点，可以将数字电路分成两大类，一类称为组合逻辑
电路(简称组合电路),另一类称为时序逻辑电路(简称时序电路)。
在组合逻辑电路中，任意时刻的输出仅仅取决于该时该的输入，与电路原来
的状态无关。这就是组合逻辑电路在逻辑功能上的共同特点。
图4.1.1就是一个组合逻辑电路的例子。它有三个输入变量A、B、CI和两
个输出变量S、CO。由图可知，无论任何时刻，只要A、B和 CI的取值确定了，则
S和CO的取值也随之确定，与电路过去的工作状态无关。
二、逻辑功能的描述
从理论上讲，逻辑图本身就是逻辑功能的一种表达方式。然而在许多情况
下，用逻辑图所表示的逻辑功能不够直观，往往还需要把它转换为逻辑函数式或
逻辑真值表的形式，以使电路的逻辑功能更加直观、明显。
例如，将图4.1.1的逻辑功能写成逻辑函数式的形式即可得到
4.2 组合逻辑电路的分析方法和设计方法 161
B S
CI
CO
图4.1.1 组合逻辑电路实例
co=4BB)CI+AB (4.1.1)
对于任何一个多输入、多输出的组
合逻辑电路，都可以用图4.1.2所示的
框图表示。图中a?、a?、…、a,表示输
入变量，y?、y?、…、ym表示输出变量。
输出与输入间的逻辑关系可以用一组
逻辑函数表示
a?- a2-
组合逻辑
电路
y
: :
ax- ym
图4.1.2 组合逻辑电路的框图
(4.1.2)
或者写成向量函数的形式
Y=F(A) (4.1.3)
从组合电路逻辑功能的特点不难想到，既然它的输出与电路的历史状况无
关，那么电路中就不能包含有存储单元。这就是组合逻辑电路在电路结构上的
共同特点。
4.2 组合逻辑电路的分析方法和设计方法
4.2.1 组合逻辑电路的分析方法
所谓分析一个给定的逻辑电路，就是要通过分析找出电路的逻辑功能来。
通常采用的分析方法是从电路的输入到输出逐级写出逻辑函数式，最后得
162 第四章 组合逻辑电路
到表示输出与输入关系的逻辑函数式。然后用公式化简法或卡诺图化简法将得
到的函数式化简或变换，以使逻辑关系简单明了。为了使电路的逻辑功能更加
直观，有时还可以将逻辑函数式转换为真值表的形式。
【例4.2.1】 试分析图4.2.1所示电路的逻辑功能，指出该电路的用途。
D
C·
B-
A
Y? Y? Y。
图4.2.1 例4.2.1的电路
解：根据给出的逻辑图可写出Y?、Y、Y。和D、C、B、A之间关系的逻辑式
x=((DCB)(DCB)(DCA))'=D'CB+DCB'+DCA'(4.2.1)
(D'B')')=D'C'+D'B
从上面的逻辑函数式中我们还不能立刻看出这个电路的逻辑功能和用途。
为此，还需将式(4.2.1)转换成真值表的形式，得到表4.2.1。
表4.2.1 图4.2.1所示电路的逻辑真值表
输 入 输 出
D C B A Y? Y? Y?
0 0 0 0 0 0 1
0 0 0 1 0 0 1
0 0 1 0 0 0 1
6 0 1 1 0 0 1
0 1 0 0 0 0 1
4.2 组合逻辑电路的分析方法和设计方法 163
续表
输 入 输 出
D C B A Y? Y? Y,
0 1 0 1 0 0 1
0 1 1 0 0 1 0
0 1 1 1 0 1 0
1 0 0 0 0 1 0
1 0 0 1 0 1 0
1 0 1 0 0 1 0
1 0 1 1 1 0 0
1 1 0 0 1 0 0
1 1 0 1 1 0 0
1 1 1 0 1 0 0
1 1 1 1 1 0 0
由表4.2.1可以看到，当DCBA 表示的二进制数小于或等于5时Y。为1,当
这个二进制数在6和10之间时Y,为1,而当这个二进制数大于或等于11时Y?
为1。因此，这个逻辑电路可以用来判别输入的4位二进制数数值的范围。
可见，一旦将电路的逻辑功能列成真值表，它的功能也就一目了然了。
4.2.2 组合逻辑电路的设计方法
根据给出的实际逻辑问题，求出实现这一逻辑功能的最简单逻辑电路，这就
是设计组合逻辑电路时要完成的工作。
这里所说的“最简”,是指电路所用的器件数最少，器件的种类最少，而且器
件之间的连线也最少。
组合逻辑电路的设计工作通常可按以下步骤进行：
一、进行逻辑抽象
在许多情况下，提出的设计要求是用文字描述的一个具有一定因果关系的
事件。这时就需要通过逻辑抽象的方法，用一个逻辑函数来描述这一因果关系。
逻辑抽象的工作通常是这样进行的：
(1)分析事件的因果关系，确定输人变量和输出变量。一般总是把引起事
件的原因定为输入变量，而把事件的结果作为输出变量。
(2)定义逻辑状态的含意。
以二值逻辑的0、1两种状态分别代表输人变量和输出变量的两种不同状
态。这里0和1的具体含意完全是由设计者人为选定的。这项工作也称为逻辑
状态赋值。
(3)根据给定的因果关系列出逻辑真值表。
164 第四章 组合逻辑电路
至此，便将一个实际的逻辑问题抽象成一个逻辑函数了。而且，这个逻辑函
数首先是以真值表的形式给出的。
二、写出逻辑函数式
为便于对逻辑函数进行化简和变换，需要把真值表转换为对应的逻辑函数
式。转换的方法已在第二章中讲过。
三、选定器件的类型
为了产生所需要的逻辑函数，既可以用小规模集成的门电路组成相应的逻
辑电路，也可以用中规模集成的常用组合逻辑器件或可编程逻辑器件等构成相
应的逻辑电路。应该根据对电路的具体要求和器件的资源情况决定采用哪一种
类型的器件。
四、将逻辑函数化简或变换成适当的形式
在使用小规模集成的门电路进行设计时，为获得最简单的设计结果，应将函
数式化成最简形式，即函数式中相加的乘积项最少，而且每个乘积项中的因子也
最少。如果对所用器件的种类有附加的限制(例如只允许用单一类型的与非
门),则还应将函数式变换成与器件种类相适应的形式(例如将函数式化作与
非-与非形式)。
在使用中规模集成的常用组合逻辑电路设计电路时，需要将函数式变换为
适当的形式，以便能用最少的器件和最简单的连线接成所要求的逻辑电路。在
下一节中将会看到，每一种中规模集成器件的逻辑功能都可以写成一个逻辑函
数式。在使用这些器件设计组合逻辑电路时，应该将待产生的逻辑函数变换成
与所用器件的逻辑函数式相同或类似的形式。具体做法将在下一节中介绍。
有关使用存储器和可编程逻辑器件设计组合逻辑电路的具体做法，在后面
的章节中再做介绍。
目前用于逻辑设计的计算机辅助设计软件几乎都具有对逻辑函数进行化简
或变换的功能，因而，在采用计算和辅助设计时，逻辑函数的化简和变换都是由
计算机自动完成的。
五、根据化简或变换后的逻辑函数式，画出逻辑电路的连接图
至此，原理性设计(或称逻辑设计)已经完成。
六、工艺设计
为了将逻辑电路实现为具体的电路装置，还需要做一系列的工艺设计工作，
包括设计印刷电路板、机箱、面板、电源、显示电路、控制开关等。最后还必须完成
组装、调试。这部分内容请读者自行参阅有关资料，这里就不做具体的介绍了。
图4.2.2中以方框图的形式总结了逻辑设计的过程。应当指出，上述的设
计步骤并不是一成不变的。例如，有的设计要求直接以真值表的形式给出，就不
用进行逻辑抽象了。又如，有的问题逻辑关系比较简单、直观，也可以不经过逻
4.2 组合逻辑电路的分析方法和设计方法 165
辑真值表而直接写出函数式来。
用门电路|将函数
逻辑
问题
逻辑
真值表
逻辑
函数式
选定器
件类型
用MSI组合
电路或PLD
图4.2.2 组合逻辑电路的设计过程
【例4.2.2】设计一个监视交通信号灯工作状态的逻辑电路。每一组信号
灯均由红、黄、绿三盏灯组成，如图4.2.3所示。正常工作情况下，任何时刻必有
一盏灯点亮，而且只允许有一盏灯点亮。而当出现其他五种点亮状态时，电路发
生故障，这时要求发出故障信号，以提醒维护人员前去修理。
正常工作状态
红黄绿 RAG R A G RAG
故 障 状态
R A G R A G RA G RA G
式化简
将函数
式变换
RAG
图4.2.3 交通信号灯的正常工作状态与故障状态
解：(1)首先进行逻辑抽象。
取红、黄、绿三盏灯的状态为输入变量，分别用R、A、G表示，并规定灯亮时
为1,不亮时为0。取故障信号为输出变量，以Z表示之，并规定正常工作状态下
Z为0,发生故障时Z为1。
根据题意可列出表4.2.2所示的逻辑真值表。
表4.2.2 例4.2.2的逻辑真值表
R A G
逻辑
电路图
逻辑
电路图
Z
0 0
0
1
1
0
0
1
0
1
0
1
0 0
0 0
0 1
1 0
166 第四章 组合逻辑电路
续表
R A G Z
1 0
1
1
1
0
1
1
1 1
1 1
(2)写出逻辑函数式。
由表4.2.2知
Z=R'A'G'+R'AG+RA'G+RAG'+RAG (4.2.2)
(3)选定器件类型为小规模集成门电路。
(4)将式(4.2.2)化简后得到
Z=R'A'G'+RA+RG+AG (4.2.3)
(5)根据式(4.2.3)的化简结果画出逻辑电路图，得到图4.2.4所示的电路。
R· R
A· A G
-Z
G·
Z
图4.2.4 例4.2.2的逻辑图之一 图4.2.5 例4.2.2的逻辑图之二
由于式(4.2.3)为最简与或表达式，所以只有在使用与门和或门组成电路
时才得到最简单的电路。如果要求用其他类型的门电路来组成这个逻辑电路，
则为了得到最简单的电路，化简的结果亦需相应地改变。
例如，在要求全部用与非门组成这个逻辑电路时，就应当将函数式化为最简
与非-与非表达式。这种形式通常可以通过将与或表达式两次求反得到。在上
例中，将式(4.2.3)两次求反后得到
Z=((R'A'G'+RA+RG+AG)')'
=((R'A'G)'(RA)'(RG)'(AG)')' (4.2.4)
根据式(4.2.4)即可画出全部用与非门和反相器组成的逻辑电路，如图
4.2.5所示。
如果要求用与或非门实现这个逻辑电路，那么就必须将式(4.2.3)化为最
简与或非表达式。在第一章里我们曾经讲过，最简的与或非表达式可以通过合
并卡诺图上的0,然后求反而得到。为此，将函数Z的卡诺图画出，如图4.2.6
所示。将图中的0合并、求反得到
4.3 若干常用的组合逻辑电路 167
AG R· R 00 01 11 10
0 1 0 1 0) A- Z
1 (0) 1 1 1
G-
图4.2.6 例4.2.2的卡诺图 图4.2.7 例4.2.2的逻辑图之三
Z=(RA'G'+R'AG'+R'A'G)' (4.2.5)
按照式(4.2.5)画出的用与或非门组成的逻辑电路图如图4.2.7所示。
对于一些复杂的组合逻辑电路，往往已经难于用一组方程式完全描述它们
的逻辑功能了，因而在设计这些逻辑电路时，通常采用“自顶向下”与“自底向
上"相结合的设计方法。这两种方法都是首先将电路逐级分解为若干个简单的
模块，然后再将这些模块设计好并连接起来。这些简单的模块电路都可以用这
一节所讲的设计方法设计出来。有关“自顶向下”和“自底向上”的设计方法在
后面还会做进一步的讲解。
复习思考题
R4.2.1 什么是“逻辑抽象”?它包含哪些内容?
R4.2.2 对于同一个实际的逻辑问题，两个同学经过逻辑抽象得到的逻辑函数不完全
相同，这是为什么?
4.3 若干常用的组合逻辑电路
由于人们在实践中遇到的逻辑问题层出不穷，因而为解决这些逻辑问题而
设计的逻辑电路也不胜枚举。然而我们发现，其中有些逻辑电路经常、大量地出
现在各种数字系统当中。这些电路包括编码器、译码器、数据选择器、数值比较
器、加法器、函数发生器、奇偶校验器/发生器等。为了使用方便，已经将这些逻
辑电路制成了中、小规模集成的标准化集成电路产品。在设计大规模集成电路
时，也经常调用这些模块电路已有的、经过使用验证的设计结果，作为所设计电
路的组成部分。下面就分别介绍一下这些电路的工作原理和使用方法。
一
168 第四章 组合逻辑电路
4.3.1 编码器
为了区分一系列不同的事物，将其中的每个事物用一个二值代码表示，这就
是编码的含意。在二值逻辑电路中，信号都是以高、低电平的形式给出的。因
此，编码器(Encoder)的逻辑功能就是将输入的每一个高、低电平信号编成一个
对应的二进制代码。
一、普通编码器
目前经常使用的编码器有普通编码器和优先
编码器两类。在普通编码器中，任何时刻只允许
输入一个编码信号，否则输出将发生混乱。
I?- I?·
8线-3线
编码器
Y?
I?
I?
I?-
Y
现以3位二进制普通编码器为例，分析一下
普通编码器的工作原理。图4.3.1是3位二进制
编码器的框图，它的输入是I。~I,八个高电平信
号，输出是3位二进制代码Y?Y?Y。。为此，又将它
称为8线-3线编码器。输出与输入的对应关系
Is·
I?·
I?
Y。
图4.3.1 3位二进制(8线-
3线)编码器的框图
由表4.3.1给出。
表4.3.1 3位二进制编码器的真值表
输 入 输 出
I? I? I? I? I? I? I? I? Y? Y? Y?
1 0 0 0 0 0 0 0 0 0 0
0 1 0 0 0 0 0 0 0 0 1
0 0 1 0 0 0 0 0 0 1 0
0 0 0 1 0 0 0 0 0 1 1
0 0 0 0 1 0 0 0 1 0 0
0 0 0 0 0 1 0 0 1 0 1
0 0 0 0 0 0 1 0 1 1 0
0 0 0 0 0 0 0 1 1 1 1
将表4.3.1所示的真值表写成对应的逻辑式得到
II.I'I'I+'I'I''E'L'I
(4.3.1)
4.3 若干常用的组合逻辑电路 169
如果任何时刻I。~I,当中仅有一个取值为1,即输入变量取值的组合仅有
表4.2.1中列出的八种状态，则输入变量为
其他取值下其值等于1的那些最小项均为约
束项。利用这些约束项将式(4.3.1)化简，
得到
I? I? I?
I? I? I? I?
Y?
(4.3.2)
Y?
Y?
图 4.3.2就是根据式(4.3.2)得出的编
码器电路。这个电路是由三个或门组成的。 图4.3.2 3位二进制编码器
二、优先编码器
在优先编码器(priority encoder)电路中，允许同时输入两个以上的编码信
号。不过在设计优先编码器时已经将所有的输入信号按优先顺序排了队，当几
个输入信号同时出现时，只对其中优先权最高的一个进行编码。
图4.3.3给出了8线-3线优先编码器74HC148的逻辑图。如果不考虑由
门G?、G?和G?构成的附加控制电路，则编码器电路只有图中虚线框以内的这
一部分。
由图4.3.3写出输出的逻辑式，即得到
r=(L+LEE+1.+.)·s)
12T?I?+I3I?76+I5I?+1)·S)
(4.3.3)
为了扩展电路的功能和增加使用的灵活性，在74HC148的逻辑电路中附加
了由门G?、G?和G?组成的控制电路。其中S'为选通输入端，只有在S'=0的条
件下，编码器才能正常工作。而在S'=1时，所有的输出端均被封锁在高电平。
选通输出端Ys和扩展端Yx用于扩展编码功能。由图可知
YS=(I'I'I?I?I'I?I6I?S)' (4.3.4)
上式表明，只有当所有的编码输入端都是高电平(即没有编码输入),而且S=1
时，Ys才是低电平。因此，Ys的低电平输出信号表示“电路工作，但无编码输入”。
由图4.3.3还可以写出
Yex=((II'I?I?I?I?I?IS)'S)'
=((I?+I?+I?+I?+I?+I?+I?+I?)·S)' (4.3.5)
这说明只要任何一个编码输入端有低电平信号输入，且S=1,Y x即为低电平。
因此，YEx的低电平输出信号表示“电路工作，而且有编码输入”。
根据式(4.3.3)、(4.3.4)和(4.3.5)可以列出表4.3.2所示的74HC148的
170 第四章 组合逻辑电路
6 G?
Ys
G?
I
Yex
I?
Y%
I3
14
Y
I
I6
I Y2
S'
G?
图4.3.3 8线-3线优先编码器74HC148
功能表。它的输入和输出均以低电平作为有效信号。为了强调说明以低电平作
为有效输入信号，有时也将反相器图形符号中表示反相的小圆圈画在输入端，如
图4.3.3中左边一列反相器的画法。
表4.3.2 74HC148的功能表
输 入 输 出
I I? I? I3 I4 I% I' I? Y! Y2 Y
× × × × × × × ×
1 1 1 1 1 1 1 1
× × × × × × × 0
× × × × × × 0 1
× × × × × 0 1 1
× × × × 0 1 1 1
1 1 1
1 1 1
0 0 0
0 0 1
0 1 0
0 1 1
YS
1
0
1
1
1
1
S'
1
0
0
0
0
0
YEx
1
1
0
0
0
0
4.3 若干常用的组合逻辑电路 171
续表
输 入 输 出
S' I I Is I I I I I Y Y2 Y!
1 1 0 × × × 1 1
× × 0 1 1 1 1 1
× 0 1 1 1 1 1 1
0 1 1 1 1 1 1 1
0 0 1
1 0 1
1 1 0
1 1 1
Y YEx
0 1 0
0 1 0
0 1 0
0 1 0
由表4.3.2中不难看出，在S'=0电路正常工作状态下，允许I!~I' 当中同
时有几个输入端为低电平，即有编码输入信号。I的优先权最高，I。的优先权
最低。当I=0时，无论其他输入端有无输入信号(表中以×表示),输出端只给
出I,的编码，即YY'Y!=000。当I=1、I6=0时，无论其余输入端有无输入信
号，只对I?编码，输出为YY'Y!=001。其余的输入状态请读者自行分析。
表4.3.2中出现的三种Y?Y'Y!=111的情况可以用Y'和Y'x的不同状态加
以区分。
下面通过一个具体例子说明一下利用Ys和Y'x信号实现电路功能扩展的
方法。
【例4.3.1】 试用两片74HC148接成16线-4线优先编码器，将A?is
16个低电平输入信号编为0000~1111 16个4位二进制代码，其中A's的优先权
最高，A’的优先权最低。
解：由于每片74HC148 只有8个编码输入，所以需将16 个输入信号分别
接到两片上。现将A's~Ag8个优先权高的输入信号接到第(1)片的I~I。输
入端，而将A;~A'8个优先权低的输入信号接到第(2)片的I'~I??
按照优先顺序的要求，只有I'5~I?均无输入信号时，才允许对I'～I。的输
入信号编码。因此，只要将第(1)片的“无编码信号输入”信号Ys作为第(2)片
的选通输入信号S'就行了。
此外，当第(1)片有编码信号输入时，它的Yex =0,无编码信号输入时Yex =1,
正好可以用它作为输出编码的第四位，以区分8个高优先权输入信号和8个低优
先权输入信号的编码。编码输出的低3位应为两片输出Y2、Y'、Y。的逻辑或。
依照上面的分析，便得到了图4.3.4所示的逻辑图。
由图4.3.4可见，当A'5~A:中任一输入端为低电平时，例如A'?=0,则片
(1)的YEx=0,Z?=1,YY'Y!=100。同时片(1)的Ys=1,将片(2)封锁，使它的
输出YY'Y=111。于是在最后的输出端得到Z?Z?Z?Z。=1011。如果A's~Ag
中同时有几个输入端为低电平，则只对其中优先权最高的一个信号编码。
当Ai?~A全部为高电平(没有编码输入信号)时，片(1)的Ys=0,故片(2)
172 第四章 组合逻辑电路
Aí4 Ai? AioAg A6A4A2Aó
Ais|AisAi A9 A7 A; A3 Ai
S'
I?I? I?I?I?I?I?I?
S 74HC148(1)Ys
YEx Y? Y?Y?
Ys S'
I?I? I?I?I?I?III?
S 74HC148(2)Ys
YExY?Y?Y?
Ys
YEx Y? Yi Y! Y Yi
乙 Z 1Z
Yi
Z?
图4.3.4 用两片74HC148接成的16线-4线优先编码器
的S'=0,处于编码工作状态，对A',~A'。输入的低电平信号中优先权最高的一
个进行编码。例如A;=0,则片(2)的YY'Y!=010。而此时片(1)的Yex=1,
Z?=0。片(1)的Y?Y{Y!=111。于是在输出得到了Z?Z?Z?Z。=0101。
在常用的优先编码器电路中，除了二进制编码器以外，还有一类称为二-十
进制优先编码器。它能将I?,10个输入信号分别编成10个BCD代码。在
I?910个输入信号中I,的优先权最高，I的优先权最低。
在由中规模集成电路组成的应用电路中，习惯上采用逻辑框图来表示中规
模集成电路器件，如图4.3.4中所示。在逻辑框图内部只标注输入、输出原变量
的名称。如果以低电平作为有效的输入或输出信号，则于框图外部相应的输入
或输出端处加画小圆圈，并在外部标注的输入或输出端信号名称上加非号“'”。
图4.3.5是二-十进制优先编码器74LS147的逻辑图。由图得到
I?I+I?I?I??I,+I?I?I?I?IIs)'
(4.3.6)
将式(4.3.6)化为真值表的形式，即得到表4.3.3。由表可知，编码器的输
出是反码形式的BCD码。优先权以I为最高，I。为最低。
I'
1
×
×
×
X
×
×
×
×
0
I
1
×
×
×
×
×
×
×
0
1
I
I2-
I3
I4-
I·
I6
1;-
8
I6-
I3
1
×
×
×
×
×
×
0
1
1
4.3 若干常用的组合逻辑电路 173
Y!
B
Yi
D
D
Y2
-Y3
图4.3.5 二-十进制优先编码器74LS147
表4.3.3 二-十进制编码器74LS147的功能表
输 入 输 出
4 I5 I6 I I8 I, Y3 Y2 Y' Y!
1 1 1 1 1 1 1 1 1 1
× × X × × 0 0 1 1 0
× × × × 0 1 0 1 1 1
× × × 0 1 1 1 0 0 0
× × 0 1 1 1 1 0 0 1
× 0 1 1 1 1 1 0 1 0
0 1 1 1 1 1 1 0 1 1
1 1 1 1 1 1 1 1 0 0
1 1 1 1 1 1 1 1 0 1
1 1 1 1 1 1 1 1 1 0
174 第四章 组合逻辑电路
复习思考题
R4.3.1 在需要使用普通编码器的场合能否用优先编码器取代普通编码器?在需要使
用优先编码器的场合能否用普通编码器取代优先编码器?
4.3.2 译码器
译码器(Decoder)的逻辑功能是将每个输入的二进制代码译成对应的输出
高、低电平信号或另外一个代码。因此，译码是编码的反操作。常用的译码器电
路有二进制译码器、二-十进制译码器和显示译码器三类。
一、二进制译码器
二进制译码器的输入是一组二进制代码，输
出是一组与输入代码一一对应的高、低电平信号。
A?
图4.3.6是3位二进制译码器的框图。输入的 A?
3位二进制代码共有8种状态，译码器将每个输入代
码译成对应的一根输出线上的高、低电平信号。因 A?
此，也将这个译码器称为3线-8线译码器。
3线-8线
译码器
Y?
Y?
Y?
Y?
Y?
Y?
Y?
Y?
图 4.3.7是采用二极管与门阵列构成的3位
二进制译码器，图中的A?、A?、A。是输入端，Y。~
Y,是8个输出端。
图4.3.6 3位二进制(3线-
8线)译码器的框图
假定电源电压Vcc=5V,输入信号的高、低电平分别为3V和0V,二极管
的导通压降为0.7V。当A?A?A。=000时，A?、A?、A。为OV,A2、A'、A。为3V。这
时只有Y。输出高电平(3.7V),其余的输出端均为低电平(0.7V),于是将输入
的000代码译成了Y。端的高电平信号。
同理，译码器也将其他的每一个输入代码译成对应输出端的高电平信号
(或一个8位的二进制代码)。它们之间的对应关系如表4.3.4所示。
表4.3.4 3位二进制译码器的真值表
输 入 输 出
A? A? A? Y, Y? Y? Y? Y? Y? Y? Y。
0 0 0 0 0 0 0 0 0 0 1
0 0 1 0 0 0 0 0 0 1 0
0 1 0 0 0 0 0 0 1 0 0
0 1 1 0 0 0 0 1 0 0 0
1 0 0 0 0 0 1 0 0 0 0
1 0 1 0 0 1 0 0 0 0 0
1 1 0 0 1 0 0 0 0 0 0
1 1 1 1 0 0 0 0 0 0 0
4.3 若干常用的组合逻辑电路 175
Ao——— Aó
A?—一 Ai
A?- A2
Vcc
M
Y?
Y?
Y?
Y?
Y?
W Y?
Y
W Y?
图4.3.7 用二极管与门阵列组成的3线-8线译码器
用二极管与门阵列构成的译码器虽然比较简单，但也存在两个严重的缺点。
其一是电路的输入电阻较低而输出电阻较高，其二是输出的高、低电平信号发生偏
移(偏离输入信号的高、低电平)。因此，通常只在一些大规模集成电路内部采用
这种结构，而在一些中规模集成电路译码器中多半采用三极管集成门电路结构。
74HC138就是用CMOS 门电路组成的3线-8线译码器，它的逻辑图如图
4.3.8所示，逻辑功能表如表4.3.5所示。
所的S3
G?
Y!
59—Yi
Gs 99—Y
S
r
Y4
A?- G Y;
G?
A? Y6
G?
A?-
Y;
图4.3.8 用与非门组成的3线-8线译码器74HC138
176 第四章 组合逻辑电路
表4.3.5 3线-8线译码器74HC138的功能表
输 入 输 出
S, Sz+S3 A。 A? A?
×
1
0
0
0
0
0
0
0
0
× × ×
× × ×
0 0 0
0 0 1
0 1 0
0 1 1
1 0 0
1 0 1
1 1 0
1 1 1
Y% Y Y2 Y3 Y4 Y5 Y6 Y;
0 1 1 1 1 1 1 1 1
× 1 1 1 1 1 1 1 1
1 0 1 1 1 1 1 1 1
1 1 0 1 1 1 1 1 1
1 1 1 0 1 1 1 1 1
1 1 1 1 0 1 1 1 1
1 1 1 1 1 0 1 1 1
1 1 1 1 1 1 0 1 1
1 1 1 1 1 1 1 0 1
1 1 1 1 1 1 1 工 0
当门电路Gs的输出为高电平(S=1)时，可由逻辑图写出
(4.3.7)
由上式可以看出，Y!~Y,同时又是A?、A?、A。这三个变量的全部最小项的
译码输出，所以也将这种译码器称为最小项译码器。
74HC138有3个附加的控制端S?、S?和S3。当S,=1、S2+S3=0时，Gs输
出为高电平(S=1),译码器处于工作状态。否则，译码器被禁止，所有的输出端
被封锁在高电平，如表4.3.5所示。这3个控制端也称为“片选”输入端，利用
片选的作用可以将多片连接起来以扩展译码器的功能。
带控制输入端的译码器又是一个完整的数据分配器。在图4.3.8所示电路
中如果将S,作为“数据”输入端(同时令S2=S3=0),而将A?A?A。作为“地址”
输入端，那么从S?送来的数据只能通过由A?A?A。所指定的一根输出线送出去。
这就不难理解为什么把A?A?A。叫地址输入了。例如，当A?A?A。=101时，门 G?
的输入端除了接至Gs输出端的一个以外全是高电平，因此S,的数据以反码的
形式从Ys输出，而不会被送到其他任何一个输出端上。
在门电路的图形符号中，有时为了强调“低电平有效”,也在输入端处加上
小圆圈，同时在信号名称上加非号，如图4.3.8中的Gs那样。从逻辑功能上讲，
4.3 若干常用的组合逻辑电路 177
这个小圆圈所代表的含意是输入信号经过反相以后才加到后面的逻辑符号上
的，所以它代替了输入端的一个反相器，如图4.3.9所示。因此，可以把这种画
法看作是一种用输入端的小圆圈代替反相器的简化画法。
S?- S? S?
S2· -S S2 S? S=S?S?S?
S3- S3 S?
图4.3.9 门电路输入端反相记号的等效替代
【例4.3.2】试用两片3线-8线译码器74HC138 组成4线-16 线译码
器，将输入的4位二进制代码D?D?DD。译成16个独立的低电平信号Z′~Z's。
解：由图4.3.8可见，74HC138仅有3个地址输入端A?、A?、A。。如果想对
4位二进制代码译码，只能利用一个附加控制端(S?、S'2、S'3当中的一个)作为
第四个地址输入端。
取第(1)片74HC138的S'2和S'?作为它的第四个地址输入端(同时令S?'=
1),取第(2)片的S,作为它的第四个地址输入端(同时令S'?=S'3=0),取两片
的A?=D?、A?=D?、A。=D?,并将第(1)片的S2和S3接D?,将第(2)片的S,接
D?,如图4.3.10所示，于是得到两片74HC138的输出分别为
(4.3.8)
(4.3.9)
式(4.3.8)表明，当D?=0时第(1)片74HC138工作而第(2)片74HC138禁
止，将D?D?D?D。的0000~0111这8个代码译成Z'。~Z',8个低电平信号。而
式(4.3.9)表明，当D?=1时，第(2)片74HC138工作，第(1)片74HC138禁止，
将D?D?D?D。的1000~1111这8个代码译成Z8~Z's8个低电平信号。这样就
用两个3线-8线译码器扩展成一个4线-16线的译码器了。
同理，也可以用两个带控制端的4线-16线译码器接成一个5线-32线译
码器。
178 第四章 组合逻辑电路
D
D?-
D?- D?
A。A?A? S? S? S?
+5V
A。A,A? S? S? S?
74HC138(1) 74HC138(2)
Y?Y?Y?Y?Y?Y?Y?Y? Y?Y?Y?Y?Y?Y?Y6Y?
Z4Z5Z6Z Z8Z9 Zi?ZIZi?Zi?Zi?Zi?
图4.3.10 用两片74HC138接成的4线-16线译码器
二、二-十进制译码器
二-十进制译码器的逻辑功能是将输入 BCD码的10个代码译成10个高、
低电平输出信号。
图 4.3.11 是二-十进 制译码器
74HC42的逻辑图。根据逻辑图得到
Y%
A?
Y{
V!=(A'A A'A.
9-(A3A2A1A0
一Y
A? p-Y3
-Y4
A?
-Y;
(4.3.10) -Y?
并可列出电路的真值表，如表4.3.6所
示。 A?
-Y;
对于BCD代码以外的伪码(即1010
~11116个代码)Y?,均无低电平信号
产生，译码器拒绝“翻译”,所以这个电路
结构具有拒绝伪码的功能。
-Y:
Y
图4.3.11 二~十进制译码器74HC42
表4.3.6 二-十进制译码器74HC42的真值表
输 入 输 出
A? A? A? A? Y! Y Y2 Y3 Y4 Y; Y6 Y; Y8 Y,
0 0 0 0
0 0 0 1
0 0 1 0
0 0 1 1
0 1 0 0
0 1 1 1 1 1 1 1 1 1
1 0 1 1 1 1 1 1 1 1
1 1 0 1 1 1 1 1 1 1
1 1 1 0 1 1 1 1 1 1
1 1 1 1 0 1 1 1 1 1
序号
0
1
2
3
4
4.3 若干常用的组合逻辑电路 179
续表
序号 输 入
A? A。 A? A?
0 1 0 1
0 1 1 0
0 1 1 1
1 0 0 0
1 0 0 1
0 1 1 0
1 0 1 1
1 1 0 0
1 1 0 1
1 1 1 0
1 1 1 1
输 出
Y Y Y2 Y3 Y' Y' Y Y, Y: Y,
5 1 1 1 1 1 0 1 1 1 1
6 1 1 1 1 1 1 0 1 1 1
7 1 1 1 1 1 1 1 0 1 1
8 1 1 1 1 1 1 1 1 0 1
9 1 1 1 1 1 1 1 1 1 0
1 1 1 1 1 1 1 1 1 1
伪码 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1
三、显示译码器
1.七段字符显示器
为了能以十进制数码直观地显示数字系统的运行数据，目前广泛使用了七
段字符显示器，或称为七段数码管。这种字符显示器由七段可发光的线段拼合
而成。常见的七段字符显示器有半导体数码管和液晶显示器两种。
图4.3.12是半导体数码管 BS201A的外形图和等效电路。这种数码管的
每个线段都是一个发光二极管(Light Emitting Diode,简称 LED),因而也将它称
为LED数码管或 LED七段显示器。
发光二极管使用的材料与普通的硅二极管和锗二极管不同，有磷砷化镓、磷
化镓、砷化镓等几种，而且半导体中的杂质浓度很高。当外加正向电压时，大量
的电子和空穴在扩散过程中复合，其中一部分电子从导带跃迁到价带，把多余的
能量以光的形式释放出来，便发出一定波长的可见光。
磷砷化镓发光二极管发出光线的波长与磷和砷的比例有关，含磷的比例越
大波长越短，同时发光效率也随之降低。目前生产的磷砷化镓发光二极管(如
BS201、BS211等)发出光线的波长在6500?左右，呈橙红色。
在BS201等一些数码管中还在右下角处增设了一个小数点，形成了所谓八
段数码管，如图 4.3.12(a)所示。此外，由图4.3.12(b)的等效电路可见，
BS201A的八段发光二极管的阴极是做在一起的，属于共阴极类型。为了增加使
用的灵活性，同一规格的数码管一般都有共阴极和共阳极两种类型可供选用。
半导体数码管不仅具有工作电压低、体积小、寿命长、可靠性高等优点，而且
响应时间短(一般不超过0.1 μs),亮度也比较高。它的缺点是工作电流比较
大，每一段的工作电流在10 mA 左右。
另一种常用的七段字符显示器是液晶显示器(Liquid Crystal Display,简称
180 第四章 组合逻辑电路
1 a 10 1,10 7 109 8 5 4 2 3
2 fl g
b9 2,9 a b c d e f 8
3 8 3,8 D.P
4 e Jc 7 4,7
5 d
口 6 5,6 1,6 公共阴极
D.P
(a) (b)
图4.3.12 半导体数码管BS201A
(a)外形图(b)等效电路
LCD)。液晶是一种既具有液体的流动性又具有光学特性的有机化合物，它的透
明度和呈现的颜色受外加电场的影响，利用这一特点便可做成字符显示器。
在没有外加电场的情况下，液晶分子按一定取向整齐地排列着，如图
4.3.13(a)所示。这时液晶为透明状态，射入的光线大部分由反射电极反射回
来，显示器呈白色。在电极上加上电压以后，液晶分子因电离而产生正离子，这
些正离子在电场作用下运动并碰撞其他液晶分子，破坏了液晶分子的整齐排列，
使液晶呈现混浊状态。这时射入的光线散射后仅有少量反射回来，故显示器呈
暗灰色。这种现象称为动态散射效应。外加电场消失以后，液晶又恢复到整齐
排列的状态。如果将七段透明的电极排列成8字形，那么只要选择不同的电极
组合并加以正电压，便能显示出各种字符来。
透明电极
玻璃盖板
反射电极
(a)
(b) (c)
图4.3.13 液晶显示器的结构及符号
(a)未加电场时(b)加电场以后(c)符号
4.3 若干常用的组合逻辑电路 181
为了使离子撞击液晶分子的过程不断进行，通常在液晶显示器的两个电极
上加以数十至数百周的交变电压。对交变电压的控制可以用异或门实现，如图
4.3.14(a)所示。v?是外加的固定频率的对称方波电压。当A=0时，LCD两端
的电压vL=0,显示器不工作，呈白色；当A=1时，vL为幅度等于两倍v?的对称
方波，显示器工作，呈暗灰色。各点电
压的波形示于图4.3.14(b)中。 vs Vj-
液晶显示器的最大优点是功耗极
小，每平方厘米的功耗在1μW以下。
它的工作电压也很低，在1V以下仍
能工作。因此，液晶显示器在电子表
以及各种小型、便携式仪器、仪表中得
到了广泛的应用。但是，由于它本身
不会发光，仅仅靠反射外界光线显示
字形，所以亮度很差。此外，它的响应
速度较低(在10~200 ms范围),这就
限制了它在快速系统中的应用。
A-
VL+
一
(a)
v?
olA t
Ol
Vst t
2.BCD-七段显示译码器
ol VL4
(v?-vs)
t
半导体数码管和液晶显示器都可
以用TTL 或CMOS 集成电路直接驱
动。为此，就需要使用显示译码器将
BCD代码译成数码管所需要的驱动
信号，以便使数码管用十进制数字显
示出BCD代码所表示的数值。
ol t
(b)
图4.3.14 用异或门驱动液晶显示器
(a)电路(b)电压波形
今以A?A?A?A。表示显示译码器
输入的BCD代码，以Y~Y表示输出的7位二进制代码，并规定用1表示数码
管中线段的点亮状态，用0表示线段的熄灭状态。则根据显示字形的要求便得
到了表4.3.7所示的真值表。表中除列出了BCD代码的10个状态与Y~Y状
态的对应关系以外，还规定了输入为1010~1111这六个状态下显示的字形。
由表4.3.7可以看到，现在与每个输入代码对应的输出不是某一根输出线
上的高、低电平，而是另一个7位的代码了，所以它已经不是我们在这一节开始
所定义的那种译码器了。但从广义上讲，都可以称为译码器。
从得到的真值表画出表示Y~Y的卡诺图，即得到图4:3.15。在卡诺图上
采用“合并0然后求反”的化简方法将Y~Y化简，得到
182 第四章组合逻辑电路
表4.3.7 BCD-七段显示译码器的真值表
输 入 输 出
数宇 A? A? A? A。 Y Yb Y。 Y Y。 YY
0 0 0 0
0 0 0 1
0 0 1. 0
0 0 1 1
0 1 0 0
0 1 0 1
0 1 1 0
0 1 1 1
1 0 0 0
1 0 0 1
1 1 工 1 1 1 0
0 1 1 0 0 0 0
1 1 0 1 1 0 1
1 1 1 1 01
0 1 1 0 0 11
1 0 11 011
0 0 1 1 11
1 1 1 0 0 00
1 1 1 1 1 1
1 1 1 0 0 1 1
0
1
1
0 1 1 .0
1 0 1 1
1 1 0 0
1 1 0 1
1 1 1 0
1 1 1 1
1 0 1 0 0 0 1
0 0 1 1 0 0 1
0 工 0 00 1 1
1 0 0 10 1
0 0 01 11
0 0 0 0 0 0 0
1
字形
0
1
2
3
4
5
6
7
8
9
10
11
12
13
14
江行于归立一在行心 二_二一=
15
,A,+A.A')'
(4.3.11)
图4.3.16给出了BCD-七段显示译码器7448的逻辑图。如果不考虑逻辑
图中由G?~G?组成的附加控制电路的影响(G?和G?的输出为高电平),则
Y~Y与A?、A?、A?、A。之间的逻辑关系与式(4.3.11)完全相同。
附加控制电路用于扩展电路功能。下面介绍一下附加控制端的功能和用
4.3 若干常用的组合逻辑电路 183
A?Ao A?A? A?A?
A?A? 00 01 11 10 A?A2 00 01 11 10 A?A? 00 01 11 10
00 1 0 1 1 00 1 1 1 1 00 1 1 1 0
01 0 1 1 0 01 1 0 1 0 01 1 1 1 1
11 0 1 0 0 1 1 0 0 0 11 0 0 0 0
10 1 1 0 0 10 1 1 0 0 10 1 1 1 0
(a) (b) (c)
A?A?
A?A? 00 01 11 10
A?A? A?A? 00 01 11 10
00 1 0 1 1 00 1 0 0 1
01 0 1 0 1 01 0 0 0 1
11 0 1 0 1 11 0 0 0 1
10 1 0 1 1 10 1 0 0 1
(d) (e)
A?Ao A?A? 00 01 11 10
AA? A?A? 00 01 11 10
00 1 0 0 0 00 0 0 1 1
01 1 1 0 1 01 1 1 0 1
11 1 1 0 1 11 1 1 0 1
10 1 1 0 0 10 1
(f)
1 1 1
(g)
图4.3.15 BCD-七段显示译码器的卡诺图
法。
灯测试输入LT':
当有LT'=0的信号输入时，G?、G?、G?和G,的输出同时为高电平，使A?0=
A??=A??=0。对后面的译码电路而言，与输入为A?=A?=A?=0一样。由式
(4.3.11)可知，Y~Y将全部为高电平。同时，由于G??的两组输入中均含有低
电平输入信号，因而Y也处于高电平。可见，只要令LT'=0,便可使被驱动数码
管的七段同时点亮，以检查该数码管各段能否正常发光。平时应置LT'为高电
平。
灭零输入RBI':
184 第四章 组合逻辑电路
G?3
Ya
G? A?
G? G? G? A? A1 Yb
G?0
G? A? a G??
G?
-Yc
G? A
A? G?6 G?? Ya
A?
G? G?7
RI/RBO' -Ye
G?
G?8
G? Yf
LT G? G?9
RBI'-
-Yg
图4.3.16 BCD-七段显示译码器7448的逻辑图
设置灭零输入信号RBI'的目的是为了能把不希望显示的零熄灭。例如，有
一个8位的数码显示电路，整数部分为5位，小数部分为3位，在显示13.7这个
数时将呈现00013.700字样。如果将前、后多余的零熄灭，则显示的结果将更加
醒目。
由图4.3.16可知，当输入A?=A?=A?=A。=0时，本应显示出0。如果需要
将这个零熄灭，则可加入RBI'=0的输入信号。这时G?的输出为低电平，并经
过G?输出低电平使A?3=A?2=A??=A?0=1。由于G??~G?9每个与或非门都有一
组输入全为高电平，所以Y~Y全为低电平，使本来应该显示的0熄灭。
灭灯输入/灭零输出BI'/RBO':
这是一个双功能的输入/输出端，它的电路结构如图4.3.17(a)所示。
BI'/RBO'作为输入端使用时，称灭灯输入控制端。只要加入灭灯控制信号
BI'=0,无论A?A?A?A。的状态是什么,定可将被驱动数码管的各段同时熄灭。由
4.3 若干常用的组合逻辑电路 185
Vcc 2.4keS Vcc S6kΩ 多6k9
输入
BI/RBO'
(a) (b)
Vcc
S2kQ
输出
(c)
图4.3.17 7448的输入、输出电路
(a)BI'/RBO'端(b)输入端(c)输出端
图4.3.16可见，此时G?肯定输出低电平，使A?3=A?2=A=A??=1,Y~Y 同
时输出低电平，因而将被驱动的数码管熄灭。
BI'/RBO'作为输出端使用时，称为灭零输出端。由图4.3.16可得到
RBO'=(A?·A?·A'·A?LT'·RBI)' (4.3.12)
上式表明，只有当输入为A?=A?=A?=A。=0,而且有灭零输入信号(RBI'=
0)时，RBO'才会给出低电平。因此，RBO'=0表示译码器已将本来应该显示的
零熄灭了。
用7448可以直接驱动共阴极的半导体数码管。由图 4.3.17(c)所示的
7448输出电路可以看到，当输出管截止、输出为高电平时，流过发光二极管的电
流是由Vcc经2 kΩ上拉电阻提供的。当Vcc=5V时，这个电流只有2 mA左右。
如果数码管需要的电流大于这个数值时，则应在2kΩ的上拉电阻上再并联适当
的电阻。图4.3.18给出了用7448驱动BS201A半导体数码管的连接方法。
将灭零输入端与灭零输出端配合使用，即可实现多位数码显示系统的灭零
控制。图4.3.19示出了灭零控制的连接方法。只需在整数部分把高位的RBO'
与低位的RBI'相连，在小数部分将低位的RBO'与高位的RBI'相连，就可以把前、
后多余的零熄灭了。在这种连接方式下，整数部分只有高位是零，而且被熄灭的
186 第四章 组合逻辑电路
Vαc
BS201A 多 S1kQ×7
A? A? Vcc Y。 a e
A?A?- A?
A?
Ao- A。 (7448) Yb b
f
Yc c 8
1- LT Ya d
BIRBO Ye
RBI Y
GNDYg
图4.3.18 用7448驱动BS201A的连接方法
情况下，低位才有灭零输入信号。同理，小数部分只有在低位是零，而且被熄灭
时，高位才有灭零输入信号。
小数点
ag
Y Y
7448
RBI RBO
7448
RBI RBO|
7448
RBI RBO
7448
RBI RBO
7448
RBI RBO
7448
RBI RBO
1 1
图4.3.19 有灭零控制的8位数码显示系统
四、用译码器设计组合逻辑电路
前面已经详细介绍了二进制译码器的电路结构和工作原理。由图4.3.8所
示的3线-8线译码器中可以看到，当控制端S=1时，若将A?、A?、A。作为3个
输入逻辑变量，则8个输出端给出的就是这3个输入变量的全部最小项m!~
m',如式(4.3.7)所示。利用附加的门电路将这些最小项适当地组合起来，便可
产生任何形式的三变量组合逻辑函数。
同理，由于n位二进制译码器的输出给出了n变量的全部最小项，因而用 n
变量二进制译码器和或门(当译码器的输出为原函数m。~m?n-1时)或者与非门
(当译码器的输出为反函数m!~m2n_1时)定能获得任何形式输入变量数不大于
n的组合逻辑函数。
【例4.3.3】试利用3线-8线译码器74HC138设计一个多输出的组合逻
I i
7448
RBI RBO
7448
RBI RBO
4.3 若干常用的组合逻辑电路 187
辑电路。输出的逻辑函数式为
(4.3.13)
解：首先将式(4.3.13)给定的逻辑函数化为最小项之和的形式，得到
(4.3.14)
由图 4.3.8和式(4.3.7)可知，只要令74HC138 的输入A?=A、A?= B、
A。=C,则它的输出Y!~Y,就是式(4.3.14)中的m!~m'。由于这些最小项是
以反函数形式给出的，所以还需要将Z?~Z?变换为m!~m}的函数式
(4.3.15)
上式表明，只需在74HC138的输出端附加4个与非门，即可得到Z,~Z?的
逻辑电路。电路的接法如图4.3.20所示。
如果译码器的输出为原函数形式(m。~m,),则只要将图4.3.20中的与非
门换成或门就行了。
A- A? Y?
A? Y?
Z?
A。
S? 74HC138 Y?
Y?
Z?
Y?
S9 Y?Y,
Z?
Y? Z?
图4.3.20 例4.3.3的电路
B
C
1-
0-
S?
S2
S3
188 第四章 组合逻辑电路
复习思考题
R4.3.2 用二-十进制译码器附加门电路(如图4.3.20所示的结构形式)能否得到任
何形式的四变量逻辑函数?为什么?
R4.3.3 用4线-16线译码器(输入为A?、A?、A?、A?,输出为Y!~Y's)能否取代图
4.3.20中的3线-8线译码器?如果可以取代，那么电路应如何连接?
4.3.3 数据选择器
一、数据选择器的工作原理
在数字信号的传输过程中，有时需要从一组输入数据中选出某一个来，这时就
要用到一种称为数据选择器(Data Selector)或多路开关(Multiplexer)的逻辑电路。
现以双 4 选1数据选择器
74HC153为例，说明它的工作原 Ao-
理。图 4.3.21 是74HC153的逻
辑图，它包含两个完全相同的 4
选1数据选择器。两个数据选择
器有公共的地址输入端，而数据
输入端和输出端是各自独立的。
通过给定不同的地址代码(即
A?
S{-
D?0 TG,
TGs
D TG? Y?
D?? TG?
A?A。的状态),即可从4个输入数
据中选出所要的一个，并送至输
出端Y。图中的S和S2是附加
控制端，用于控制电路工作状态
和扩展功能。
TG?
D13- TG
Y
S?-
D?o- TG
TG
由图4.3.21可见，当A。=0
时传输门 TG,和TG?导通，而
TG?和 TG?截止。当A。=1时
TG?和TG?截止，而TG?和TG?
导通。同理，当A,=0时TG?导
通、TG?截止。而A?=1时TG?截
止、TG?导通。因此，在A?A。的状
D??- TG Y?
D2?- TG
TG
D?? TG
图4.3.21 双4选1数据选择器74HC153
态确定以后，D?0~D??当中只有一个能通过两级导通的传输门到达输出端。例
如，当A?A。=01时，第一级传输门中的TG?和TG?导通，第二级传输门的TG?导
——
4.3 若干常用的组合逻辑电路 189
通，只有D端的输入数据能通过传输门 TG?和TG?到达输出端Y。
输出的逻辑式可写成
Y?=[D?(A'A?D(A'A?)+D??(A?A?D??(A?A?)]·S?(4.3.16)
同时，上式也表明S'=0时数据选择器工作，S'=1时数据选择器被禁止工
作，输出被封锁为低电平。
【例4.3.4】 试用两个带附加控制端的4选1数据选择器组成一个8选1
数据选择器。
解：如果使用两个4选1数据选择器，可以有8个数据输入端，是够用的。
为了能指定8个输入数据中的任何一个，必须用3位输入地址代码，而4选1数
据选择器的输入地址代码只有两位。第三位地址输入端只能借用控制端S'。
用一片74HC153双4选1数据选择A?-
器，将输入的低位地址代码A,和A。接 A?-
到芯片的公共地址输入端A,和A。,将高 A?·
位输入地址代码A?接至S',而将A2接 D?- D?
Si S,
A?
D?0
D?n
A?
至S2,同时将两个数据选择器的输出相 D?-
D?-
D12
Y?
D?3 加，就得到了图4.3.22 所示的8选1数
据选择器。
G? S2 74HC153 Y
当A?=0时上边一个数据选择器工
作，通过给定A,和A。的状态，即可从
D?- Ds D?D?
S?
D?0
D??
D22
G?
Y?
D?3
D。~D?中选中某一个数据，并经过门 G?
送到输出端Y。反之，若A?=1,则下边
一个4选1数据选择器工作，通过给定
图4.3.22 用两个4选1数据选择器
接成的8选1数据选择器
A?和A。的状态，便能从D?~D,中选出一个数据，再经过门G?送到输出端Y。
如果用逻辑函数式表示图4.3.22所示电路输出与输入间的逻辑关系，则得到
Y=(A?A'A?。+(A?A'A?)D,+(A?A?A??+(A?A?A?)D?
(4.3.17) +(A?A'A??+(A?A'A?)D?+(A?A,A??+(A?A?A。)D,
在需要对接成的8选1数据选择器进行工作状态控制时，只需在门 G?上增
加一个控制输入端就够了(图中未画出)。
常见的数据选择器产品除“4选1”这种以外，还有“2选1”、“8选1”、“16
选1”几种类型。它们的工作原理和上面所讲的4选1数据选择器类似，只是数
据输入端和地址输入端的数目各不相同而已。
二、用数据选择器设计组合逻辑电路
由式(4.3.16)可见，具有两位地址输入A?、A。的4选1数据选择器在S=1
190 第四章 组合逻辑电路
时输出与输入间的逻辑关系可以写成
Y=D?(A'A?D?(A'A?)+D?(A?A?D?(A?A?) (4.3.18)
若将A?、A。作为两个输入变量，同时令D。~D?为第三个输入变量的适当状
态(包括原变量、反变量、0和1),就可以在数据选择器的输出端产生任何形式
的三变量组合逻辑函数。
同理，用具有n位地址输入的数据选择器，可以产生任何形式输入变量数不
大于n+1的组合逻辑函数。
【例4.3.5】 试用4选1数据选择器实现例4.2.2的交通信号灯监视电路。
解：已知例4.2.2要求产生的逻辑函数为式(4.2.2),即
Z=R'A'G'+R'AG+RA'G+RAG'+RAG (4.3.19)
将上式稍加变换即可化成与式(4.3.18)完 A-
全对应的形式 G—
Z=R'(A'G')+R(A'G)+R(AG')+1·(AG) A?A?
(4.3.20)
将式(4.3.20)与式(4.3.18)对照一下
便知，只要令数据选择器的输入为 R·
D?
D?
D?
1- D?
274HC153 Y -Z
A,=A D。=R'
D=D?=R A。=G
D?=1
S
图 4.3.23 例4.3.5的电路
如图4.3.23所示，则数据选择器的输出就是式(4.2.2)所要求的逻辑函数Z。
【例4.3.6】试用8选1数据选择器产生三变量逻辑函数
Z=A'B'C'+AC+A'BC (4.3.21)
解：8选1数据选择器有3位地址输入(n=3),能产生任何形式的四变量
以下的逻辑函数，故定可生成式(4.3.21)的三变量逻辑函数。
图4.3.24中虚线框内部分是8选1数据选择器74HC151的逻辑图，在控制
端输入S'=0(S=1)的情况下，输出的逻辑式为
+D,(A'A'A。)+D,(A'A,A)+D?(A'A,A。)+ D、(A4Ai4)+D,(C4AA)++D?(A?A?A?D,(A?A?A?) (4.3.22)
将式(4.3.21)化成与式(4.3.22)中Y对应的形式得到
Z =A'B'C'+AC+A'BC
=1·(A'B'C')+0·(A'B'C)+0·(A'BC')+1·(A'BC)+
0·(AB'C')+1·(AB'C)+0·(ABC')+1·(ABC)(4.3.23)
4.3 若干常用的组合逻辑电路 191
将以上两式对照一下可知，只要令数据选择器的输入为
A?=A
D?=D?=D?=D,=1 A?=B
A。=C D,=D?=D?=D?=0
则数据选择器的输出Y就是所需要的逻辑函数Z。电路的接法如图4.3.24
所示。
S'
C· Ao
B
A
A- A?
74HC151
1- Do TG
D
D? T
TG
T
四
四
Y
Z
D?
D?
Ds
w
0· D?
D? 安 TG
图4.3.24 例4.3.6的电路
复习思考题
R4.3.4 数据选择器输入数据的位数和输人地址的位数之间应满足怎样的定量关系?
R4.3.5 如果用同样的一个4选1数据选择器产生同样的一个三变量逻辑函数，电路接
法是否是唯一的?
192 第四章 组合逻辑电路
4.3.4 加法器
两个二进制数之间的算术运算无论是加、减、乘、除，目前在数字计算机中都
是化做若干步加法运算进行的。因此，加法器是构成算术运算器的基本单元。
一、1位加法器
1.半加器
如果不考虑有来自低位的进位将两个1位二进制数相加，称为半加。实现
半加运算的电路称为半加器。
按照二进制加法运算规则可以列出如表4.3.8所示的半加器真值表，其中
A、B是两个加数，S是相加的和，CO是向高位的进位。将S、CO和A、B的关系
写成逻辑表达式则得到
co=ABAB=ADB (4.3.24)
表4.3.8 半加器的真值表
输 人 输 出
A B S CO
0 0 0 0
0 1 1 0
1 0 1 0
1 1 0 1
因此，半加器是由一个异或门和一个与门组成的，如图4.3.25所示。
A·B
S A- ∑
CO
S
CO B- CO
(a) (b)
图4.3.25 半加器
(a)逻辑图(b)符号
2.全加器
在将两个多位二进制数相加时，除了最低位以外，每一位都应该考虑来自低
位的进位，即将两个对应位的加数和来自低位的进位3个数相加。这种运算称
为全加，所用的电路称为全加器。
根据二进制加法运算规则可列出1位全加器的真值表，如表4.3.9所示。
4.3 若干常用的组合逻辑电路 193
表4.3.9 全加器的真值表
输 入 输 出
CI A B S CO
0 0 0 0 0
0 0 1 1 0
0 1 0 1 0
0 1 1 0 1
1 0 0 1 0
1 0 1 0 1
1 1 0 0 1
1 1 1 1 1
画出图4.3.26 所示S和CO的卡诺图，采用合并0再求反的化简方法得到
co=(4′G'r+EAC+ACBCI+AB CP) (4.3.25)
AB AB
CI 00 01 11 10 C 00 01 11 10
0 0 1 0 1
0 1 0
0 0 0 1 0
1 1 1 0 1 1 1
S CO
图4.3.26 全加器的卡诺图
图4.3.27(a)所示双全加器74LS183的逻辑图就是按式(4.3.25)组成的。
全加器的电路结构还有多种其他形式，但它们的逻辑功能都必须符合表4.3.9
给出的全加器真值表。
二、多位加法器
1.串行进位加法器
两个多位数相加时每一位都是带进位相加的，因而必须使用全加器。只要
依次将低位全加器的进位输出端CO接到高位全加器的进位输入端CI,就可以
构成多位加法器了。
图4.3.28就是根据上述原理接成的4位加法器电路。显然，每一位的相加
结果都必须等到低一位的进位产生以后才能建立起来，因此将这种结构的电路
称为串行进位加法器(或称为行波进位加法器)。
这种加法器的最大缺点是运算速度慢。在最不利的情况下，做一次加法运
算需要经过4个全加器的传输延迟时间(从输入加数到输出状态稳定建立起来
194 第四章 组合逻辑电路
CI· CO
B- A- ∑
CI
CO
S
B
A- CI CO
-S
(a) (b)
图4.3.27 双全加器74LS183
(a)2逻辑图(b)图形符号
Ao B? A?B? A?B? A?B?
CIA B CIAB B
2
CO
CIA CIA B
Z Z ∑
CO CO CO
CO
S? S? S? S?
图4.3.28 4位串行进位加法器
所需要的时间)才能得到稳定可靠的运算结果。但考虑到串行进位加法器的电
路结构比较简单，因而在对运算速度要求不高的设备中，这种加法器仍不失为一
种可取的电路。
2.超前进位加法器
为了提高运算速度，必须设法减小由于进位信号逐级传递所耗费的时间。
那么高位的进位输入信号能否在相加运算开始时就知道呢?
我们知道，加到第i位的进位输入信号是这两个加数第i位以下各位状态的
函数，所以第i位的进位输入信号(CI);一定能由A;_1A;_2…A。和B;_1Bi-2…B?
唯一地确定。根据这个原理，就可以通过逻辑电路事先得出每一位全加器的进
4.3 若干常用的组合逻辑电路 195
位输入信号，而无需再从最低位开始向高位逐位传递进位信号了，这就有效地提
高了运算速度。采用这种结构形式的加法器称为超前进位(Carry Look-ahead)
加法器，也称为快速进位(Fast Carry)加法器。
下面具体分析一下这些超前进位信号的产生原理。从表4.3.9所示的全加
器的真值表中可以看到，在两种情况下会有进位输出信号产生。第一种情况是
AB=1,这时(CO)=1。第二种情况是A+B=1且(CI)=1,也产生(CO)=1的
信号，这时可以把来自低位的进位输入信号(CI)直接传送到进位输出端(CO)。
事实上在AB=1时同样也可以将CI直接传送到输出端。于是两个多位数中第i
位相加产生的进位输出(CO);可表示为
(CO);=A;B+(A;+B)(CI); (4.3.26)
若将A,B,定义为进位生成函数G,同时将(A;+B)定义为进位传送函数
P,则式(4.3.26)可改写为
(CO);=G;+P;(CI); (4.3.27)
将上式展开后得到
(CO);=G;+P;(CI);
=G;+P[G;-1+P:_1(CI);-1]
=G;+P:G,_1+PPi_1[Gi-2+Pi_2(CI);-2]
…
=G,+PGi-1+PPi_1Gi_2+…+PPi_1…P?G?
+PPi-1…P。(CI)。 (4.3.28)
从全加器的真值表(表4.3.9)写出第i位和S:的逻辑式得到
S;=A:B'(CI)'+A'B;(CI)'+A'B'(CI);+A,B;( CI);(4.3.29)
有时也将上式变换为异或函数
S;=(A:B'+A'B)(CI)'+(A:B;+A'B')(CI);
=(A;+B;)(CI)'+(A;+B;)'(CI);
=A:④B:+(CI); (4.3.30)
根据式(4.3.28)和式(4.3.30)构成的4位超前进位加法器74LS283 如图
4.3.29所示。现以第1位(i=1)为例，分析一下它的逻辑功能。门G?2的输出
X?、门 G?3的输出Y,及和S,分别为
X,=(A?B?)'(A,+B?)=A?+B?
Y?=((A。+B?)'+(CI)。(A,B?)')'=A?B?+(A。+B?)(CI)。
=G?+P?(CI)。=(CO)。=(CI),
S?=X?④Y=A?+B?+(CI)?
可见，(CO)。和S,的结果与式(4.3.28)和式(4.3.30)完全相符。
从图4.3.29上还可以看出，从两个加数送到输入端到完成加法运算只需三
—
…—
196 第四章 组合逻辑电路
CO
B?
A? S?
B?
A? S?
G?5 B? G22 X? G?1
A? S?
G? Y?
G??
B? G23 G
A? G?? So
G?4
CI G?3
图4.3.29 4位超前进位加法器74LS283
级门电路的传输延迟时间，而获得进位输出信号仅需一级反相器和一级与或非
门的传输延迟时间。然而必须指出，运算时间得以缩短是用增加电路复杂程度
的代价换取的。当加法器的位数增加时，电路的复杂程度也随之急剧上升。
三、用加法器设计组合逻辑电路
如果要产生的逻辑函数能化成输入变量与输入变量或者输入变量与常量在
数值上相加的形式，这时用加法器来设计这个组合逻辑电路往往会非常简单。
4.3 若干常用的组合逻辑电路 197
【例4.3.7】 设计一个代码转换电路，将十进制代码的8421码转换为余3码。
解：以8421码为输入、余3码为输出，即可列出代码转换电路的逻辑真值
表，如表4.3.10所示。
仔细观察一下表4.3.10不难发现，Y?Y?Y?Y。和 DCBA所代表的二进制数始
终相差0011,即十进制数的3。故可得
Y?Y?Y?Y。=DCBA+0011 (4.3.31)
其实这也正是余3代码的特征。根据式(4.3.31),用一片4位加法器
74LS283便可接成要求的代码转换电路，如图4.3.30所示。
表4.3.10 例4.3.7的逻辑真值表
输 入 输 出 D- D C B A Y? Y? Y? Y。 A? cO
C A?
0 0 0 0 0 0 1 1 B- A?
0 0 0 1 0 1 0 0 A- Ao
0 0 1 0 0 1 0 1 0- B?
0 0 1 1 0 1 1 0 B?
74LS283 S? Y?
S? Y?
0 1 0 0 0 1 1 1
1 B? S? Y?
0 1 0 1 1 0 0 0
B?
CI S? Y。 0 1 1 0 1 0 0 1
0
1
1 1 1 1 0 1 0
0 0 0 1 0 1 1
1 0 0 1 1 1 0 0
图4.3.30 例4.3.7
的代码转换电路
复习思考题
R4.3.6 串行进位加法器和超前进位加法器有何区别?它们各有何优缺点?
4.3.5 数值比较器
在一些数字系统(例如数字计算机)当中经常要求比较两个数值的大小。
为完成这一功能所设计的各种逻辑电路统称为数值比较器。
一、1位数值比较器
首先讨论两个1位二进制数A和B相比较的情况。这时有三种可能：
(1)A>B(即A=1、B=0),则AB'=1,故可以用AB'作为A>B的输出信号
Y(4>B)。
198 第四章 组合逻辑电路
(2)A<B(即A=0、B=1),则A'B=1,故可以用A'B作为A<B的输出信
号Y(A<B)。
(3)A=B,则AOB=1,故可以用AOB作为A=B的输出信号Y(A=B)。
图4.3.31给出的是一种实用的1位数值比较器电路。
Yu>B)=AB'
A·B· Y(A-B)=A OB
Y(A<B)=A'B
图4.3.31 1位数值比较器
二、多位数值比较器
在比较两个多位数的大小时，必须自高而低地逐位比较，而且只有在高位相
等时，才需要比较低位。
例如，A、B是两个4位二进制数A?A?A?A。和B?B?B?B?,进行比较时应首先
比较A?和B?。如果A?>B?,那么不管其他几位数码各为何值，肯定是A>B。反
之，若A?<B?,则不管其他几位数码为何值，肯定是A<B。如果A?=B?,这就必
须通过比较下一位A?和B?来判断A和B的大小了。依此类推，定能比出结果。
如果A、B是两个多位数的高4位数，那么,当A、B相等时，就需要以低位的
比较结果来决定两个数的大小了。根据上述原理，我们就得到了表示A>B、A<
B和A=B的逻辑函数式为
Y(A>B)=A?B3+(A?OB?)A?B?+(A?OB?)(A?OB?)A?B{
+(A?OB?)(A?OB?)(A?OB?)A?B%
+(A?OB?)(A?OB?)(A?OB?)(A?OB?)I(A>B)(4.3.32)
Y(A<B)=A?B?+(A?OB?)A?B?+(A?OB?)(A?OB?)A'B?
+(A?OB?)(A?OB?)(A?OB?)A'B?
+(A?OB?)(A?OB?)(A?OB?)(A?OB?)I(A<B) (4.3.33)
Y(A=B)=(A?OB?)(A?OB?)(A?OB?)(A?OB?)I(A=B) (4.3.34)
I>B)、I4<B)和I=B)是来自低位的比较结果。相比较的两数都只有4位，没有
来自低位的比较结果时，应令I(A>B)=I(A<B)=0,Y(A=B)=1。由于A和B比较的
结果只有A>B、A<B和A=B三种可能，所以“不是A>B或者A=B,就是A<
B”、“不是A<B或者A=B,就是A>B”,因此又得到如下关系式
Y(A>B)=(Y(A<B)+Y(A=B))' (4.3.35)
Y(A<B)=(Y(A>B)+Y(A=B))' (4.3.36)
图4.3.32是4位数值比较器74LS85的逻辑图。这个电路就是按照式
——
4.3 若干常用的组合逻辑电路 199
(4.3.32)~(4.3.36)接成的。利用I(A>B)、I(A<B)和I(A=B)这三个输入端，可以将
两片以上的74LS85组合成位数更多的数值比较器电路。
AB
Yu>B)
AB
u
lu>B)
Yu=B)
AB
Yu<B)
Ao B?-
图4.3.32 4位数值比较器74LS85
【例4.3.8】试用两片74LS85组成一个8位数值比较器。
解：根据多位数比较的规则，在高位相等时取决于低位的比较结果。因此
只要将两个数的高4位C?C6C?C?和D?D?D?D?接到第(2)片74LS85上，而将低
4位C?C?C,C。和D?D?D?D。接到第(1)片74LS85上，同时把第(1)片的Y(A>B)、
Y(A<B)和Y(A=B)接到第(2)片I(A>B)、(A<B)和I(A=B)就行了。
因为第(1)片74LS85没有来自低位的比较信号输入，所以将它的I(A>B)和
I(A<B)端接0,同时将它的I(A=B)端接1。这样就得到了图4.3.33 所示的8位数
值比较电路。
目前生产的数值比较器产品中，也有采用其他电路结构形式的。因为电路
200 第四章 组合逻辑电路
5
D?-
C?
B?
A? D?-
D?
B?
食2
Y(A<B)
D? C?
C?D?-
5D? Co
A1B?A? 74LS85(1) Y(A=B) CsDs
B?
A?B?
A?B1
Y(A<B) Y(C<D)
D? C? B
A? 74LS85(2) Y(A-B) Y(c=D)
1-
I(A<B)
I(A=B)
I(A<B) Y(A>B) I(A=B) Y(A>B) Y(C>D)
I(A>B) I(A>B)
图 4.3.33 将两片74LS85接成8位数值比较器
结构不同，扩展输入端的用法也不完全一样，使用时应注意加以区别。
复习思考题
R4.3.7 如果用4位数值比较器比较两个3位的二进制数，可以有多少种接法?
4.4 组合逻辑电路中的竞争一冒险现象
4.4.1 竞争一冒险现象及其成因
在前面的章节里我们系统地讲述了组合逻辑电路的分析方法和设计方法。
这些分析和设计都是在输入、输出处于稳定的逻辑电平下进行的。为了保证系
统工作的可靠性，有必要再观察一下当输入信号逻辑电平发生变化的瞬间电路
的工作情况。
首先让我们看两个最简单的例子。在图4.4.1(a)所示的与门电路中，稳态
下无论A=1、B=0还是A=0、B=1,输出皆为Y=0。但是在输入信号A从1跳
变为0时，如果B从0跳变为1,而且B首先上升到VL(max)以上，这样在极短的
时间△t内将出现A、B同时高于V(max)的状态，于是便在门电路的输出端产生
了极窄的Y=1的尖峰脉冲，或称为电压毛刺，如图中所示(在画波形时考虑了
门电路的传输延迟时间)。显然，这个尖峰脉冲不符合门电路稳态下的逻辑功
能，因而它是系统内部的一种噪声。
4.4 组合逻辑电路中的竞争-冒险现象 201
A·
B· Y
A-B· Y
A
Vcmx) A VH(cmm
B
V(mx) B VH(min)
△t At
Y Y
(a) (b)
图4.4.1 由于竞争而产生的尖峰脉冲
同样，在图4.4.1(b)所示的或门电路中，稳态下无论A=0、B=1还是A=
1、B=0,输出都应该是Y=1。但如果A从1变成0的时刻和B从0变成1的时
刻略有差异，而且在A下降到VIH(min)时B尚未上升到VIH(min),则在暂短的△t时
间内将出现A、B同时低于VH(min)的状态，使输出端产生极窄的Y=0的尖峰脉
冲。这个尖峰脉冲同样也是违背稳态下逻辑关系的噪声。
我们将门电路两个输入信号同时向相反的逻辑电平跳变(一个从1变为0,
另一个从0变为1)的现象称为竞争。
应当指出，有竞争现象时不一定都会产生尖峰脉冲。例如，在图4.4.1(a)
所示的与门电路中，如果在B上升到VL(max)之前A已经降到了VL(max)以下(如
图中虚线所示),这时输出端不会产生尖峰脉冲。同理，在图4.4.1(b)所示的或
门电路中，若A下降到VIH(min)以前B已经上升到VH(min)以上(如图中虚线所
示),输出端也不会有尖峰脉冲产生。
如果图4.4.1所示的与门和或门是复杂数字系统中的两个门电路，而且A、
B又是经过不同的传输途径到达的，那么在设计时往往难于准确知道A、B到达
次序的先后，以及它们在上升时间和下降时间上的细微差异。因此，我们只能说
只要存在竞争现象，输出就有可能出现违背稳态下逻辑关系的尖峰脉冲。
由于竞争而在电路输出端可能产生尖峰脉冲的现象就称为竞争一冒险。
图4.4.2是一个2线-4线译码器的电路和它的电压波形图。由图上可以
看到，在A、B的稳定状态下输出Y。和Y?都应为0状态。然而由于门 G?和G?
的传输延迟时间不同，在AB从10跳变为01的过程中，Y。端有尖峰脉冲产生。
此外，由于A、B在变化过程中到达VIL(max)的时刻不同，Y?端也有尖峰脉冲出现。
202 第四章 组合逻辑电路
A VL(max)
G? A
G?A
Y?
(AB) B
Vn(mx)
G? B ǎB) A' Vi(max)
G?
4B) B' G?
Yumx)
B) ouBL
(a)
uL
(b)
图4.4.2 2线-4线译码器中的竞争-冒险现象
(a)电路图(b)电压波形图
倘若译码器的负载是一个对尖峰脉冲敏感的电路(例如下一章将要讲到的
触发器),那么这种尖峰脉冲将可能使负载电路发生误动作。对此应在设计时
采取措施加以避免。
*4.4.2 检查竞争-冒险现象的方法
在输入变量每次只有一个改变状态
的简单情况下，可以通过逻辑函数式判
断组合逻辑电路中是否有竞争一冒险
现象存在。
2m
A- Y=A+A'
2n+1
2m
Y=A·A'
2n+1
如果输出端门电路的两个输入信
号A和A'是输入变量A经过两个不同
的传输途径而来的(如图4.4.3所示),
那么当输入变量A的状态发生突变时
输出端便有可能产生尖峰脉冲。因此，A
只要输出端的逻辑函数在一定条件下
能简化成
Y=A+A' 或Y=A·A'
则可判定存在竞争-冒险现象。 图4.4.3 同一输入变量经不同途径到达输
出门的情况(m、n均为正整数)
4.4 组合逻辑电路中的竞争-冒险现象 203
如果图4.4.3所示电路的输出端是或非门、与非门，同样也存在竞争-冒险
现象。这时的输出应能写成Y=(A+A')'或者Y=(A·A)'的形式。
【例4.4.1】试判断图4.4.4中的两个电路中是否存在竞争-冒险现象。
已知任何瞬间输入变量只可能有一个改变状态。
A·B
A
B
G? G?
-Y -Y
G? C- G? G? G? C- G?
G?
(a) (b)
图4.4.4 例4.4.1的电路
解：图4.4.4(a)电路输出的逻辑函数式可写为
Y=AB+A'C
当B=C=1时，上式将成为
Y=A+A'
故图4.4.4(a)电路中存在竞争-冒险现象。
图4.4.4(b)电路的输出为
Y=(A+B)·(B'+C)
在A=C=0的条件下，上式简化为
Y=B·B'
故图4.4.4(b)电路中也存在竞争-冒险现象。
这种方法虽然简单，但局限性太大，因为多数情况下输入变量都有两个以上
同时改变状态的可能性。如果输入变量的数目又很多，就更难于从逻辑函数式
上简单地找出所有产生竞争-冒险现象的情况了。
将计算机辅助分析的手段用于分析数字电路以后，为我们从原理上检查复
杂数字电路的竞争-冒险现象提供了有效的手段。通过在计算机上运行数字电
路的模拟程序，能够迅速查出电路是否会存在竞争-冒险现象。目前已有这类
成熟的程序可供选用。
另一种方法是用实验来检查电路的输出端是否有因为竞争-冒险现象而产
生的尖峰脉冲。这时加到输入端的信号波形应该包含输入变量的所有可能发生
的状态变化。
204 第四章 组合逻辑电路
即使是用计算机辅助分析手段检查过的电路，往往也还需要经过实验的方
法检验，方能最后确定电路是否存在竞争-冒险现象。因为在用计算机软件模
拟数字电路时，只能采用标准化的典型参数，有时还要做一些近似，所以得到的
模拟结果有时和实际电路的工作状态会有出入。因此可以认为，只有实验检查
的结果才是最终的结论。
4.4.3 消除竞争-冒险现象的方法
一、接入滤波电容
由于竞争-冒险而产生的尖峰脉冲一般都很窄(多在几十纳秒以内),所以
只要在输出端并接一个很小的滤波电容C(如图4.4.5(a)所示),就足以把尖
峰脉冲的幅度削弱至门电路的阈值电压以下。在TTL电路中，C的数值通常在
几十至几百皮法的范围内。
这种方法的优点是简单易行，而缺点是增加了输出电压波形的上升时间和
下降时间，使波形变坏。
二、引入选通脉冲
第二种常用的方法是在电路中引入一个选通脉冲p,如图4.4.5(a)所示。
因为p的高电平出现在电路到达稳定状态以后，所以G。~G?每个门的输出端都
不会出现尖峰脉冲。但需注意，这时G。~G?正常的输出信号也将变成脉冲信
号，而且它们的宽度与选通脉冲相同。例如，当输入信号AB变成11以后，Y?并
不马上变成高电平，而要等到p端的正脉冲出现时才给出一个正脉冲。
A
G? A
A' Y? C B
G? B. Y? C A' B' G?
Y? C
G? B'
p- Y?
工C p
(a) (b)
图4.4.5 消除竞争-冒险现象的几种方法
(a)电路接法(b)电压波形
4.4 组合逻辑电路中的竞争-冒险现象 205
三、修改逻辑设计
以图4.4.4(a)所示电路为例，我们已经得到了它输出的逻辑函数式为Y=
AB+A'C,而且知道在B=C=1的条件下，当A改变状态时存在竞争-冒险现
象。
根据逻辑代数的常用公式可知
Y=AB+A'C=AB+A'C+BC
G? A-B-
(4.4.1) G? G? G?
我们发现，在增加了BC项以后，在B
=C=1时无论A如何改变，输出始终保持
Y
C-
Y=1。因此，A的状态变化不再会引起竞
争-冒险现象。
Gs
因为BC一项对函数Y来说是多余
的，所以将它称为Y的冗余项，同时将这种
图4.4.6 用增加冗余项消除
竞争-冒险现象
修改逻辑设计的方法称为增加冗余项的方法。增加冗余项以后的电路如图
4.4.6所示。
用增加冗余项的方法消除竞争-冒险现象适用范围是很有限的。由图
4.4.6所示电路中不难发现，如果A和B同时改变状态，即AB从10变为01时，
电路仍然存在竞争-冒险现象。可见，增加了冗余项BC以后仅仅消除了在B=
C=1时，由于A的状态改变所导致的竞争-冒险。
将上述三种方法比较一下不难看出，接滤波电容的方法简单易行，但输出电
压的波形随之变坏。因此，只适用于对输出波形的前、后沿无严格要求的场合。
引入选通脉冲的方法也比较简单，而且不需要增加电路元件。但使用这种方法
时必须设法得到一个与输入信号同步的选通脉冲，对这个脉冲的宽度和作用的
时间均有严格的要求。至于修改逻辑设计的方法，倘能运用得当，有时可以收到
令人满意的效果。例如，在图4.4.6所示的电路中，如果门 G?在电路中本来就
已存在，那么只需增加一根连线，把它的输出引到门G?的一个输入端就行了，既
不必增加门电路，又不给电路的工作带来任何不利的影响。然而，这样有利的条
件并不是任何时候都存在，而且这种方法能解决的问题也是很有限的。
复习思考题
R4.4.1 你能用最简单的语言说明什么是竞争-冒险现象以及它的产生原因吗?
R4.4.2 有哪些方法可以消除竞争-冒险现象?这些方法各有何优缺点?
206 第四章 组合逻辑电路
*4.5 用Multisim 7分析组合逻辑电路
我们在第2.8节中已经提到，Multisim 7具有很强的逻辑仿真功能。将给定
的逻辑图输入计算机以后，利用Multisim 7的逻辑转换器立刻就可以得到电路
的真值表和逻辑函数式，操作十分简单。
【例4.5.1】 用Multisim 7分析图4.5.1所示的逻辑电路，找出电路的逻辑
函数式和逻辑真值表。8选1数据选择器74HC151的逻辑图和逻辑函数式见图
4.3.24 和式(4.3.22)。 VoD
解：启动Multisim 7程序，出现用户界面
以后首先需要建立图 4.5.1所示的逻辑电路
图。为此，我们从CMOS集成电路器件库中找
74HC04
Q D?
D?
D?
出74HC151、74HC04、Vpp和接地端的符号，将它
们放置在窗口的合适位置，然后连成与图4.5.1
完全相同的电路图，如图 4.5.2所示。(请注
意，Multisim 7器件库里74HC151 逻辑框图内部
变量名称的标注与图4.5.1中74HC151逻辑框
图内部标注的不完全相同。图4.5.2中的～G
D?
D?
Y Z
D?
D?
D?
74HC151 W
P- A?
N· A?
与图4.5.1中的S相对应，图4.5.2中的A、B、C M· A?
与图4.5.1中的A。、A?、A?相对应。) S
下面就可以用逻辑转换器分析显示器上
所建立的逻辑电路了。从用户界面上的仪器 图4.5.1 例4.5.1的组合逻辑电路
栏中将“逻辑转换器”击出，然后将电路的四个变量输入端M、N、P、Q依次接到
逻辑转换器最左边的四个输入端A、B、C、D,同时将电路的输出端接到逻辑转换
器最右边的一个输人端Out,如图4.5.2上所显示的那样。
双击画面左上方的逻辑转换器图标，便弹出画面上右边的操作窗口。点击操
作窗口右侧上方第一个按钮，逻辑真值表就立刻出现在左侧的表格中；再点击右侧
上方的第三个按钮，在操作窗口底部一栏里就得到了化简后的逻辑函数式为
B'D'+ABD+BC (4.5.1)
上式给出的是逻辑转换器输入变量A、B、C、D与输出变量 Out的函数关系。由
于A、B、C、D对应于图4.5.1中的M、N、P、Q,Out 对应于图4.5.1中的Z,因此
得到图4.5.1所示电路的逻辑函数式为
Z=N'Q'+MNQ+NP (4.5.2)
XLC1 —AB U2A 74HC04D_6V
VDD CND
5V
Logic Converter-XLC1 A??
000001 002003 004005 006007 008
U1
009
4321 19141312
品計路器品品分
Y ~W
的口不 G
五 6
01001: BD+ABD+BC
11104 Z
74HC151D_6V 图4.5.2 用Multisiom 7的逻辑转换器分析图4.5.1电路
参褐犹参琴代的多《集参Cp* w
Ot C Conversions
一10
101
AB
Ta1 AB AIE
STMP
AB 10: NAND
*4.5用Multisim7分析组合逻辑电路207
208 第四章 组合逻辑电路
本章小结
在这一章里我们讲述了组合逻辑电路的特点、组合逻辑电路的分析方法和
设计方法、若干常用组合逻辑电路的原理和使用方法、组合逻辑电路中的竞争-
冒险现象等几部分内容。
因为针对每一种逻辑功能都可以设计出一个相应的逻辑电路，所以逻辑电
路的种类已难于胜数。为便于掌握这些电路的共同特点和内在联系，按逻辑功
能的不同特点把它们分成了组合逻辑电路和时序逻辑电路两大类。
组合逻辑电路在逻辑功能上的特点是任意时刻的输出仅仅取决于该时刻的
输入，而与电路过去的状态无关。它在电路结构上的特点是只包含门电路，而没
有存储(记忆)单元。显然，符合上述特点的组合逻辑电路仍然是非常多的，不
可能逐一列举。
考虑到有些种类的组合逻辑电路使用得特别频繁，为便于使用，把它们制成
了标准化的中规模集成器件，供用户直接选用。这些器件包括编码器、译码器、
数据选择器、加法器、数值比较器、奇偶校验/发生器、BCD与二进制代码转换器
等。为了增加使用的灵活性，也为了便于功能扩展，在多数中规模集成的组合逻
辑电路上都设置了附加的控制端(或称为使能端、选通输入端、片选端、禁止端
等)。这些控制端既可用于控制电路的状态(工作或禁止),又可作为输出信号
的选通输入端，还能用作输入信号的一个输入端以扩展电路功能。合理地运用
这些控制端能最大限度地发挥电路的潜力。灵活地运用这些器件还可以设计出
任何其他逻辑功能的组合逻辑电路。此外，在使用大规模集成的可编程逻辑器
件设计组合逻辑电路以及设计大规模集成电路芯片的过程中，也经常把这些常
用组合逻辑电路作为典型的模块电路，用来构建所需要的逻辑电路。有关可编
程逻辑器件的内容我们将在第八章中做具体介绍。
尽管各种组合逻辑电路在功能上千差万别，但是它们的分析方法和设计方
法都是共同的。掌握了分析的一般方法，就可以识别任何一个给定电路的逻辑
功能；掌握了设计的一般方法，就可以根据给定的设计要求设计出相应的逻辑电
路。因此，学习本章内容时应将重点放在分析方法和设计方法上，而不必去记忆
各种具体的逻辑电路。
在使用中规模集成电路设计组合逻辑电路时，总的步骤和使用小规模集成
电路时是一样的，但在有些步骤的做法上不完全相同。
第一步进行逻辑抽象、第二步写出逻辑函数式，和使用小规模集成电路时没
有区别。
第三步，将逻辑函数变换为适当的形式，而不是要求化为最简形式。因为每
—
习题 209
一种中规模集成的组合逻辑电路都有确定的逻辑功能，并可以写成逻辑函数式
的形式，所以为了使用这些器件构成所需的逻辑电路，必须把要产生的逻辑函数
变换成与所用器件的逻辑函数式类似的形式。
将变换后的逻辑函数式与选用器件的函数式对照比较，有以下4种可能的
情况：
1.两者形式完全相同，使用这种中规模集成器件效果最为理想。
2.两者形式类同，所选器件的逻辑函数式包含更多的输入变量和乘积项。
这时只需对多余的变量输入端和乘积项做适当处理，也能很方便地得到所要的
逻辑电路。
3.所选用的中规模集成器件的逻辑函数式是要求产生的逻辑函数的一部
分，这时可以通过扩展的方法(将几片联用或附加少量其他器件)组成要求的逻
辑电路。
4.如果可用的中规模集成电路品种有限，而这些器件的逻辑函数式又与要
求产生的逻辑函数在形式上相差甚远，就不宜采用这些器件来设计所需的逻辑
电路了。
根据逻辑函数式对照比较的结果，即可确定所用的器件各输入端应当接入
的变量或常量(1或0),以及各片之间的连接方式。
第四步，按照上面对照比较的结果，画出设计的逻辑电路图。
我们将上述使用中规模集成器件设计组合逻辑电路的方法称为逻辑函数式
对照法。
竞争-冒险是组合逻辑电路工作状态转换过程中经常会出现的一种现象。
如果负载是一些对尖峰脉冲敏感的电路，则必须采取措施防止由于竞争而产生
的尖峰脉冲。如果负载电路对尖峰脉冲不敏感(例如负载为光电显示器件),就
不必考虑这个问题了。
习
[题4.1] 分析图P4.1电路的逻辑功能，写出输出的逻辑函数式，列出真值表，说明电
路逻辑功能的特点。
A-
B-
Y
C-
7
图 P4.1
210 第四章 组合逻辑电路
[题4.2] 图P4.2是一个多功能函数发生电路。试写出当S?S?S?S?为0000~1111 16
种不同状态时输出Y的逻辑函数式。
S?S? S?S?
Ycc
B SR
A'
-Y
B'
图P4.2
[题4.3] 分析图P4.3电路的逻辑功能，写出Y?、Y?的逻辑函数式，列出真值表，指出
电路完成什么逻辑功能。
B- A.
C Y?
Y?
图 P4.3
[题4.4] 图P4.4是对十进制数9求补的集成电路CC14561的逻辑图，写出当COMP
=1、Z=0和COMP=0、Z=0时Y,、Y?、Y?、Y的逻辑式，列出真值表。
[题4.5] 用与非门设计四变量的多数表决电路。当输入变量A、B、C、D有3个或3个
以上为1时输出为1,输人为其他状态时输出为0。
[题4.6] 有一水箱由大、小两台水泵ML和Ms供水，如图P4.6所示。水箱中设置了3
个水位检测元件A、B、C。水面低于检测元件时，检测元件给出高电平；水面高于检测元件
时，检测元件给出低电平。现要求当水位超过C点时水泵停止工作；水位低于C点而高于B
点时Ms单独工作；水位低于B点而高于A点时M单独工作；水位低于A点时M和Ms同
时工作。试用门电路设计一个控制两台水泵的逻辑电路，要求电路尽量简单。
[题4.7] 设计一个代码转换电路，输入为4位二进制代码，输出为4位格雷码。可以
采用各种逻辑功能的门电路来实现。4位格雷码见本书第1.5节的表1.5.2。
[题4.8] 试画出用4片8线-3线优先编码器74HC148 组成32线-5线优先编码器
习题 211
A? TG? Y?
d
TG?
A? Y?
TG,
TG? TG? Y?
五
A?- TG?
点
TG? Y?
A? TG?F
COMP Z-
图P4.4
的逻辑图。74HC148的逻辑图见图4.3.3。允许附加必要的门电路。
[题4.9] 某医院有一、二、三、四号病
室4间，每室设有呼叫按钮，同时在护士值
班室内对应地装有一号、二号、三号、四号4
个指示灯。
C
B
现要求当一号病室的按钮按下时，无论
其他病室的按钮是否按下，只有一号灯亮。
当一号病室的按钮没有按下而二号病室的
按钮按下时，无论三、四号病室的按钮是否
按下，只有二号灯亮。当一、二号病室的按
钮都未按下而三号病室的按钮按下时，无论
Ms
A M
图P4.6
四号病室的按钮是否按下，只有三号灯亮。只有在一、二、三号病室的按钮均未按下而按下四
号病室的按钮时，四号灯才亮。试用优先编码器74HC148和门电路设计满足上述控制要求
的逻辑电路，给出控制四个指示灯状态的高、低电平信号。
[题4.10] 写出图P4.10中Z,、Z?、Z?的逻辑函数式，并化简为最简的与或表达式。译
码器74HC42的逻辑图见图4.3.11。
212 第四章 组合逻辑电路
SA SA
Yo
Y?
Yó
SB
Y?
SB Y?
Y?
M A? YoY
Yó Y?
N- A?
P A? 74HC42 Y?Y?
Z, A? 74LS154
Y?
Y?
Y?
Y?
A?
Z?
Y?
Y?
Y?0
Y
Q A?
Y?Y?
Y?Y?
A?
Z? A?
Y?2|
Y?3
Y14
Y?5 Yís
Y,
图P4.10 图P4.11
[题4.11] 画出用两片4线-16线译码器74LS154组成5线-32线译码器的接线图。
图P4.11是74LS154的逻辑框图，图中的S'A、S'g是两个控制端(亦称片选端),译码器工作
时应使S'A和S'B同时为低电平。当输人信号A?A?A?A。为0000~1111这16种状态时，输出
端从Y。到Yi?依次给出低电平输出信号。
[题4.12] 试画出用3线-8线译码器74HC138(见图4.3.8)和门电路产生如下多输
出逻辑函数的逻辑图。
mC
[题4.13] 画出用4线-16线译码器74LS154(参见题4.11)和门电路产生如下多输出
逻辑函数的逻辑图。
+A'B'CD'+A B'C'D'+A'B C'D' CDCOABCD+ACD
[题 4.14] 用3线-8线译码 器
74HC138和门电路设计1位二进制全减器电
路。输入为被减数、减数和来自低位的借位；
输出为两数之差和向高位的借位信号。
[题4.15] 试用两片双4选1数据选择
器74HC153和3线-8线译码器74HC138接
成16选1的数据选择器。74HC153的逻辑图
见图4.3.21,74HC138的逻辑图见图4.3.8。
[题4.16] 分析图P4.16电路，写出输
出Z的逻辑函数式。74HC151为8选1数据
A-
B-
C
D 1 D'0
A?D?D?D?D?D?D?D?D?
A? 74HC151
A?
S
S"
W Y
Z
图P4.16
习题 213
选择器，它的逻辑图见图4.3.24,输出的逻辑函数式见式(4.3.22)。
[题4.17] 图P4.17是用两个4选1数据选择器组成的逻辑电路，试写出输出Z与输
人M、N、P、Q之间的逻辑函数式。已知数据选择器的逻辑函数式为
Y=[D?A'A。+D?A'A。+D?A?Aó+D?A,A。]·S
Q-
P-
N-
M
S D?D?D?D? A?
A。 Y
A? S D?D?D?D?
A。 Y
Z
图P4.17
[题4.18] 试用4选1数据选择器产生逻辑函数
Y=AB'C'+A'C'+BC
[题4.19] 用8选1数据选择器74HC151(见图4.3.24)产生逻辑函数
Y=AC'D+A'B'CD+BC+BC'D'
[题4.20] 用8选1数据选择器74HC151(见图4.3.24)产生逻辑函数
Y=AC+A'BC'+A'B'C
[题4.21] 设计用3个开关控制一个电灯的逻辑电路，要求改变任何一个开关的状态
都能控制电灯由亮变灭或者由灭变亮。要求用数据选择器来实现。
[题4.22] 人的血型有A、B、AB、0四种。输血时输血者的血型与受血者血型必须符合
图P4.22中用箭头指示的授受关系。试用数据选择器设计一
个逻辑电路，判断输血者与受血者的血型是否符合上述规定。
(提示：可以用两个逻辑变量的四种取值表示输血者的血型，用
另外两个逻辑变量的四种取值表示受血者的血型。)
A A
B B
[题4.23] 用8选1数据选择器74HC151(见图4.3.24)
设计一个组合逻辑电路。该电路有3个输入逻辑变量A、B、C
和1个工作状态控制变量M。当M=0时电路实现“意见一
致”功能(A、B、C状态一致时输出为1,否则输出为0),而M=
1时电路实现“多数表决”功能，即输出与A、B、C中多数的状
态一致。
AB AB)
o O
图P4.22
[题4.24] 用8选1数据选择器设计一个函数发生器电路，它的功能如表P4.24所示。
214 第四章 组合逻辑电路
[题4.25] 试用4位并行加法器
74LS283 设计一个加/减运算电路。当控制
信号M=0时它将两个输入的4位二进制数
相加，而M=1时它将两个输入的4位二进
制数相减。两数相加的绝对值不大于15。
允许附加必要的门电路。
表P4.24 题4.24电路的功能表
S? S? Y
0 0 A·B
0 1 A+B
1 0 A+B
[题4.26] 能否用一片4位并行加法
器74LS283将余3代码转换成8421的二-
十进制代码?如果可能，应当如何连线?
1 1 A'
[题4.27] 试利用两片4位二进制并行加法器74LS283和必要的门电路组成1个二-
十进制加法器电路。(提示：根据BCD码中8421码的加法运算规则，当两数之和小于、等于9
(1001)时，相加的结果和按二进制数相加所得到的结果一样。当两数之和大于9(即等于
1010~1111)时，则应在按二进制数相加的结果上加6(0110),这样就可以给出进位信号，同
时得到一个小于9的和。)
[题4.28] 若使用4位数值比较器74LS85(见图4.3.32)组成十位数值比较器，需要用
几片?各片之间应如何连接?
[题4.29] 试用两个4位数值比较器组成三个数的判断电路。要求能够判别三个4位
二进制数A(a?a?a?ao)、B(b?b?b?b?)、C(c?C?C?co)是否相等、A是否最大、A是否最小，并分别
给出“三个数相等”、“A最大”、“A最小”的输出信号。可以附加必要的门电路。
[题4.30] 已知4位数值比较器74LS85的传输延迟时间(从加上两个输入比较数到产
生输出比较结果所需时间)小于45 ns。要求用六片74LS85接成一个24位数值比较电路，传
输延迟时间不得大于90 ns。
[题4.31] 若将十进制代码中的8421码、余3码、余3循环码、2421码和5211码分别
加到二-十进制译码器74HC42(见图4.3.11)的输入端，并按表1.5.1的排列顺序依次变化
时，输出端是否都会产生尖峰脉冲?试简述理由。
[题4.32] 试分析图P4.32电路中当A、B、C、D单独一个改变状态时是否存在竞争-
冒险现象?如果存在竞争-冒险现象，那么都发生在其他变量为何种取值的情况下?
A-
B-
Y
C-
D-
图P4.32
式 章正亲 o
间不事肤帕变号
下怕渝虹鞋默器式 第五章 望类
触 发 器
啶 A2 S.C
内容提要
本章介绍具有记忆功能的基本逻辑单元——触发器。触发器的电路结构形式有多
种，它们的触发方式和逻辑功能也各不相同。在这一章里首先介绍了作为许多触发器电
路基本构成部分的SR锁存器，然后从触发方式和逻辑功能两个方面对触发器做分类讲
解，并强调说明了触发方式和逻辑功能的区别以及两者之间的关系。最后扼要地介绍了
触发器的动态特性。
5.1 概述
在各种复杂的数字电路中，不但需要对二值信号进行算术运算和逻辑运算，
还经常需要将这些信号和运算结果保存起来。为此，需要使用具有记忆功能的
基本逻辑单元。能够存储1位二值信号的基本单元电路统称为触发器(Flip Flop)。
为了实现记忆1位二值信号的功能，触发器必须具备以下两个基本特点：
第一，具有两个能自行保持的稳定状态，用来表示逻辑状态的0和1,或二进
制数的0和1。
第二，在触发信号的操作下，根据不同的输入信号可以置成1或0状态。
由于采用的电路结构形式不同，触发信号的触发方式也不一样。触发方式
分为电平触发、脉冲触发和边沿触发三种。在不同的触发方式下，当触发信号到
达时，触发器的状态转换过程具有不同的动作特点。掌握这些动作特点对于正
确使用触发器是非常必要的。
同时，由于控制方式的不同(即信号的输入方式以及触发器状态随输入信
216 第五章 触发器
号变化的规律不同),触发器的逻辑功能在细节上又有所不同。因此又根据触
发器逻辑功能的不同分为SR触发器、JK触发器、T触发器、D触发器等几种
类型。
此外，根据存储数据的原理不同，还把触发器分成静态触发器和动态触发器
两大类。静态触发器是靠电路状态的自锁存储数据的；而动态触发器是通过在
MOS管栅极输入电容上存储电荷来存储数据的。例如，输入电容上存有电荷为
0状态，没有存电荷为1状态。本章只介绍静态触发器。
5.2 SR锁存器
SR锁存器(Set-Reset Latch)是我们在下一节中将要介绍的各种触发器电
路的基本构成部分。虽然它也有两个能够自行保持的稳定状态，并且可以根据
输入信号置成1或0状态，但由于它的置1或置0操作是由输入的置1或置0
信号直接完成的，不需要触发信号的触发，所以没有把它归入下一节的触发器当
中，以示区别。
第二章里讲过的各种门电路虽然都有两种不同的输出状态(高、低电平，亦
即10),但都不能自行保持。例如在图5.2.1(a)所示的电路中，如果只有一个
或非门G?,那么当另一个输入端接低电平时，输出vo的高、低电平将随输入v?
的高、低电平而改变。因此，它不具备记忆功能。
G? G? Vn1 Vo1 Rp- Q
Sp. S Q
G? G? Rp- R Q'
Vo2 VI2 Sp- Q'
(a) (b) (c)
图5.2.1 用或非门组成的锁存器
(a)、(b)电路结构(c)图形符号
如果用另一个或非门 G?将vo?反相(同时将G?的另一个输入端接低电
平),则G?的输出vo?将与v同相。现将vo?接回G,的另一个输入端，这时即使
原来加在v输入端上的信号消失了，vo和vo?的状态也能保持下去。这样就得
到了图5.2.1(a)中由两个或非门所组成的SR锁存器电路。
5.2 SR锁存器 217
由于G,和G?在电路中的作用完全相同，所以习惯上将电路画成图5.2.1
(b)所示的对称形式。Q和Q'称为输出端，并且定义Q=1、Q'=0为锁存器的1
状态，Q=0、Q'=1为锁存器的0状态。Sp称为置位端或置1输入端，Rp称为复
位端或置0输入端。
当Sp=1、Rp=0时，Q=1、Q'=0。在Sp=1信号消失以后(即Sp回到0),
由于有Q端的高电平接回到G?的另一个输入端，因而电路的1状态得以保持。
当Sp=0、Rp=1时，Q=0、Q'=1。在Rp=1信号消失以后，电路保持0状
态不变。
当Sp=Rp=0时，电路维持原来的状态不变。
当Sp=Rp=1时，Q=Q'=0,这既不是定义的1状态，也不是定义的0状态。
而且，在Sp和R,同时回到0以后无法断定锁存器将回到1状态还是0状态。
因此，在正常工作时输入信号应遵守SpRp=0的约束条件，亦即不允许输入
SD=Rp=1的信号。
将上述逻辑关系列成真值表，就得到表5.2.1。因为锁存器新的状态Q*(也
称为次态)不仅与输入状态有关，而且与锁存器原来的状态Q(也称为初态)有
关，所以将Q也作为一个变量列入了真值表，并将Q称为状态变量，将这种含有
状态变量的真值表称为锁存器的特性表(或功能表)。
SR锁存器也可以用与非门构成，如图5.2.2所示。这个电路是以低电平作
为输入信号的，所以用S) 和 Rp 分别表示置1输入端和置0输入端。在图
5.2.2(b)所示的图形符号上，用输入端的小圆圈表示用低电平作输入信号，或
者称低电平有效。表5.2.2是它的特性表。
表5.2.1 用或非门组成的 表5.2.2 用与非门组成的
SR 锁存器的特性表 SR 锁存器的特性表
SD Rp Q Q* So RD
0
1
0
1
0
1
0
1
Q
0
1
0
1
0
1
0
1
Q
0 0 0 1 1 0
0 0 1 1 1 1
1 0 1 0 1 1
1 0 1 0 1 1
0 1 0 1 0 0
0 1 0 1 0 0
1 1 0① 0 0 1①
1 1 o① 0 0 1①
①Sp、Rp的1状态同时消失后状态不定。 ①Sp、Rp的0状态同时消失以后状态不定。
由于SD=R′p=0时出现非定义的Q=Q'=1状态，而且当SD和R′同时回
到高电平以后锁存器的状态难以确定，所以在正常工作时同样应当遵守SpRp=
218 第五章 触发器
Sp Q
Só S Q
Rb- R Q'
Rb Q'
(a) (b)
图5.2.2 用与非门组成的SR锁存器
(a)电路结构(b)图形符号
0的约束条件，即不应加以Sp=R′p=0的输入信号。
由图5.2.1(b)和图5.2.2(a)中可见，在SR锁存器中，输入信号直接加在
输出门上，所以输入信号在全部作用时间里(即Sp或Rp为1的全部时间),都
能直接改变输出端Q和Q'的状态。正是由于这个缘故，也将Sp(S'D)称为直接
置位端，将Rp(Rp)称为直接复位端，并且将这个电路称为直接置位、复位锁存
器(Set-Reset Latch)。
【例5.2.1】 在图5.2.3(a)所示的SR锁存器电路中，已知So 和R′的电
压波形如图5.2.3(b)中所示，试画出Q和Q'端对应的电压波形。
解：实质上这是一个用已知的Rp和S)的状态确定Q和Q'状态的问题。
只要根据每个时间区间里Sp 和R′p的状态去查锁存器的特性表，即可找出Q和
SóI
SD
Rb
ol
Q
Rb
ol
Q4
Q'
0lQ't
ol t?t2 t3 t4 ts t6 t7 t8
(a) (b)
图5.2.3 例5.2.1的电路和电压波形
(a)电路结构(b)电压波形图
t
t
t
5.3 电平触发的触发器 219
Q'的相应状态，并画出它们的波形图。
对于这样简单的电路，从电路图上也能直接画出Q和Q'端的波形图，而不
必去查特性表。
从图5.2.3(b)所示的波形图上可以看到，虽然在t?~t?和t,~t8期间输入
端出现了So=R′=0的状态，但由于Sp首先回到了高电平，所以锁存器的次态
仍是可以确定的。
复习思考题
R5.2.1 为什么SR锁存器的输入信号需要遵守SR=0的约束条件?
5.3 电平触发的触发器
一、电路结构和工作原理
在电平触发的触发器电路中，除了置1、置0输入端以外，又增加了一个触
发信号输入端。只有触发信号变为有效电平后，触发器才能按照输入的置1、置
0信号置成相应的状态。通常将这个触发信号称为时钟信号(CLOCK),记做
CLK。当系统中有多个触发器需要同时动作时，就可以用同一个CLK 信号作为
同步控制信号。
图5.3.1(a)是电平触发SR触发器基本的电路结构形式。习惯上也将这个
电路称为同步SR触发器。这个电路由两部分组成：由与非门 G,、G?组成的SR
锁存器和由与非门G?、G?组成的输入控制电路。
由图可知，当CLK=0时，门 G?、G?的输出始终停留在1状态，S、R端的信
号无法通过G?、G?而影响输出状态，故输出保持原来的状态不变。只有当触发
信号CLK变成高电平以后，S、R信号才能通过门 G?、G?加到由门G?、G?组成的
锁存器上，“触发”电路发生变化，使Q和Q'根据S、R信号而改变状态。因此，
将CLK的这种控制方式称为电平触发方式。
在图5.3.1(b)所示的图形符号中，用框内的C1表示CLK是编号为1的一
个控制信号。1S和1R表示受C1控制的两个输人信号，只有在C1为有效电平
时(C1=1),1S和1R信号才能起作用。框图外部的输入端处没有小圆圈表示
CLK 以高电平为有效信号。(如果在CLK输入端画有小圆圈，则表示CLK 以低
电平作为有效信号。)
220 第五章 触发器
G? G
S· Q S 1S Q
CLK· C1 CLK
Q' Q' R· 1R R- G? G?
(a) (b)
图5.3.1 电平触发SR 触发器(同步SR触发器)
(a)电路结构 (b)图形符号
图5.3.1(a)电路的特性表如表5.3.1所示。从表中可见，只有当CLK=1
时，触发器输出端的状态才受输入信号的控制，而且在CLK=1时这个特性表与
SR锁存器的特性表是一样的。同时，电平触发SR触发器的输入信号同样应当
遵守SR=0的约束条件。否则当S、R同时由1变为0,或者S=R=1时CLK回
到0,触发器的次态将无法确知。
表5.3.1 电平触发SR 触发器的特性表
CLK R S Q
× ×
× ×
0 0
0 0
1 0,
1 0
0 1
0 1
1 1
1 1
0
1
1
0
1
0
1
0
1
Q
0 0
0 1
1 0
1 1
1 1
1 1
1 0
1 0
1 1①
1 1①
① CLK回到低电平后状态不定。
在某些应用场合，有时需要在CLK的有效电平到达之前预先将触发器置成
指定的状态，为此，在实用的电路上往往还设置有异步置1输入端S'和异步置
0输入端R′,如图5.3.2所示。
只要在So 或R?加人低电平，即可立即将触发器置1或置0,而不受时钟信号
和输入信号的控制。因此，将Si 称为异步置位(置1)端，将R'称为异步复位(置
0)端。触发器在时钟信号控制下正常工作时应使S6和Rb处于高电平。
5.3 电平触发的触发器 221
Sb
S- Q
CLK
SbS- CLK
S
1SC1
Q
R- Rb 1RR
Q'
R- Q'
Rp
(a) (b)
图5.3.2 带异步置位、复位端的电平触发SR触发器
(a)电路结构(b)图形符号
此外，在图5.3.2所示电路的具体情况下，用S'或R'p将触发器置位或复
位应当在CLK=0的状态下进行，否则在Sp或R' 返回高电平以后预置的状态
不一定能保存下来。
二、电平触发方式的动作特点
(1)只有当CLK变为有效电平时，触发器才能接受输入信号，并按照输入
信号将触发器的输出置成相应的状态。
(2)在CLK=1的全部时间里，S和R状态的变化都可能引起输出状态的改
变。在CLK回到0 以后，触发器保存的是CLK 回到0以前瞬间的状态。
根据上述的动作特点可以想像到，如果在CLK=1期间S、R的状态多次发
生变化，那么触发器输出的状态也将发生多次翻转，这就降低了触发器的抗干扰
能力。
【例5.3.1】 已知电平触发SR触发器的输入信号波形如图5.3.3所示，试
画出Q、Q'端的电压波形。设触发器的初始状态为Q=0。
解：由给定的输入电压波形可见，在第一个CLK高电平期间先是S=1、R
=0,输出被置成Q=1、Q'=0。随后输入变成了S=R=0,因而输出状态保持不
变。最后输入又变为S=0、R=1,将输出置成Q=0、Q'=1,故CLK 回到低电平
以后触发器停留在Q=0、Q'=1的状态。
在第二个CLK高电平期间，若S=R=0,则触发器的输出状态应保持不变。
但由于在此期间S端出现了一个干扰脉冲，因而触发器被置成了Q=1。
为了能适应单端输入信号的需要，在一些集成电路产品中把图5.3.1(a)所
示的电路改接成图5.3.4的形式，得到电平触发的D触发器。(有些书刊和资
料中也将这个电路称为D型锁存器。)
—
222 第五章 触发器
CLK
S
0
s t
Q
CLK
0
R
t
Q' R- o
Q t
okQ'
t
O
t
图5.3.3 例5.3.1的电压波形图
“D
Q D 1D
Q
CLK CLK C1
Q'
Q'
图 5.3.4 电平触发D触发器(D型锁存器)
由图可见，若D=1,则CLK变为高电平以后触发器被置成Q=1,CLK 回到
低电平以后触发器保持1状态不变。若D=0,则CLK变为高电平以后触发器被
置成Q=0,CLK回到低电平以后触发器保持0状态不变。因为它仍然工作在电
平触发方式下，所以同样具有电平触发的动作特点。它的特性表如表5.3.2
所示。
表5.3.2 D型锁存器的特性表
CLK D Q Q
0 ×
×
0
0
1
1
0
1
0
1
0
1
0
0 1
1 0
1 0
1 1
1 1
5.3 电平触发的触发器 223
在CMOS电路中，经常利用CMOS传输门组成电平触发D触发器，如图
5.3.5所示。当CLK=1时，传输门 TG,导通、TG?截止，Q=D。而且，在CLK=1
的全部时间里Q端的状态始终跟随D端的状态而改变。在CLK 回到0以后，
TG?导通、TG,截止。由于反相器G,输入电容的存储效应，短时间内G,输入端
仍然保持为TG,截止以前瞬间的状态，而且这时反相器G?、G?和传输门TG?形
成了状态自锁的闭合回路，所以Q和 Q'的状态被保存下来。它的特性表与表
5.3.2相同。
C
G;
D TG, Q'
—) C' C' G?
C' C
TG? Q
CLK
C
图5.3.5 利用CMOS传输门组成的电平触发
D触发器(透明D型锁存器)
因为在CLK的有效电平期间输出状态始终跟随输入状态变化，输出与输入
的状态保持相同，所以又将这个电路称为“透明的D型锁存器”(Transparent D Latch)。
【例5.3.2】 若图5.3.5所示
电平触发D触发器的CLK 和输入端
CLK
D的电压波形如图5.3.6中所给出，
试画出Q和Q'端的电压波形。假定
触发器的初始状态为Q=0。
ol
D
t
解：根据表5.3.2所示的特性
表可知，电平触发D触发器在CLK=1
期间输出Q与输入D的状态相同，而
当CLK变为低电平以后，触发器将保
持CLK变为低电平之前的状态。这
样就可以画出Q和Q'的电压波形了，
ol
Q
t
0
Q'
t
ol t
如图5.3.6所示。 图5.3.6 例5.3.2的电压波形
224 第五章 触发器
复习思考题
R5.3.1 为什么电平触发SR触发器也应当遵守SR=0的约束条件?在什么情况下会
发生触发器的次态无法确知的问题?
5.4 脉冲触发的触发器
一、电路结构和工作原理
为了提高触发器工作的可靠性，希望在每个CLK周期里输出端的状态只能改
变一次。为此目的，在电平触发触发器的基础上，又设计出了脉冲触发的触发器。
脉冲触发触发器的典型结构形式如图5.4.1所示。它由两个同样的电平触
发SR触发器组成，其中由G?~G?组成的触发器称为从触发器，由G?~G?组成
的触发器称为主触发器。因此，也经常将这个电路称为主从SR触发器(Master Slave SR Flip-Flop)。
G? G? S Qm Ss G? G?
Q S- 1S 7
Q
CLK C1
R·
G? G? Qm Rs Q'
R- 1R 7 Q'
G? G?
CLK CLK'
G?
主触发器 从触发器
图5.4.1 主从 SR触发器
当CLK=1时，门G,和G?被打开，门G?和G?被封锁，主触发器根据S和R
的状态翻转，而从触发器保持原来的状态不变。
当CLK 由高电平返回低电平(即有效电平消失)以后，门 G,和G8被封锁，
此后无论S、R的状态如何改变，在CLK=1的全部时间里主触发器的状态不再
改变。与此同时，门G?和G?被打开，从触发器按照与主触发器相同的状态翻
5.4 脉冲触发的触发器 225
转。因此，在一个CLK的变化周期里触发器输出端的状态只可能改变一次。
例如，CLK=0时触发器的初始状态 表5.4.1 主从SR触发器的特性表
为Q=0,当CLK 由0变为1以后，若这时 CLK S=1、R=0,主触发器将被置1,即Qm= S Q R
× × ×
0
1
0
1
0
1
0
1
0 0
0 0
1 0
1 0
0 1
0 1
1 1
1 1
Q
1、Q'=0,而从触发器保持0状态不变。
当CLK 回到低电平以后，从触发器的
CLK'变成了高电平，它的输入为Ss=Qm
× Q
=1、Rs=Q'=0,因而输出被置成Q=1。
在图形符号中用框内的“┐”表示“延
迟输出”,即CLK回到低电平(有效电平
消失)以后，输出状态才改变。因此，图
5.4.1所示电路输出状态的变化发生在
CLK 信号的下降沿。
将上述的逻辑关系列成真值表，就得
LL儿4LLLL
0
1
1
1
0
0
1①
1①
到了表5.4.1所示脉冲触发SR触发器的 ① CLK回到低电平后输出状态不定。
真值表。表中用CLK一栏中的“」L”符号表示CLK 高电平有效的脉冲触发特
性。(CLK 以低电平为有效信号时， CLK 在CLK输入端加有小圆圈，输出状 1 5 2 3 4 6
态的变化发生在 CLK 脉冲的上升 ol t
S 沿。)
从电平触发到脉冲触发的这一
演变，克服了CLK=1期间触发器输
出状态可能发生多次翻转的问题。
但由于主触发器本身是电平触发SR
触发器，所以在CLK=1期间Qm和
Q'的状态仍然会随S、R状态的变
化而多次改变。而且，输入信号仍需
遵守SR=0的约束条件。
【例5.4.1】 在图5.4.1所示的
主从 SR触发器电路中，若CLK、S和
R的电压波形如图5.4.2所示，试求
Q和Q'端的电压波形。设触发器的
初始状态为Q=0。
olRA
2mol
0!
Qm
ol
Q
o
Q
ol
t
t
t
t
t
t
图5.4.2 例5.4.1的电压波形图
226 第五章 触发器
解：首先根据CLK=1期间S、R的状态可得到Qm、Q'的电压波形。然
后，根据CLK下降沿到达时Qm、Q'm的状态即可画出Q、Q'的电压波形了。由图
可见，在第六个CLK 高电平期间，Qm和Q'的状态虽然改变了两次，但输出端的
状态并不改变。
为了使用方便，希望即使出现了S=R=1的情况，触发器的次态也是确定
的，因而需要进一步改进触发器的电路结构。
不难发现，如果把主从SR触发器的Q和Q'端作为一对附加的控制信号接
回到输入端，如图5.4.3所示，就可以达到上述要求。这一对反馈线通常在制造
集成电路时已在内部连好。为表示与主从SR触发器在逻辑功能上的区别，以
J、K表示两个信号输入端，并将图5.4.3所示的电路称为主从结构JK触发器
(简称主从JK触发器)。
G? G? G? G?
J- Q
J- 1J Q
CLK- C1
K- 1K 7 Q'
K- Q'
G? G? G4 G?
CLK·
G?
图5.4.3 主从JK触发器
若J=1、K=0,则CLK=1时主触发器置1(原来是0则置成1,原来是1则
保持1),待CLK=0以后从触发器亦随之置1,即Q*=1。
若J=0、K=1,则CLK=1时主触发器置0,待CLK=0以后从触发器也随之
置0,即 Q*=0。
若J=K=0,则由于门 G,、G?被封锁，触发器保持原状态不变，即Q*=Q。
若J=K=1时，需要分别考虑两种情况。第一种情况是Q=0。这时门G?
被Q端的低电平封锁，CLK=1时仅G,输出低电平信号，故主触发器置1。CLK
=0 以后从触发器也跟着置1,即Q*=1。
第二种情况是Q=1。这时门 G,被Q'端的低电平封锁，因而在CLK=1时
仅G?能给出低电平信号，故主触发器被置0。当CLK=0以后从触发器跟着置
0,故Q*=0。
综合以上两种情况可知，无论Q=1还是Q=0,触发器的次态可统一表示为
Q*=Q'。就是说，当J=K=1时，CLK下降沿到达后触发器将翻转为与初态相反
的状态。
5.4 脉冲触发的触发器 227
将上述的逻辑关系用真值表表示，即得到表5.4.2所示的主从JK触发器的
特性表。
表5.4.2 主从JK 触发器的特性表
CLK J K Q
× ×
0 0
0 0
1 0
1 0
0 1
0 1
1 1
1 1
×
0
1
0
1
0
1
0
1
Q
己门L厂LLL4
Q
0
1
1
1
0
0
1
0
在有些集成电路触发器产品中，输入端J和K不止是一个。在这种情况下，
J?和J?、K,和K?是与的逻辑关系，如图5.4.4(a)所示。如果用特性表描述它
JJ Q
KK -Q'
CLK
(a)
JJ 1J Q JJ &1J Q
CLK C1 CLK- C1
K
K? 1K 7 Q' KK &1K7 -Q'
(b)
图5.4.4 具有多输入端的主从JK触发器
(a)电路结构 (b)逻辑符号
228 第五章 触发器
的逻辑功能，则应以J?·J?和K?·K?分别代替表5.4.2中的J和K。图5.4.4
(b)中给出了多输入端JK触发器常见的两种逻辑符号。
【例5.4.2】在图5.4.3给出的主从JK触发器电路中，若CLK、J、K的波
形如图5.4.5所示，试画出Q、Q'CLK
端对应的电压波形。假定触发器
的初始状态为Q=0。 o
J
t
解：由于每一时刻J、K的
状态均已由波形图给定，而且CLK
=1期间J、K的状态不变，所以只
要根据CLK 下降沿到达时JK的
状态去查主从JK触发器的特性
表，就可以逐段画出Q和Q'端的
电压波形了。可以看出，触发器输
出端状态的改变均发生在CLK 信
号的下降沿，而且即使CLK=1时
0!K
t
00 t
0!Q'
t
o t
J=K=1,CLK 下降沿到来时触发
器的次态也是确定的。
图5.4.5 例5.4.2的电压波形图
二、脉冲触发方式的动作特点
通过上面的分析可以看到，脉冲触发方式具有两个值得注意的动作特点：
(1)触发器的翻转分两步动作。第一步，在CLK=1期间主触发器接收输
入端(S、R或J、K)的信号，被置成相应的状态，而从触发器不动；第二步，CLK下
降沿到来时从触发器按照主触发器的状态翻转，所以Q、Q'端状态的改变发生在
CLK的下降沿。(若CLK 以低电平为有效信号，则Q和Q'状态的变化发生在
CLK的上升沿。)
(2)因为主触发器本身是一个电平触发SR触发器，所以在CLK=1的全部
时间里输入信号都将对主触发器起控制作用。
由于存在这样两个动作特点，在使用主从结构触发器时经常会遇到这样一
种情况，就是在CLK=1期间输入信号发生过变化以后，CLK下降沿到达时从触
发器的状态不一定能按此刻输入信号的状态来确定，而必须考虑整个CLK=1期
间里输入信号的变化过程才能确定触发器的次态。
例如，在图5.4.1所示的主从 SR触发器中，假定初始状态为Q=0,CLK=
0。如果CLK变成1以后先是S=1、R=0,然后在CLK下降沿到来之前又变成
了S=R=0,那么用CLK下降沿到达时的S=R=0状态去查触发器的特性表会
5.4 脉冲触发的触发器 229
得到Q*=Q=0的结果。然而，实际上由于CLK=1的开始阶段曾经出现过S=
1、R=0的输入信号，主触发器已被置1,所以CLK下降沿到达后从触发器也随之
置1,即实际的次态应为Q*=1。
在图5.4.3所示的主从JK触发器中也存在类似的问题，即CLK=1的全部
时间里主触发器都可以接收输入信号。而且，由于Q、Q'端接回到了输入门上，
所以在Q=0时主触发器只能接受置1输入信号，在Q=1时主触发器只能接受置
0信号。其结果就是在CLK=1期间主触发器只有可能翻转一次，一旦翻转了就
不会翻回原来的状态。但在主从SR触发器中，由于没有Q、Q'端接到输入端的
反馈线，所以CLK=1期间S、R状态多次改变时主触发器状态也会随着多次翻
转。
因此，在使用主从结构触发器时必须注意：只有在CLK=1的全部时间里输
入状态始终未变的条件下，用CLK下降沿到达时输入的状态决定触发器的次态
才肯定是对的。否则，必须考虑CLK =1期间输入状态的全部变化过程，才能确
定CLK下降沿到达时触发器的次态。
【例5.4.3】 在图5.4.3所示的主从JK触发器中，已知 CLK、J、K的电压
波形如图5.4.6所示，试画出与之对应的 CLK 输出端电压波形。设触发器的初始状态为
Q=0。 1 2 3 4
ol
解：由图5.4.6可见，第一个CLK高
电平期间始终为J=1、K=0,CLK 下降沿
JA
t
到达后触发器置1。 O
K
t
第二个CLK 的高电平期间K端状态
发生过变化，因而不能简单地以CLK 下降
沿到达时J、K的状态来决定触发器的次
态。因为在CLK 高电平期间出现过短时
o
Q
t
间的J=0、K=1状态，此时主触发器便被 o
Q'
t
置0,所以虽然CLK 下降沿到达时输入状
态回到了J=K=0,但从触发器仍按主触 0l t
发器的状态被置0,即Q*=0。
第三个CLK 下降沿到达时J=0、K= 图5.4.6 例5.4.3的电压波形图
1。如果以这时的输入状态决定触发器次态，应保持Q*=0。但由于CLK 高电
平期间曾出现过J=K=1状态，CLK下降沿到达之前主触发器已被置1,所以
CLK下降沿到达后从触发器被置1。
230 第五章 触发器
复习思考题
R5.4.1 脉冲触发方式有哪些动作特点?它和电平触发方式有何不同?
R5.4.2 主从JK触发器和主从SR触发器在逻辑功能上有什么区别?用JK触发器代
替SR触发器在逻辑功能上能否满足要求?
R5.4.3 为什么说主从 SR触发器的主触发器在CLK=1期间可能多次改变状态，而主
从JK触发器的主触发器在CLK=1期间只可能翻转一次?
5.5 边沿触发的触发器
一、电路结构和工作原理
为了提高触发器的可靠性，增强抗干扰能力，希望触发器的次态仅仅取决
于CLK 信号下降沿(或上升沿)到达时刻输入信号的状态。而在此之前和之
后输入状态的变化对触发器的次态没有影响。为实现这一设想，人们相继研
制成了各种边沿触发(edge-triggered)的触发器电路。目前已用于数字集成电
路产品中的边沿触发器电路有用两个电平触发D触发器构成的边沿触发器、
维持阻塞触发器、利用门电路传输延迟时间的边沿触发器等几种较为常见的
电路结构形式。
1.用两个电平触发D触发器组成的边沿触发器
上一节中讲到，用两个电平触发SR触发器能构成脉冲触发的触发器，而在
这一节中要介绍的是用两个电平触发D触发器构成边沿触发的触发器。
图5.5.1(a)是用两个电平触发D触发器组成边沿触发D触发器的原理性
框图，图中的FF?和FF?是两个电平触发的D触发器(也称为D型锁存器)。由
图可见，当CLK 处于低电平时，CLK,为高电平，因而FF,的输出Q,跟随输入端
D的状态变化，始终保持Q?=D。与此同时，CLK?为低电平，FF?的输出Q?(也
就是整个电路最后的输出Q)保持原来的状态不变。
当CLK 由低电平跳变至高电平时，CLK,随之变成了低电平，于是Q,保持
为CLK上升沿到达前瞬间输入端D的状态，此后不再跟随D的状态而改变。与
此同时，CLK?跳变为高电平，使Q?与它的输入状态相同。由于FF?的输入就是
FF,的输出Q?,所以输出端Q便被置成了与CLK上升沿到达前瞬时D端相同的
状态，而与以前和以后D端的状态无关。
5.5 边沿触发的触发器 231
FF? FF?
D 1D
C1
e 1D
C1
Q? Q
CLK, CLK?|
Q'
CLK
(a)
C FF? C
FF?
G? D TG? Q G?
TG? Q
CLK ℃—) C G? c? C' G?
C' TG? 2 TG? Q'
C
C' C
(b)
图5.5.1 用两个电平触发D触发器组成的边沿触发器
(a)原理性框图 (b)实际的CMOS边沿触发D触发器
目前在CMOS集成电路中主要采用这种电路结构形式制作边沿触发器。图
5.5.1(b)就是CMOS边沿触发D触发器的典型电路，其中FF?和FF?是两个利
用CMOS传输门组成的电平触发D触发器。当CLK=0时，C=0、C'=1,TG,导
通、TG?截止，D端的输入信号送入FF?,使Q?=D。而且，在CLK=0期间Q,的
状态将一直跟随D的状态而变化。同时，由于TG?截止TG?导通，FF?保持原来
的状态不变。
当CLK的上升沿到达时，C=1、C'=0,TG?变为截止、TG?变为导通。由于
反相器G?输入电容的存储效应，G,输入端的电压不会立刻改变，于是Q,在
TG,变为截止前的状态被保存了下来。同时，随着TG?变为截止、TG?变为导
通，Q,的状态通过TG?和G?、G4送到了输出端，使Q*=D(CLK上升沿到达时
D的状态)。因此，这是一个上升沿触发的D触发器。
在图形符号中，用CLK输入端处框内的“>”表示触发器为边沿触发方式。
在特性表中，则用CLK一栏里的“个”表示边沿触发方式，而且是上升沿触发，
如表5.5.1中所示。(如果是下降沿触发，则应在CLK输入端加画小圆圈，并
232 第五章 触发器
在特性表中以“↓”表示。)
表5.5.1 图5.5.1边沿触发器的特性表
CLK D Q
x
0
0
1
1
×
0
1
0
1
Q
× Q
0
0
1
1
为了实现异步置位、复位功能，需要引入Sp和RD信号。因为Sp和Rp是以
高电平作为置1和置0输入信号的，所以必须把图5.5.1(b)中的4个反相器改成
或非门，形成图5.5.2所示的电路。Sp和Rp端的内部连线在图中以虚线示出。
Sp~-- C" C
G?
TG?
G?
D TG? Q
lc ic
C
C C'
CLK· C G? G?
TG? TG? Q
ic lc
Rp"
图5.5.2 带有异步置位、复位端的CMOS边沿触发D触发器
*2.维持阻塞触发器
边沿触发器的另一种电路结构形式是维持阻塞结构。在TTL电路中，这种
电路结构形式用得比较多。
图5.5.3是维持阻塞结构SR触发器的电路结构图。这个电路是在电平触
发的同步SR触发器的基础上演变而来的。
如果不存在①、②、③、④这4根连线，门G?~G?就是一个普通的电平触发
SR触发器。假如能保证CLK由低电平跳变为高电平以后，无论S'和R'的状态
如何改变而S和R始终不变，那么触发器的次态将仅仅取决于CLK上升沿到时
输入的状态。
为了达到这个目的，首先在电路中增加了G?、G?两个与非门和①、②两根
连线，使G?和G?形成一个SR锁存器，G?和G?形成另一个SR锁存器。如果没
5.5 边沿触发的触发器 233
有③、④两根线存在，当CLK由低电平变成高电平时，S'或R'端的低电平输入信
号将立刻被存入这两个SR锁存器
中，此后即使S'或R'的低电平信号
消失，S和R的状态也能维持不
变。因此，将①称为置1维持线，
将②称为置0维持线。
G? S' ③
① S G?
Q
G? CLK
由于工作过程中可能 遇 到
CLK=1期间先是S'=0、R'=1,随
G?
Q'
② R G?
后又变为S'=1、R'=0的情况(或
者相反的变化情况),所以 G?、G?
和G?、G?组成的两个锁存器可能
R' ④ G?
先后被置成S=1、R=1的状态。
而对于由G,~G?组成的电平触发
图5.5.3 维持阻塞结构边沿触发SR触发器
SR触发器来说，S和R同时为1的状态是不允许的。
为避免出现这种情况，又在电路中增加了③、④两根连线。由于这两根线将
G?和G?也接成了一个SR锁存器，所以即使先后出现S=1、R=1的情况，G?和
G?组成的SR锁存器也不会改变状态，从而保证了在CLK=1的全部时间里G?
和G?的输出不会改变。例如，当CLK上升沿到达时S'=0、R'=1,则G?输出为
低电平、G?输出为高电平。G?输出的低电平一方面将输出端的SR锁存器置1,
同时通过③这根线将G?封锁，阻止G?再输出低电平信号，因而也就阻止了输出
端的SR 锁存器被置0。为此，将③称为置0阻塞线。同理，将④称为置1阻塞线，
它的作用是在输出端的SR锁存器置0以后，阻止G?再输出低电平的置1信号。
为适应输入信号以单端形式给出的情况，维持阻塞触发器也经常做成单端
输入的形式，如图5.5.4所示。图中
以D表示数据输入端。连线②兼有
置0维持线和置1阻塞线的功能。
G?
③
当D=1时，CLK上升沿到达前 ① S G?
G? CLK G?
G?
R
② D
G?
图5.5.4 维持阻塞结构D触发器
S=1、R=0,故CLK上升沿到达后触
发器置1。当D=0时，CLK上升沿到
达前S=0、R=1,因而CLK上升沿到
达后触发器被置0。可见，它的真值
表与表5.5.1完全相同。
维持阻塞触发器的产品有时也
做成多输入端的形式，如图5.5.5所
示。这时各输入端之间是与的逻辑
Q
Q'
234 第五章 触发器
关系，即应以D?·D?代替表5.5.1中的D。在图5.5.5中还画出了异步置位端
Sp和异步复位端Rp的内部连线。无论CLK处于高电平还是低电平，都可以通过
在Sp或Rp端加入低电平将触发器置1或置0。
G? Sb S G? G?
Rb- Q
G?
CLK Q'
R
G? G? B2
(a)
D? D?
CLK
1D
S
Q
D?.
D?- &1D
>C1 Sb CLK
S
C1
Q
Rp- R
-Q' Rb- R
Q'
(b)
图5.5.5 带异步置位、复位端和多输入端的维持阻塞D触发器
(a)电路结构(b)逻辑图形符号
*3.利用门电路传输延迟时间的边沿触发器
另一种边沿触发器的电路结构如图5.5.6所示，它是利用门电路的传输延
G?
G?
G? G? Q
J
M
CLK·
K- N
G? Gs Q'
G?
G?
图5.5.6 利用门电路传输延迟时间的边沿触发器
5.5 边沿触发的触发器 235
迟时间实现边沿触发的。这种电路结构常见于TTL集成电路中。
这个电路包含一个由门电路G?~G?组成的SR锁存器和两个输入控制门
G,和Gg。而且，门 G,、G?的传输延迟时间大于SR 锁存器的翻转时间。
设触发器的初始状态为Q=0、Q=1。CLK=0时门 G?、G?、G,和G?同时被
CLK 的低电平封锁。而由于G,、G?的输出M、N两端为高电平，门G?、G?是打开
的，故SR锁存器的状态通过G?、G?得以保持。
CLK变为高电平以后，门 G?、G?首先解除封锁，SR锁存器可以通过G?、G?
继续保持原状态不变。若此时输入为J=1、K=0,则经过门 G,、G?的传输延迟
时间以后M=0、N=1,门G?、G?均不导通，对SR 锁存器的状态没有影响。
当CLK下降沿到达时，门G?、G?立即被封锁，但由于门G?、G?存在传输延
迟时间，所以M、N的电平不会马上改变。因此，在瞬间出现G?、G?各有一个输
入端为低电平的状态，使Q=1,并经过门G?使Q'=0。由于G?的传输延迟时
间足够长，可以保证在M点的低电平消失之前Q'的低电平已反馈到了门 G?,所
以在M点的低电平消失以后触发器获得的1状态仍将保持下去。
经过门G,、G?的传输延迟时间以后，M和N都变为高电平，但对SR 锁存器
的状态并无影响。同时，CLK的低电平已将门 G?、G?封锁，J、K状态即使再发生
变化也不会影响触发器的状态了。
在对J、K为不同取值时触发器的工作过程逐一分析后，即可得出表5.5.2
所示的特性表。如果将它与表5.4.2对照一下即可看到，虽然这两个触发器在
稳定状态下J、K、Q和Q*之间的逻辑关系完全相同，但由于触发方式不同，所以
状态翻转时各具不同的动作特点。
表5.5.2 图5.5.6触发器的特性表
CLK K J Q
× ×
0 0
0 0
1 0
1 0
0 1
0 1
1 1
1 1
×
0
1
0
1
0
1
0
1
Q
× Q
0
1
1
1
0
0
1
0
236 第五章 触发器
【例5.5.1】 在图5.5.4所示的边沿触发器电路中，若D端和CLK的电
压波形如图5.5.7所示，试画出Q端的电压波形。假定触发器的初始状态为
Q=0。
解：由边沿触发器的动作特点可知，触发器的次态仅仅取决于CLK上升
沿到达时刻D端的状态，即D=1则 CLK
Q*=1,D=0则Q*=0,于是便得到了
图5.5.7中的Q端电压波形图。 ol
二、边沿触发方式的动作特点 D
t
通过对上述三种边沿触发器工作
过程的分析可以看出，它们具有共同
的动作特点，这就是触发器的次态仅
取决于时钟信号的上升沿(也称为正
边沿)或下降沿(也称为负边沿)到达
时输入的逻辑状态，而在这以前或以
Ol
Q
t
ol t
图5.5.7 例5.5.1的电压波形图
后，输入信号的变化对触发器输出的状态没有影响。
这一特点有效地提高了触发器的抗干扰能力，因而也提高了电路的工作可
靠性。
复习思考题
R5.5.1 比较一下边沿触发方式、脉冲触发方式和电平触发方式在动作特点上有何不
同。
5.6 触发器的逻辑功能及其描述方法
5.6.1 触发器按逻辑功能的分类
从上一节中可以看到，由于每一种触发器电路的信号输入方式不同(有单
端输入的，也有双端输入的),触发器的次态与输入信号逻辑状态间的关系也不
相同，所以它们的逻辑功能也不完全一样。
按照逻辑功能的不同特点，通常将时钟控制的触发器分为SR触发器、JK触
发器、T触发器和D触发器等几种类型。
5.6 触发器的逻辑功能及其描述方法 237
一、SR触发器
凡在时钟信号作用下逻辑功能符合表5.6.1特性表所规定的逻辑功能者，
无论触发方式如何，均称为SR触发器。
表5.6.1 SR触发器的特性表
S R Q
0
1
0
1
0
1
0
1
Q
0 0 0
0 0 1
0 1 0
0 1 0
1 0 1
1 0 1
1 1 不定
1 1 不定
显然，上几节中讲到的图5.3.1、图5.4.1和图5.5.3电路都属于SR触发
器。而图5.2.1和图5.2.2所示的锁存器电路不受触发信号(时钟)控制，所以
它们不属于这里所定义的SR触发器。
如果把表5.6.1特性表所规定的逻辑关系写成逻辑函数式，则得到
Sk=sk(约泉条件5re=skR+SsRe
利用约束条件将上式化简，于是得出
SR=0(约束条件) (5.6.1)
式(5.6.1)称为SR触发器的特性方程。 s=
此外，还可以用图5.6.1所示的状
态转换图形象地表示SR触发器的逻辑
功能。图中以两个圆圈分别代表触发器
的两个状态，用箭头表示状态转换的方
向，同时在箭头的旁边注明了转换的
条件。
s=x( 0) 1) R=x
s=1.
图5.6.1 SR触发器的状态转换图
这样一来在描述触发器的逻辑功能时就有了特性表、特性方程和状态转换
图三种可供选择的方法。
二、JK触发器
凡在时钟信号作用下逻辑功能符合表5.6.2特性表所规定的逻辑功能者，
无论其触发方式如何，均称为JK触发器。
238 第五章 触发器
表5.6.2 JK触发器的特性表
J K Q
0
1
0
1
0
1
0
1
Q
0 0 0 k×
0 0 1
0 1 0
=x( 1 k=x
0 1 0
1 0 1
k-
1 0 1
1 1 1 图5.6.2 JK触发器的状态转换图 1 1 0
前面讲过的图5.4.3和图5.5.6所示电路都属于JK触发器。
根据表5.6.2可以写出JK触发器的特性方程，化简后得到
Q*=JQ'+K'Q (5.6.2)
JK触发器的状态转换图如图5.6.2所示。
三、T触发器
在某些应用场合下，需要这样一种逻辑功能的触发器，当控制信号T=1时
每来一个时钟信号它的状态就翻转一次；而当T=0时，时钟信号到达后它的状
态保持不变。具备这种逻辑功能的触发器称为T触发器。它的特性表如表
5.6.3所示。
表5.6.3 T触发器的特性表
T Q Q*
0 0
1
0
1
0
0 1
1 1
1 0
从特性表写出T触发器的特性方程为
Q*=TQ'+T'Q (5.6.3)
它的状态转换图和逻辑符号如图5.6.3所示。
T=1 T- 1T
T=0 0 1 T=0 CLK· C1
T=1
图5.6.3 T触发器的状态转换图和逻辑符号
Q
Q
5.6 触发器的逻辑功能及其描述方法 239
事实上只要将JK触发器的两个输入端连在一起作为T端，就可以构成T
触发器。正因为如此，在触发器的定型产品中通常没有专门的T触发器。
当T触发器的控制端接至固定的高电平时(即T恒等于1),则式(5.6.3)
变为
Q*=Q'
即每次CLK信号作用后触发器必然翻转成与初态相反的状态。
四、D触发器
凡在时钟信号作用下逻辑功能符合表5.6.4特性表所规定的逻辑功能者，
无论触发方式如何，均称为D触发器。前面讲过的图5.3.4、图5.3.5、图5.5.1
和图5.5.4中的触发器，在逻辑功能上同属于这种类型。
从特性表写出D触发器的特性方程为
Q*=D (5.6.4)
D触发器的状态转换图如图5.6.4所示。
表5.6.4 D触发器的特性表
D Q
0
1
0
1
Q*
D=1
0 0 D=0( 0 1 D=1
0 0
1 1
D=0
1 1 图5.6.4 D触发器的状态转换图
将JK、SR、T三种类型触发器的特性表比较一下不难看出，其中JK触发器
的逻辑功能最强，它包含了SR触发器和T触发器的所有逻辑功能。因此，在需
要使用SR触发器和T触发器的场合完全可以用JK触发器来取代。例如，在需
要SR触发器时，只要将JK触发器的J、K端当作S、R端使用，就可以实现SR触
发器的功能；在需要T触发器时，只要将J、K连在一起当作T端使用，就可以实
现T触发器的功能，如图5.6.5所示。因此，目前生产的触发器定型产品中只有
JK触发器和D触发器这两大类。
T S 1J 1J Q Q
C1 CLK· C1 CLK Q' Q' R- 1K 1K
(a) (b)
图5.6.5 将JK触发器用作SR、T触发器
(a)用作SR触发器(b)用作T触发器
i
240 第五章 触发器
复习思考题
R5.6.1 为什么从满足逻辑功能的要求上可以用JK触发器代替 SR触发器，而不能用
SR触发器代替JK触发器?
R5.6.2 将JK触发器用作SR触发器和T触发器时，应如何连接?
5.6.2 触发器的电路结构和逻辑功能、触发方式的关系
一、电路结构和逻辑功能
在前面介绍各种触发器电路结构时，都是在接成了某种逻辑功能的情况下
进行的。但是这并不等于说某种电路结构形式就只能接成某一种或几种逻辑功
能的触发器。这就是说，触发器的电路结构和逻辑功能之间不存在固定的对应
关系。用同一种电路结构形式可以接成不同逻辑功能的触发器；反过来说，同样
一种逻辑功能的触发器可以用不同的电路结构实现。
例如，前面5.3节中的图5.3.1电路、5.4节中的图5.4.1电路、5.5节中的
图5.5.3所示电路都是SR触发器，但电路结构各不相同。
另一方面，同样是维持阻塞结构电路，既可以做成图5.5.3所示的SR触发
器和图5.5.4所示的D触发器，也可以做成如图5.6.6所示的JK触发器。双
JK触发器集成电路74LS109采用的就是这种电路结构。
Q
CLK
Q'
k'
J
图5.6.6 维持阻塞结构JK触发器(74LS109)的电路
同样，用两个电平触发D触发器结构也可以做成不同逻辑功能的触发器。
*5.7 触发器的动态特性 241
图5.6.7给出了双JK触发器CMOS集成电路CC4027的电路图。将这个电路
与图5.5.2所示的D触发器电路对照一下即可发现，图5.6.7电路只不过是在
图5.5.2电路上附加了门G?、G?和G?而已，电路的其余部分完全相同。从逻辑
图可以写出图5.6.7所示触发器的特性方程
Sp
G? C" C
J
D TG TG Q
K- G? C
c
G?
Q
C' C C'
CLK C TG TG
lC c
RD
图5.6.7 两个电平触发D触发器构成的边沿触发JK触发器(CC4027)
Q*=D=((J+Q)'+KQ)'=JQ'+K'Q
故符合JK触发器规定的逻辑功能。
二、电路结构和触发方式
因为电路的触发方式是由电路的结构形式决定的，所以电路结构形式与触
发方式之间有固定的对应关系。凡是采用同步SR 结构的触发器，无论其逻辑
功能如何，一定是电平触发方式；凡是采用主从SR 结构的触发器，无论其逻辑
功能如何，一定是脉冲触发方式；凡是采用两个电平触发D触发器结构、维持阻
塞结构或者利用门电路传输延迟时间结构组成的触发器，无论其逻辑功能如何，
一定是边沿触发方式。
逻辑功能和触发方式是触发器最重要的两个属性，因此在触发器集成电路
器件的说明资料中，对这两个特性都有明确的说明。由于触发器的触发方式和
电路结构类型有着固定的对应关系，所以有时也给出电路结构类型而不给出触
发方式。知道了电路结构的类型，自然也就知道触发方式了。
*5.7 触发器的动态特性
5.7.1 SR 锁存器的动态特性
为了保证触发器在工作时能可靠地翻转，有必要分析一下它们的动态翻转
242 第五章 触发器
过程，并找出对输入信号、时钟信号以及它们互相配合关系的要求。考虑到SR
锁存器是很多触发器电路的基本组成部分，因而有必要事先讨论一下它的动态
特性。
一、输入信号宽度
首先需要分析一下考虑到门电路存在传输延迟时间以后图5.7.1中的SR
锁存器的翻转过程。为方便起见，假定所有门电路的平均传输延迟时间相等，用
t表示。
Sb
tw
G? ol
Sp- -Q Rb t
ol
Q
t
Rb- Q' tPLH G? ol Q'
t
tPHL
0
t
图5.7.1 SR 锁存器的电路与动态波形
设锁存器的初始状态为Q=0、Q'=1,输入信号波形如图5.7.1所示。当
S'的下降沿到达后，经过门G,的传输延迟时间t,Q端变为高电平。这个高电
平加到门 G?的输入端，再经过门 G?的传输延迟时间t,使Q'变为低电平。当
Q'的低电平反馈到G:的输入端以后，即使S'p=0的信号消失(即S'回到高电
平),锁存器被置成的Q=1状态也将保持下去。可见，为保证锁存器可靠地翻
转，必须等到Q'=0的状态反馈到G?的输入以后，S'p=0的信号才可以取消。
因此，So输入的低电平信号宽度tw应满足
tw≥2tpd
同理，如果从Ri端输入置0信号，其宽度也必须大于或等于2td。
二、传输延迟时间
从输入信号到达起，到锁存器输出端新状态稳定地建立起来为止，所经过的
这段时间称为锁存器的传输延迟时间。从上面的分析已经可以看出，输出端从
低电平变为高电平的传输延迟时间tpLH和从高电平变为低电平的传输延迟时间
tPHL是不相等的，它们分别为
tpLH=tpd
*5.7 触发器的动态特性 243
tpHL=2td
若SR锁存器由或非门组成(电路如图5.2.1中所示),则其传输延迟时间
将为 tpH=2td、tpHL=tpd
5.7.2 电平触发SR触发器的动态特性
一、输入信号宽度
若电平触发 SR触发器全部用与非门构成，如图5.7.2所示，为了保证由门G?
和门G?组成的SR锁存器可靠翻转，则要求它的输入信号S?和Ró的宽度必须大
于2tpd。而这里Sb =(S·CLK)'、R'=(R·CLK)',故要求S(或R)和CLK同时为
高电平的时间应满足
tw(s·cLK)≥2tpd
CLK
o
SA
t
o
RA
t
G? S Sb G?
Q o
Sb
t
CLK· -tpd
Q' R o
Rbt t
G? RbG?
ol
Q
t
-tpLH
olQ'
t
tpH
o t
图5.7.2 电平触发SR触发器的电路和动态波形
二、传输延迟时间
从S和CLK(或R和CLK)同时变为高电平开始，到输出端新状态稳定地建
立起来为止，所经过的时间为电平触发SR触发器的传输延迟时间。由图5.7.2
所示的电路图和波形图上可知
—
244 第五章 触发器
tPLH=2tpd
tPHL=3tpd
5.7.3 主从触发器的动态特性
在5.4节中曾经讲过，主从结构触发器是分两步动作的：CLK=1期间主触
发器按输入信号(S、R或者J、K)的状态翻转，待CLK变为0时从触发器再按主
触发器的状态翻转，使输出端改变状态。而且，为避免CLK下降沿到达时主触
发器的状态与J、K的状态不符，通常应使J、K的状态在 CLK=1期间保持不变。
由此不难得出下面的结论。
一、建立时间
建立时间是指输入信号应先于CLK 动作沿到达的时间，用te表示。由图
5.7.3可见，由于主触发器是一个同步SR触发器，根据前面讲的同步SR触发器
对输入信号宽度的要求，为保证CLK下降沿到达时主触发器能可靠地翻转，J、K
信号至少应在CLK下降沿以前2ta时间已稳定建立，并在CLK下降沿到达前保
持不变，因此有
tset≥2td
CLK
twH twL
ol
J
t
G? Gs G? G?
J- Q
olK
t
o
Q
t
K- -Q' -tPLH
G? G? G? G?
CLK·
olQ'
t
G? -tPHL
ol t
图5.7.3 主从JK触发器的电路和动态波形
二、保持时间
保持时间是指CLK下降沿到达后输入信号仍需要保持不变的时间。保持
时间用ta表示。如果CLK=1期间J、K的状态保持不变，由于CLK下降沿到达
后主触发器已翻转完毕，因而输人状态已无须继续保持。但为了避免CLK下降
*5.7 触发器的动态特性 245
沿到达时门 G?、G?的输入产生竞争现象，必须在CLK变成低电平以后J、K的状
态才允许变化。因此，保持时间必须大于CLK的下降时间t,即
tH≥t
三、传输延迟时间
若将从CLK下降沿开始到输出端新状态稳定地建立起来的这段时间定义
为传输延迟时间，则有
tpLH=3tpd
tPHL=4td
四、最高时钟频率
因为主从触发器是由两个同步SR触发器组成的，所以由同步SR触发器的
动态特性可知，为保证主触发器的可靠翻转，CLK 高电平的持续时间twa应大于
3tpd。同理，为保证从触发器能可靠地翻转，CLK低电平的持续时间twL也应大于
3tpd。因此，时钟信号的最小周期为
Tc(min)≥6tpd
最高时钟频率
fc(max)≤1/(6td)
如果把图5.7.3所示的JK触发器接成T触发器使用并令T=1(即将J与
K相连并接至高电平),则最高时钟频率还要低一些。因为从 CLK的下降沿开
始到输出端的新状态稳定建立所需时间为tpHL=4td,如果CLK 信号的占空比为
50那么CLK信号的最高频率只能达到
fecmm2em?
5.7.4 维持阻塞触发器的动态特性
一、建立时间
由图5.7.4所示维持阻塞触发器的电路可见，由于CLK 信号是加到门 G?
和G?上的，因而在CLK 上升沿到达之前门 G?和G?输出端的状态必须稳定地
建立起来。输入信号到达D端以后，要经过一级门电路的传输延迟时间G?的
输出状态才能建立起来，而G?的输出状态需要经过两级门电路的传输延迟时间
才能建立，因此D端的输入信号必须先于CLK的上升沿到达，而且建立时间应
满足
tset≥2tpd
二、保持时间
由图5.7.4可知，为实现边沿触发，应保证CLK=1期间门G?的输出始终
不变，不受D端状态变化的影响。
I
246 第五章 触发器
CLK1
Gs
ol twe
G? G? D tsc t
Q tH
CLK
0
Q
t
G4
Q' tPLH
G? o
Q' t
-tpHL
D ol G? t
图5.7.4 维持阻塞D触发器的电路与动态波形
为此，在D=0的情况下，当CLK上升沿到达以后还要等门G?输出的低电
平返回到门 G?的输入端以后，D端的低电平才允许改变。因此输入低电平信号
的保持时间为
tHL≥tpd
在D=1的情况下，由于CLK上升沿到达后G?的输出将G?封锁，所以不要
求输入信号继续保持不变，故输入高电平信号的保持时间tm=0。
三、传输延迟时间
由图5.7.4不难推算出，从CLK上升沿到达时开始计算，输出由高电平变
为低电平的传输延迟时间tpHL和由低电平变为高电平的传输延迟时间tpLH分
别是
tPHL=3td
tPLH=2td
四、最高时钟频率
为保证由门G?~G?组成的同步SR触发器能可靠地翻转，CLK高电平的持
续时间应大于tPHL,所以时钟信号高电平的宽度twa应大于tpHL。而为了在下一
个CLK上升沿到达之前确保门 G?和G?新的输出电平得以稳定地建立，CLK 低
电平的持续时间不应小于门G?的传输延迟时间和t之和，即时钟信号低电平
的宽度twL≥tset+td。因此得到
e(cm+tm
++tm
本 章 小结 247
6
最后需要强调说明一点，在实际的集成触发器器件中，每个门的传输延迟时
间是不同的。由于内部的逻辑门采用了各种形式的简化电路，所以它们的传输
延迟时间比标准输入、输出结构门电路的传输延迟时间要小得多。由于在上面
的讨论中假定了所有门电路的传输延迟时间是相等的，所以得出的一些结果只
用于定性说明有关的物理概念。每个集成触发器产品的动态参数数值最后要通
过实验测定。
事章小结
和门电路一样，触发器也是构成各种复杂数字系统的一种基本逻辑单元。
触发器逻辑功能的基本特点是可以保存1位二值信息。因此，又将触发器
称为半导体存储单元或记忆单元。
由于输入方式以及触发器状态随输入信号变化的规律不同，各种触发器在
具体的逻辑功能上又有所差别。根据这些差异，将触发器分成了SR、JK、T、D等
几种逻辑功能的类型。这些逻辑功能可以用特性表、特性方程或状态转换图
描述。
此外，由于电路的结构形式不同，触发器的触发方式也不一样，有电平触发、
脉冲触发和边沿触发之分。不同触发方式的触发器在状态的翻转过程中具有不
同的动作特点。因此，在选择触发器电路时不仅需要知道它的逻辑功能类型，还
必须了解它的触发方式，这样才能掌握它的动作特点，做出正确的设计。我们介
绍各种触发器内部电路结构的目的是为了帮助读者更好地理解和掌握每种触发
方式的动作特点，这些触发器的内部电路不是本章的学习重点。
特别需要指出，触发器的电路结构形式和逻辑功能之间不存在固定的对应
关系。同一种逻辑功能的触发器可以用不同的电路结构实现；同一种电路结构
的触发器可以实现不同的逻辑功能。不要将某一种电路结构形式同某一种逻辑
功能类型等同起来。
触发器的电路结构和触发方式之间的关系是固定的。例如，只要是同步 SR
结构，无论逻辑功能如何，就一定是电平触发方式；只要是维持阻塞结构，无论逻
辑功能如何，一定是边沿触发方式，等等。因此，只要知道了触发器的电路结构
类型，也就知道它的触发方式了。
在TTL电路触发器中，因为输入、输出端的电路结构和TTL反相器相同(有
的输入端内部可能是几个门电路的输入端并联),所以第二章里所讲的TTL反
相器的输入特性和输出特性对触发器仍然适用。每个输入端、输出端具体的电
248 第五章 触发器
气参数可从手册上查到。
在CMOS电路触发器中，通常每个输入端、输出端均在器件内部设置了缓冲
器，因而它们的输入特性和输出特性和CMOS反相器的输入特性和输出特性具
有相同的形式，这里不再复述。
为了保证触发器在动态工作时能可靠地翻转，输入信号、时钟信号以及它
们在时间上的相互配合应满足一定的要求。这些要求表现在对建立时间、保
持时间、时钟信号的宽度和最高工作频率的限制上。对于每个具体型号的集
成触发器，可以从手册上查到这些动态参数，在工作时应符合这些参数所规定
的条件。
[题5.1] 画出图P5.1由与非门组成的SR锁存器输出端Q、Q'的电压波形，输入端S)、
R′p的电压波形如图中所示。
Sb Sb· Q
ol RD
t
Rp- Q'
ol t
图P5.1
[题5.2] 画出图P5.2由或非门组成的SR锁存器输出端Q、Q'的电压波形，输入端So、
Rp的电压波形如图中所示。
Sp- Sp
-Q'
ol
Rp
t
Ro- Q
0 t
图P5.2
[题5.3] 试分析图P5.3所示电路的逻辑功能，列出真值表，写出逻辑函数式。
[题5.4] 图P5.4所示为一个防抖动输出的开关电路。当拨动开关S时，由于开关触
点接通瞬间发生振颤，Sp 和R′p的电压波形如图中所示，试画出Q、Q'端对应的电压波形。
[题5.5] 在图P5.5所示电路中，若CLK、S、R的电压波形如图中所示，试画出Q和Q'
习题 249
R
Q
CLK
Q'
S
图P5.3
Sp Vcc
RS SR
S
S6 ol S Q
R′bf
t
Rb R Q
0
t
图P5.4
端与之对应的电压波形。假定触发器的初始状态为Q=0。
CLK
S.
Q 0
S t
CLK
Q' R- R t
0 t
图P5.5
[题5.6] 若将电平触发SR触发器的Q与R、Q'与S相连，如图P5.6所示，试画出在
S
Q CLK
CLK· tw
Q' 0
t
R
图P5.6
250 第五章 触发器
CLK 信号作用下Q和Q'端的电压波形。已知CLK 信号的宽度tw=4t。t为门电路的平均
传输延迟时间，假定td≈tpHL≈tpLH。设触发器的初始状态为Q=0。
[题5.7] 若主从结构 SR触发器各输入端的电压波形如图P5.7中所给出，试画出Q、
Q'端对应的电压波形。设触发器的初始状态为Q=0。
CLK
S- 1S 7 Q S t
CLK C1
R- 1R 7 Q' 0
R t
o t
图 P5.7
[题5.8] 在脉冲触发 SR触发器电路中，若S、R、CLK端的电压波形如图 P5.8所示，试
画出Q、Q'端对应的电压波形。假定触发器的初始状态为Q=0。
CLK
S- 1S 7 Q
olS
t
CLK- C1
R- 1R 71 Q' o
R
t
0 t
图P5.8
[题5.9] 若主从结构 SR触发器的CLK、S、R、R'各输入端的电压波形如图P5.9所示，
Sp=1,试画出Q、Q'端对应的电压波形。
[题5.10] 在脉冲触发JK触发器中，已知J、K、CLK端的电压波形如图P5.10所示，试
画出Q、Q'端对应的电压波形。设触发器的初始状态为Q=0。
[题5.11] 已知脉冲触发JK 触发器输入端J、K和CLK的电压波形如图P5.11所示，试
画出Q、Q'端对应的电压波形。设触发器的初始状态为Q=0。
[题5.12] 若主从结构 JK 触发器CLK、R、Só、J、K端的电压波形如图P5.12所示，试
画出Q、Q'端对应的电压波形。
[题5.13] 已知CMOS边沿触发器输入端D和时钟信号CLK的电压波形如图P5.13所
示，试画出Q和Q'端对应的电压波形。假定触发器的初始状态为Q=0。
习 题 251
CLK
Vcc o
Rb4
t
Sb
S- CLK- R- Rb
s5C1 7 Q
口5 t
R
7 Q'
oR t
0
t
图P5.9
CLK
J- 1J 7 Q
ol
J
t
CLK· C1
K- 1K 7 Q' oN t
0 t
图P5.10
CLK
J 1J 7 Q
0
J
t
CLK- C1
K- 1K 7 Q'
t
o t
图P5.11
[题5.14] 已知维持阻塞结构D触发器各输入端的电压波形如图P5.14所示，试画出
Q、Q'端对应的电压波形。
252 第五章 触发器
S6
CLK
J-
Rb
K-
D
CLK
D?
D?-
CLK
S
1J
R
C1
1K 7
1D
C1
1D
S
R
>C1 1·
Rb
Q
Q
Q
Q'
CLK
0
Sb
0
Rb
0
J
0
K
ol
图P5.12
CLK
o
D
0
图P5.13
CLK
0
Rb
Q
Q'
0
D?
o
D?
ol
图P5.14
t
t
t
t
t
t
t
t
t
t
t
习题253
[题5.15] 已知 CMOS边沿触发方式 JK触发器各输入端的电压波形如图P5.15所示，
试画出Q、Q'端对应的电压波形。
CLK
ol Rpk t
0-
J-
S
1J Q o
CLK- K Rp
>C1 1KR
J t
Q
o
K
0
t
图P5.15
[题5.16] 在脉冲触发T触发器中，已知T、CLK端的电压波形如图P5.16所示，试画出
Q、Q'端对应的电压波形。设触发器的起始状态为Q=0。
CLK
T 1T 7 Q
CLK·—d C1
7
o
T
t
Q'
0 t
图 P5.16
[题5.17] 在图P5.17所示的主从结构JK触发器电路中，已知CLK 和输入信号T的
电压波形如图所示，试画出触发器输出端Q和Q'的电压波形。设触发器的起始状态为
CLK
T- 1J Q
CLK- C1 0
T t
1K Q'
t
ol
图P5.17
254 第五章 触发器
Q=0。
[题5.18] 设图P5.18中各触发器的初始状态皆为Q=0,试画出在CLK 信号连续作用
下各触发器输出端的电压波形。
2? Q? 1J 1- 1T 1J 1J 2 2? 1- 0- 7
C1 C1 C1 CLK CLK CLK- >C1 CLK-
1K 1K 1K
2? 2 Q? Q, 1s 7 1J 1J 1J
C1 C1 >C1 C1 CLK- CLK CLK- CLK-
1K 1K 1- 1K 1R 1-
1- 2, Q?0 Q?2 2 1D 1D 1D 1T
C1 C1 C1 C1 CLK- CLK- CLK- CLK CLK4
0 t
图P5.18
[题5.19] 试写出图P5.19(a)中各电路的次态函数(即Qi、Q?、Q3、Q4与现态和输
入变量之间的函数式),并画出在图P5.19(b)所给定信号的作用下Q?、Q?、Q?、Q?的电压波
形。假定各触发器的初始状态均为Q=0。
[题5.20] 在图P5.20电路中已知输人信号v,的电压波形如图所示，试画出与之对应
的输出电压 vo的波形。触发器为维持阻塞结构，初始状态为Q=0。(提示：应考虑触发器和
异或门的传输延迟时间。)
[题5.21] 在图P5.21所示的主从JK触发器电路中，CLK 和A的电压波形如图中所
示，试画出Q端对应的电压波形。设触发器的初始状态为Q=0。
[题5.22] 图P5.22所示是用CMOS边沿触发器和或非门组成的脉冲分频电路。试画
出在一系列CLK 脉冲作用下Q?、Q?和Z端对应的输出电压波形。设触发器的初始状态皆为
Q=0。
[题5.23] 图P5.23所示是用维持阻塞结构D触发器组成的脉冲分频电路。试画出在
一系列CLK脉冲作用下输出端Y对应的电压波形。设触发器的初始状态均为Q=0。
[题5.24] 试画出图P5.24所示电路输出端Y、Z的电压波形。输入信号A和CLK的
电压波形如图中所示。设触发器的初始状态均为Q=0。
A
B
CLK
A
B
CLK
VI·
CLK
A-
CLK
0
A
0
B
0
1
1J
C1
1K
1TC1
1D
C1
1J
C11K
R
7
Q'
Q
Q
A
Q B
CLK·
2? A-B Q3 CLK·
(a)
(b)
图P5.19
v?
O
Vo
图P5.20
CLK Q
olA
0
图 P5.21
1S
C1
1R
1D
C1
t
t
t
习题 255
Q?
Q
24
Q
t
t
t
256 第五章 触发器
2?
1D 1D 2?
>C1 C1
R
CLK Z
图P5.22
>C1
1D
Q?
CLK
Y
1D
C1
Q?
图P5.23
Y
A 1D 1D
C1 C1
·Z
CLK
CLK
t
ol t
图P5.24
[题5.25] 试画出图P5.25所示电路输出端Q?的电压波形。输入信号A和CLK 的电
压波形与上题相同。假定触发器为主从结构，初始状态均为Q=0。
—
习题 257
1- 1J 7
Q 1J 7 Q?
A- C1 C1
1K
R
7 1- 1K 7 2
CLK·
图P5.25
[题5.26] 试画出图P5.26所示电路在一系列CLK信号作用下Q?、Q?、Q?端输出电压
的波形。触发器均为边沿触发方式，初始状态为Q=0。
Q Q? Q?
1J 1J 1J
CLK >C1 >C1 >C1
1K 1K 1K
1 1
图P5.26
[题5.27] 试画出图P5.27电路在图中所示CLK、R′p信号作用下Q?、Q?、Q?的输出电
压波形，并说明Q?、Q?、Q?输出信号的频率与CLK信号频率之间的关系。
Q 2? Q?
1D 1D 1D
CLK >C1 C1 >C1
R R R
Rb
CLK
ol Rb
t
O
t
图P5.27
258 第五章 触发器
[题5.28] 设计一个4人抢答逻辑电路。具体要求如下：
(1)每个参赛者控制一个按钮，用按动按钮发出抢答信号。
(2)竞赛主持人另有一个按钮，用于将电路复位。
(3)竞赛开始后，先按动按钮者将对应的一个发光二极管点亮，此后其他 3人再按动按
钮对电路不起作用。
--
第六章
时序逻辑电路
内容提要
本章系统讲授时序逻辑电路的工作原理和分析方法、设计方法。
首先，概要地讲述了时序逻辑电路在逻辑功能和电路结构上的特点，并详细介绍了分
析时序逻辑电路的具体方法和步骤。然后分别介绍了寄存器、计数器、顺序脉冲发生器等
各类常用时序逻辑电路的工作原理和使用方法。最后讲述了时序逻辑电路的设计方法，
并从物理概念上讨论了时序逻辑电路中的竞争-冒险现象。此外，还给出了用Multisim 7
分析时序逻辑电路的实例。
6.1 概述
在第四章所讨论的组合逻辑电路中，任一时刻的输出信号仅取决于当时的
输入信号。这也是组合逻辑电路在逻辑功能上的共同特点。本章要介绍另一种
类型的逻辑电路，在这类逻辑电路中，任一时刻的输出信号不仅取决于当时的输
入信号，而且还取决于电路原来的状态，或者说，还与以前的输入有关。具备这
种逻辑功能特点的电路称为时序逻辑电路(sequential logic circuit,简称时序电
路),以区别于组合逻辑电路。
为了进一步说明时序逻辑电路的特点，下面来分析一下图6.1.1给出的一
个实例——串行加法器电路。
所谓串行加法，是指在将两个多位数相加时，采取从低位到高位逐位相加的
方式完成相加运算。由于每一位(例如第i位)相加的结果不仅取决于本位的两
个加数a;和b;,还与低一位是否有进位有关，所以完整的串行加法器电路除了
应该具有将两个加数和来自低位的进位相加的能力之外，还必须具备记忆功能，
260 第六章 时序逻辑电路
这样才能把本位相加后的进位结果保存下来，以备做高一位的加法时使用。因
此，图6.1.1所示的串行加法器电路包含了两个组成部分，一部分是全加器∑,
另一部分是由触发器构成的存储电路。前者执行a,、b,和ci-1三个数的相加运
算，后者负责记下每次相加后的进位结果。
通过这个简单的例子不难看出，时序电路在电路结构上有两个显著的特点。
第一，时序电路通常包含组合电路和存储电路两个组成部分，而存储电路是必不
可少的。第二，存储电路的输出状态必须反馈到组合电路的输入端，与输入信号
一起，共同决定组合逻辑电路的输出。
ai- 2 Si x1-
b; x;
…
组合逻辑电路
·…◆ y?
y,
Ci-1 CICO Ci
1D q,
存储电路
z1
CLK C1 Q
… …
q, Zk
图6.1.1 串行加法器电路 图6.1.2 时序逻辑电路的结构框图
时序电路的框图可以画成图6.1.2所示的普遍形式。图中的X(x?,x?,…,
x;)代表输入信号，Y(y?,y?,…,y;)代表输出信号，Z(z?,z?,…,z)代表存储电路
的输入信号，Q(q1,q2,…,q)代表存储电路的输出。这些信号之间的逻辑关系
可以用三个方程组来描述
(6.1.1)
(6.1.2)
aa. a.)
21,Z2,…,zk,91,92,…,q1)
(6.1.3)
6.1 概 述 261
式(6.1.1)称为输出方程，式(6.1.2)称为驱动方程(或激励方程),式
(6.1.3)称为状态方程。q?,q?,…,q,表示存储电路中每个触发器的现态，q",
q?,…,q,*表示存储电路中每个触发器的次态。如果将式(6.1.1)、
(6.1.2)和(6.1.3)写成向量函数的形式，则得到
Y=F[X,Q]
Z=G[X,Q]
Q*=H[Z,Q]
由于存储电路中触发器的动作特点不同，在时序电路中又有同步时序电路
和异步时序电路之分。在同步时序电路中，所有触发器状态的变化都是在同一
时钟信号操作下同时发生的。而在异步时序电路中，触发器状态的变化不是同
时发生的。
此外，有时还根据输出信号的特点将时序电路划分为米利(Mealy)型和穆
尔(Moore)型两种。在米利型电路中，输出信号不仅取决于存储电路的状态，而
且还取决于输入变量；在穆尔型电路中，输出信号仅仅取决于存储电路的状态。
可见，穆尔型电路只不过是米利型电路的一种特例而已。
以后还会看到，在有些具体的时序电路中，并不都具备图6.1.2所示的完整
形式。例如，有的时序电路中没有组合电路部分，而有的时序电路又可能没有输
入逻辑变量，但它们在逻辑功能上仍具有时序电路的基本特征。
鉴于时序电路在工作时是在电路的有限个状态间按一定的规律转换的，所
以又将时序电路称为状态机(State Machine,简称 SM)或算法状态机(Algorithmic
State Machine,简称ASM)。
在分析时序电路时只要将状态变量和输入信号一样当作逻辑函数的输入变
量处理，那么分析组合电路的一些运算方法仍然可以使用。不过，由于任意时刻
状态变量的取值都和电路的历史情况有关，所以分析起来要比组合电路复杂一
些。为便于描述存储电路的状态及其转换规律，还要引入一些新的表示方法和
分析方法。
至于时序电路的设计方法，则更复杂一些，在讲过若干典型的时序电路之后
对此再做详细介绍。
复习思考题
R6.1.1 组合逻辑电路和时序逻辑电路在逻辑功能与电路结构上有何区别?
R6.1.2 同步时序电路和异步时序电路有何不同?
262 第六章 时序逻辑电路
6.2 时序逻辑电路的分析方法
6.2.1 同步时序逻辑电路的分析方法
分析一个时序电路，就是要找出给定时序电路的逻辑功能。具体地说，就是
要求找出电路的状态和输出的状态在输入变量和时钟信号作用下的变化规律。
首先讨论同步时序电路的分析方法。由于同步时序电路中所有触发器都是
在同一个时钟信号操作下工作的，所以分析方法比较简单。
在本章6.1节中已经讲过，时序电路的逻辑功能可以用输出方程、驱动方程
和状态方程全面描述。因此，只要能写出给定逻辑电路的这三个方程，那么它的
逻辑功能也就表示清楚了。根据这三个方程，就能够求得在任何给定输入变量
状态和电路状态下电路的输出和次态。
分析同步时序电路时一般按如下步骤进行：
(1)从给定的逻辑图中写出每个触发器的驱动方程(亦即存储电路中每个
触发器输入信号的逻辑函数式)。
(2)将得到的这些驱动方程代入相应触发器的特性方程，得出每个触发器
的状态方程，从而得到由这些状态方程组成的整个时序电路的状态方程组。
(3)根据逻辑图写出电路的输出方程。
【例6.2.1】 试分析图6.2.1所示时序逻辑电路的逻辑功能，写出它的驱
动方程、状态方程和输出方程。FF?、FF?和FF?是三个主从结构的TTL触发器，
下降沿动作，输入端悬空时和逻辑1状态等效。
13 7
2? 1J 7
Q? 1J 7
Q? Y
C1
1K 7
Q. C1
1K Q2 C1
1K 7
Q3
FF? FF? FF?
CLK
图6.2.1 例6.2.1的时序逻辑电路
解：(1)从图6.2.1给定的逻辑图可写出电路的驱动方程为
6.2 时序逻辑电路的分析方法 263
(6.2.1)
(2)将式(6.2.1)代入JK触发器的特性方程Q*=JQ'+K'Q中去，于是得
到电路的状态方程
(6.2.2)
(3)根据逻辑图写出输出方程为
Y=Q?·Q? (6.2.3)
6.2.2 时序逻辑电路的状态转换表、状态转换图、状态机流程图和时
序图
从理论上讲，有了驱动方程、状态方程和输出方程以后，时序电路的逻辑功
能就已经描述清楚了。然而通过例6.2.1可以发现，从这一组方程式中还不能
获得电路逻辑功能的完整印象。这主要是由于电路每一时刻的状态都和电路的
历史情况有关的缘故。由此可以想到，如果将电路在一系列时钟信号作用下状
态转换的全部过程找出来，则电路的逻辑功能便可一目了然了。
用于描述时序电路状态转换全部过程的方法有状态转换表(也称状态转换
真值表)、状态转换图、状态机流程图和时序图。由于这几种方法和方程组一
样，都可以用来描述同一个时序电路的逻辑功能，所以它们之间可以互相转换。
此外，还可以用硬件描述语言对时序电路的逻辑功能进行描述，这一部分内容将
在后面的有关章节中介绍。
一、状态转换表
若将任何一组输入变量及电路初态的取值代入状态方程和输出方程，即可
算出电路的次态和现态下的输出值；以得到的次态作为新的初态，和这时的输入
变量取值一起再代入状态方程和输出方程进行计算，又得到一组新的次态和输出
值。如此继续下去，将全部的计算结果列成真值表的形式，就得到了状态转换表。
【例6.2.2】试列出图6.2.1所示电路的状态转换表。
解：由图6.2.1可见，这个电路没有输入逻辑变量。(需要注意的是，不
要把CLK当作输入逻辑变量。时钟信号只是控制触发器状态转换的操作信
号。)因此，电路的次态和输出只取决于电路的初态，它属于穆尔型时序电路。
设电路的初态为Q?Q?Q,=000,代入式(6.2.2)和式(6.2.3)后得到
264 第六章 时序逻辑电路
Y=0
将这一结果作为新的初态，即Q?Q?Q?=001,重新代入式(6.2.2)和式
(6.2.3),又得到一组新的次态和输出值。如此继续下去即可发现，当Q?Q?Q?
=110时，次态Q?Q*Qi=000,返回了最初设定的初态。如果再继续算下去，电
路的状态和输出将按照前面的变化顺序反复循环，因此已无需再做下去了。这
样就得到了表6.2.1所示的状态转换表。
表6.2.1 图6.2.1电路的状态转换表
Q? Q? Q? Qi Q? Q?
0 0 1
0 1 0
0 1 1
1 0 0
1 0 1
1 1 0
0 0 0
0 0 0
Y
0 0 0 0
0 0 1 0
0 1 0 0
0 1 1 0
1 0 0 0
1 0 1 0
1 1 0 1
1 1 1 1
最后还要检查一下得到的状态转换表是否包含了电路所有可能出现的状
态。结果发现，Q?Q?Q?的状态组合共有8种，而根据上述计算过程列出的状态
转换表中只有7种状态，缺少 Q?Q?Q?= 111 这个状态。将此状态代入式
(6.2.2)和式(6.2.3)计算得到
Y=1
将这个计算结果补充到表中以后，才得到完整的状态转换表。
有时也将电路的状态转换表列成表6.2.2的形式。这种状态转换表给出了
在一系列时钟信号作用下电路状态转换的顺序，比较直观。
从表6.2.2上很容易看出，每经过7个时钟信号以后电路的状态循环变化
一次，所以这个电路具有对时钟信号计数的功能。同时，因为每经过7个时钟脉
6.2 时序逻辑电路的分析方法 265
冲作用以后输出端Y输出一个脉冲(由0变1,再由1变0),所以这是一个七进
制计数器，Y端的输出就是进位脉冲。
表6.2.2 图6.2.1电路状态转换表的另一种形式
CLK的顺序 Q? Q? Q?
0 0 0
0 0 1
0 1 0
0 1 1
1 0 0
1 0 1
1 1 0
0 0 0
1 1 1
0 0 0
Y
0 0
1 0
2 0
3 0
4 0
5 0
6 1
7 0
0 1
1 0
二、状态转换图
为了以更加形象的方式直观地显示出时序电路的逻辑功能，有时还进一步
将状态转换表的内容表示成状态转换图的形式。
图6.2.2是图6.2.1所示电路的状态转换图。在状态转换图中以圆圈表示
电路的各个状态，以箭头表示状态转换的方向。同时，还在箭头旁注明了状态转
换前的输入变量取值和输出值。通常将输入变量取值写在斜线以上，将输出值
写在斜线以下。因为图6.2.1电路没有输入逻辑变量，所以斜线上方没有注字。
/0 /0 /0 000 010 011 001
/1 /0 /1
111 100 110 10 101 /0
Q?Q?Q?
/Y
图6.2.2 图6.2.1电路的状态转换图
【例6.2.3】 分析图6.2.3所示时序逻辑电路的逻辑功能，写出电路的驱
动方程、状态方程和输出方程，画出电路的状态转换图。
解：首先从给定的电路图写出驱动方程
D?=AP,Q (6.2.4)
将式(6.2.4)代入D触发器的特性方程，得到电路的状态方程
266 第六章 时序逻辑电路
A-
1D Q 1D Q?
Y
C1 e >C1 Q2
FF, FF? CLK-
图6.2.3 例6.2.3的时序逻辑电路
e;=D:=APQ,田Q (6.2.5)
从图6.2.3所示的电路图写出输出方程为
Y=((A'Q?Q?)'·(A QiQ2)')'
=A'Q?Q?+A Q'Q? (6.2.6)
为便于画出电路的状态转换图，可先列出电路的状态转换表，如表6.2.3所
示。它以真值表的形式表示了电路的次态和输出(Q?Q*/Y)与现态和输入变量
(Q?Q?和A)之间的函数关系。表中的数值用式(6.2.5)和式(6.2.6)计算得
到。
根据表6.2.3画出的电路状态转换图如图6.2.4所示。
0/0
表6.2.3 图6.2.3电路的状态转换表 00 01
Q?QiY
Q?Q? 01 11
1/0 A/Y
00 10 0/1 1/1 1/0
0/0
A
1/0
Q?Q,)
0 01/010/0|00/111/0 11 10
11/1|00/0|10/001/0
0/0
1
图6.2.4 图6.2.3电路的状态转换图
由图6.2.4所示的状态转换图可以看出，图6.2.3所示电路可以作为可控
计数器使用。当A=0时是一个加法计数器，在时钟信号连续作用下，Q?Q?的数
值从00到11递增。如果从Q?Q?=00状态开始加入时钟信号，则Q?Q?的数值
可以表示输入的时钟脉冲数目。当A=1时是一个减法计数器，在连续加入时钟
脉冲时，Q?Q:的数值是从11到00递减的。
6.2 时序逻辑电路的分析方法 267
三、状态机流程图(SM图)
时序电路(也称状态机)逻辑功能的另外一种描述形式称为状态机流程图
(state machine flowchart,或 state machine chart),简称SM图。也有把它称为
ASM图的。
SM图采用类似于编写计算机程序时使用的程序流程图的形式，表示在一系
列时钟脉冲作用下时序电路状态转换的流程以及每个状态下的输入和输出。因
此，可以理解为它是状态转换图按时钟信号顺序展开的一种形式，能够更加直观
地表示出时序电路的运行过程。
SM图中使用的图形符号有三种：状态框、判断框和条件输出框。状态框是
一个矩形框，如图6.2.5(a)所示。每个状态框表示电路的一个状态，左上角注
明状态的名称(也有将状态名称写在框内的),右上角注明状态编码，框内列出
此状态下等于1的输出逻辑变量。因为写在状态框内的输出只与电路的状态有
关，所以一定是Moore型输出。当这个状态机用作复杂系统的控制电路时，每个
输出信号可能就是系统进行某种操作的控制指令，所以有时也在框内直接注明
系统所应当执行的操作，代替输出信号。
状态
名称
状态
编码
输出列表
(或操作)
0 条件 1 条件输出
列表
(a) (b) (c)
图6.2.5 SM图中使用的三种图形符号
(a)状态框(b)判断框(c)条件输出框
判断框又称条件分支框，它的外形为菱形，如图6.2.5(b)所示。判断框接
在状态框的出口，决定着状态转换的去向。框内标注的是判断条件，它可以是一
个逻辑变量、一个乘积项或者一个逻辑式。根据判断条件的取值是1还是0,确
定在时钟信号到达时电路状态的去向。
条件输出框的外形为扁圆形，如图6.2.5(c)所示。它接在判断框的出口，
框内标注输出变量的名称。当所接判断框出口的条件满足时，框内输出变量等
于1,否则等于0。
一个时序电路的SM图由若干个SM模块组成。每个模块包含一个状态框、
若干个判断框和条件输出框。图6.2.6就是一个SM模块的例子。当电路进入
S,状态后，输出Y、Y?等于1。若这时A=1、B=0,则输出Y?也等于1,下一个
268 第六章 时序逻辑电路
时钟信号到达时，电路转向出口2所指向的次态。若这时A=B=1,则Y?=0,下
一个时钟信号到达时，电路转向出口
3所指向的次态。若这时A=0,则Y? S? 001
等于1,Y?等于0,下一个时钟信号到
Y?,Y? 达时，电路转向出口1所指向的次态。
可见，一个 SM模块所表示的内容相
0 当于状态转换图中一个状态所表示的 A
内容。
按照以上所讲的规则，就可以根
据状态转换表或状态转换图画出对应
的SM图来。例如，根据表6.2.3的
状态转换表就可以画出图6.2.3所示
计数器电路的 SM图，如图6.2.7
所示。
Y? 0
B
1
Y?
1 2 3
图6.2.6 SM模块举例
四、时序图
为便于用实验观察的方法检查时序电路的逻辑功能，还可以将状态转换表
S? 00 11
0
A
1 0
A
1
Y
S? 01 S? 10
1 0
A
1
A
0
图6.2.7 图6.2.3电路的 SM图
的内容画成时间波形的形式。在输入信号和时钟脉冲序列作用下，电路状态、输
出状态随时间变化的波形图称为时序图。
图6.2.8和图6.2.9中画出了图6.2.1和图6.2.3所示电路的时序图。
1
6.2 时序逻辑电路的分析方法 269
利用时序图检查时序电路逻辑功能的方法不仅用在实验测试中，也用于数
字电路的计算机模拟当中。
CLK
ol2?4
t
OE 2?
t
ol
Q3
t
olY t
o t
图6.2.8 图6.2.1电路的时序图
CLK,
ol
AA
t
ol 2? t
o
Q?
t
olY t
ol t
图6.2.9 图6.2.3电路的时序图
复习思考题
R6.2.1 时序电路逻辑功能的描述方式有哪几种?你能将其中任何一种描述方式转换
为其他各种描述方式吗?
270 第六章 时序逻辑电路
*6.2.3 异步时序逻辑电路的分析方法
异步时序电路的分析方法和同步时序电路的分析方法有所不同。在异步时
序电路中，每次电路状态发生转换时并不是所有触发器都有时钟信号。只有那
些有时钟信号的触发器才需要用特性方程去计算次态，而没有时钟信号的触发
器将保持原来的状态不变。
因此，在分析异步时序电路时还需要找出每次电路状态转换时哪些触发器
有时钟信号，哪些触发器没有时钟信号。可见，分析异步时序电路要比分析同步
时序电路复杂。
下面通过一个例子具体说明一下分析的方法和步骤。
【例6.2.4】已知异步时序电路的逻辑图如图6.2.10所示，试分析它的逻
辑功能，画出电路的状态转换图和时序图。触发器和门电路均为TTL电路。
1J 2。 1J 2, 1J Q? 1J Q?
clk? >CI clk1 C1
1K 1K clk?>C1
1K clk31K
>C1
Q3 FF? FF? FF? FF? C
图6.2.10 例6.2.4的异步时序逻辑电路
解：首先根据逻辑图可写出驱动方程为
A3一
(6.2.7)
将式(6.2.7)代入JK触发器的特性方程Q*=JQ'+K'Q后得到电路的状
态方程
(6.2.8)
式中以小写的clk 表示时钟信号，它不是一个逻辑变量。对下降沿动作的
触发器而言，clk=1仅表示时钟输入端有下降沿到达；对上升沿动作的触发器而
6.2 时序逻辑电路的分析方法 271
言，clk=1表示时钟输入端有上升沿到达。clk=0表示没有时钟信号到达，触发
器保持原来的状态不变。
根据电路图写出输出方程为
C=Q?Q? (6.2.9)
为了画电路的状态转换图，需列出电路的状态转换表。在计算触发器的次
态时，首先应找出每次电路状态转换时各个触发器是否有clk信号。为此，可以
从给定的clk。连续作用下列出Q。的对应值(如表6.2.4中所示)。根据Q。每
次从1变0的时刻产生 clk,和clk?,即可得到表6.2.4中clk,和 clk?的对应值。
而Q,每次从1变0的时刻将产生clk?。以Q?Q?Q?Qo=0000为初态代入式
(6.2.8)和式(6.2.9)依次计算下去，就得到了表6.2.4所示的状态转换表。
表6.2.4 图6.2.10电路的状态转换表
clk,的 触发器状态 时钟信号
Q? Q? Q? Q。 clk。 clk? clk? clk?
0 0 0 0
0 0 0 1
0 0 1 0
0 0 1 1
0 1 0 0
0 1 0 1
0 1 1 0
0 1 1 1
1 0 0 0
1 0 0 1
0 0 0 0
0 0 0 0
0 0 0 1
1 0 1 1
0 0 0 1
1 1 1 1
0 0 0 1
1 0 1 1
0 0 0 1
1 1 1 1
0 0 0 1
1 0 1 1
输出
顺序 C
0 0
1 0
2 0
3 0
4 0
5 0
6 0
7 0
8 0
9 1
10 0
由于图6.2.10所示电路中有4个触发器，它们的状态组合有16种，而
表6.2.4中只包含了10种，因此需要分别求出其余6种状态下的输出和次
态。将这些计算结果补充到表6.2.4中，才是完整的状态转换表。完整的
电路状态转换图如图6.2.11所示。状态转换图表明，当电路处于表6.2.4
中所列10种状态以外的任何一种状态时，都会在时钟信号作用下最终进入
表6.2.4中的状态循环中去。具有这种特点的时序电路称为能够自行启动
的时序电路。
从图6.2.11的状态转换图还可以看出，图6.2.10电路是一个异步十进制
加法计数器电路。
272 第六章 时序逻辑电路
1110 /0 1111 /1 0000 /0 0001 /0 0010 /0 0011
/1 /0
/0
/1(1011 1010
1001 0100
Q?Q?2?20 /1
/0 10 1101 /0
1100
/C 1000 /0 0111 10 0110 /0 0101
图6.2.11 图6.2.10电路的状态转换图
6.3 若干常用的时序逻辑电路
6.3.1 寄存器和移位寄存器
一、寄存器
寄存器(Register)用于寄存一组二值代码，它被广泛地用于各类数字系统和
数字计算机中。
因为一个触发器能储存1位二值代码，所以用N个触发器组成的寄存器能
储存一组N位的二值代码。
对寄存器中的触发器只要求它们具有置1、置0的功能即可，因而无论是用
电平触发的触发器，还是用脉冲触发或边沿触发的触发器，都可以组成寄存器。
图6.3.1是一个用电平触发的同步SR触发器组成的4位寄存器的实
例——74LS75的逻辑图。由电平触发的动作特点可知，在CLK的高电平期间Q
端的状态跟随D端状态而变，在CLK变成低电平以后，Q端将保持CLK变为低
电平时刻D端的状态。
74HC175则是用CMOS边沿触发器组成的4位寄存器，它的逻辑图如图
6.3.2所示。根据边沿触发的动作特点可知，触发器输出端的状态仅仅取决于
CLK上升沿到达时刻D端的状态。可见，虽然74LS75和74HC175都是4位寄
存器，但由于采用了不同结构类型的触发器，所以动作特点是不同的。
为了增加使用的灵活性，在有些寄存器电路中还附加了一些控制电路，使寄
存器又增添了异步置0、输出三态控制和“保持”等功能。这里所说的“保持”,是指
CLK信号到达时触发器不随D端的输入信号而改变状态，保持原来的状态不变。
在上面介绍的两个寄存器电路中，接收数据时所有各位代码是同时输入的，
而且触发器中的数据是并行地出现在输出端的，因此将这种输入、输出方式称为
并行输入、并行输出方式。
6.3 若干常用的时序逻辑电路 273
D? 1D 2。
C1
D? 1D -2。 R Q
C1
2 D? 1D 2
C1
D? 1D Q
R Q
CLKA- C1
2
D? 1D Q?
>C1
D? 1D Q?
R Q2
C1
-Q D? 1D Q?
>C1
D? CLKB-
1D Q? CLK R Q
C1
Q3 Rb-
图6.3.1 74LS75的逻辑图 图6.3.2 74HC175的逻辑图
二、移位寄存器
移位寄存器(Shift Register)除了具有存储代码的功能以外，还具有移位功
能。所谓移位功能，是指寄存器里存储的代码能在移位脉冲的作用下依次左移
或右移。因此，移位寄存器不但可以用来寄存代码，还可以用来实现数据的串
行-并行转换、数值的运算以及数据处理等。
图6.3.3所示电路是由边沿触发方式的D触发器组成的4位移位寄存器，
其中第一个触发器FF。的输入端接收输入信号，其余的每个触发器输入端均与
前边一个触发器的Q端相连。
并 行 输 出
2? Q? Q? Q?
FF? FF? FF? FF? 串行
输入
D 1D 1D
C1
1D 1D
Do
C1 C1 C1 编行
移位
脉冲
CLK
图6.3.3 用D触发器构成的移位寄存器
因为从CLK上升沿到达开始到输出端新状态的建立需要经过一段传输延
迟时间，所以当CLK的上升沿同时作用于所有的触发器时，它们输入端(D端)
——
274 第六章 时序逻辑电路
的状态还没有改变。于是FF,按Q。原来的状态翻转，FF,按Q?原来的状态翻
转，FF?按 Q?原来的状态翻转。同时，加到寄存器输入端D?的代码存入 FF?。
总的效果相当于移位寄存器里原有的代码依次右移了1位。
例如，在4个时钟周期内输入代码依次为1011,而移位寄存器的初始状态
为Q?Q?Q?Q?=0000,那么在移位脉冲(也就是触发器的时钟脉冲)的作用下，移
位寄存器里代码的移动情况将如表6.3.1所示。图6.3.4给出了各触发器输出
端在移位过程中的电压波形图。
表6.3.1 移位寄存器中代码的移动状况
CLK的顺序 输入D?
0
1
0
1
1
Q。 Q? Q? Q?
0 0 0 0 0
1 1 0 0 0
2 0 1 0 0
3 1 0 1 0
4 1 1 0 1
可以看到，经过4个CLK 信号以后，串行输入的4位代码全部移入了移位
寄存器中，同时在4个触发器的输出端得
到了并行输出的代码。因此，利用移位寄
存器可以实现代码的串行-并行转换。
D?
1 0 11
o
CLK
t
如果首先将4位数据并行地置入移
位寄存器的4 个触发器中，然后连续加入
4个移位脉冲，则移位寄存器里的4位代
码将从串行输出端.D。依次送出，从而实
现了数据的并行-串行转换。
o
2o4
t
ol 2?4
t
图6.3.5是用JK触发器组成的4位
移位寄存器，它和图6.3.3所示电路具有
同样的逻辑功能。
ol
Q?4
t
为便于扩展逻辑功能和增加使用的
灵活性，在定型生产的移位寄存器集成电
路上有的又附加了左、右移控制、数据并
行输入、保持、异步置零(复位)等功能。
O
Q?4
t
o t
图6.3.6给出的74LS194A 4位双向移位
寄存器就是一个典型的例子。
图6.3.4 图6.3.3电路的电压波形
74LS194A由4个触发器 FF。、FF?、FF?、FF?和各自的输入控制电路组成。
图中的DR为数据右移串行输入端，D为数据左移串行输入端，D。~D?为数据
6.3 若干常用的时序逻辑电路 275
并行输入端，Q。~Q?为数据并行输出端。移位寄存器的工作状态由控制端S
和S。的状态指定。
并 行 输 出
2。 21 |2? Q?
FF? FF, FF? FF?
D? 串行
输入 1J 1J 1J 1J
Do串行
输出 C1 >C1 >C1 >C1
1K 1K 1K 1K
移位
脉冲
CLK
图6.3.5 用JK触发器构成的移位寄存器
并行输入
D? D? D? D?
工作
模式
选择
[S?-
S?-
右移
输入DiR
左移
Dn 输入
FF。 G? FF? FF? FF?
1S>Ci
G? 1S 1S
>C1 >C1
iS
>C1
CLK Rp Q? Q Q? Q?
并行输出
图6.3.6 双向移位寄存器74LS194A的逻辑图
现以第二位触发器FF,为例，分析一下S?、S。为不同取值时移位寄存器的
工作状态。由图可见，FF?的输入控制电路是由与或非门 G?和反相器G?组成的
具有互补输出的4选1数据选择器。它的互补输出作为FF,的输入信号。
当S,=S。=0时，G?最右边的输入信号Q,被选中，使触发器FF?的输入为
S=Q,、R=Q',故CLK上升沿到达时FF,被置成Qi=Q?。因此，移位寄存器工
作在保持状态。
当S?=S?=1时，G?左边第二个输入信号D?被选中，使触发器FF,的输入
为S=D?、R=D{,故CLK上升沿到达时FF?被置成Qi=D?,移位寄存器处于数
据并行输入状态。
276 第六章 时序逻辑电路
当S?=0、S。=1时，G?最左边的输入信号Q。被选中，使触发器 FF,的输入
为S=Qo、R=Q故CLK上升沿到达时FF?被置成Qi=Q。,移位寄存器工作在
右移状态。
当S?=1、S,=0时，G?右边第二个输入信号Q?被选中，使触发器FF,的输
入为S=Q?、R=Q2,故CLK 上升沿到达时触发器被置成Qi=Q?,这时移位寄存
器工作在左移状态。
此外，R'p=0时FF。~FF?将同时被 表6.3.2 双向移位寄存器
74LS194A的功能表 置成Q=0,所以正常工作时应使R′处
于高电平。 R′p S? S?
× ×
0 0
0 1
1 0
1 1
工作状态
其他三个触发器的工作原理与FF?
基本相同，不再赘述。根据上面的分析
可以列出74LS194A 的功能表，如 表
0 置零
1 保持
1 右移
6.3.2所示。 1 左移
1 并行输入
用74LS194A接成多位双向移位寄
存器的接法十分简单。图6.3.7是用两片74LS194A接成8位双向移位寄存器
的连接图。这时只需将其中一片的Q?接至另一片的DIR端，而将另一片的Qo
接到这一片的D?π,同时把两片的S?、S?、CLK和R′p分别并联就行了。
并行数据输入
右移
串行输入
左移
串行输入
DIRD?D?D?D?Dπ
S?
S?
DIRD?D?D?D?Dn
S? S? 74LS194ACLK< 74LS194ACLK< CLK
S?- S? Rp Rp Rb
QoQ?Q?Q? Q?QiQ?Q?
并行数据输出
图6.3.7 用两片74LS194A接成8位双向移位寄存器
【例6.3.1】 试分析图6.3.8所示电路的逻辑功能，并指出在图6.3.9所
示的时钟信号及S?、S。状态作用下，t4时刻以后输出Y与两组并行输入的二进
制数M、N在数值上的关系。假定M、N的状态始终未变。
解：该电路由两片4位加法器74283和4片移位寄存器74LS194A组成。
两片74283接成了一个8位并行加法器，4片74LS194A分别接成了两个8位的
单向移位寄存器。由于两个8位移位寄存器的输出分别加到了8位并行加法器
6.3 若干常用的时序逻辑电路277
mom?m2m3(M)
1
CLK,
D?D?D?D?Rp
>CLK74LS S?
D?D?D?D? Rp
194AS?
DR
Q,QiQ?Q?
S。194ACLK<
DR
QoQ?Q?Q?
S?74LS
-C
输出低位 y3v2
y
vo
sA A?
cO
S? 74283
CI
A?A2
S?
S?
B?B?B?B?
As, A。
CO
74283
CI S?
A?
S?
A1
B?B?B? B?
S?
y?
y6
y?
y?输出高位
(Y) (Y)
QoQ?Q?Q?
Rp
DR
D?D?D?D?
CLK194A Sol 74LS si
1
CLK?
d
Q,Q1Q2Q? DiR Rp74LS S194ACLK<
D?D?D?D?
S
ng n1 n2 n?(N)
图6.3.8 例6.3.1的电路
的两组输入端，所以图6.3.8所示电路是将两个8位移位寄存器里的内容相加
的运算电路。 S?
由图6.3.9可见，当t=t?时CLK,和
CLK,的第一个上升沿同时到达，因为这时
S?=S。=1,所以移位寄存器处在数据并行输
入工作状态，M、N的数值便被分别存入两个
移位寄存器中。
t?=t?以后，M、N同时右移1位。若m。、
n。是M、N的最低位，则右移1位相当于两数
各乘以2。
至t=t?时M又右移了2位，所以这时上
面一个移位寄存器里的数为M×8,下面一个
移位寄存器里的数为N×2。两数经加法器
ol S?
t
o
CLK?4
t
CLK?o
t
o
t? t2 t3 t4 t
图6.3.9 例6.3.1电路的波形图
278 第六章 时序逻辑电路
相加后得到
Y=M×8+N×2
复习思考题
R6.3.1 用电平触发的触发器、脉冲触发的触发器是否也能组成图6.3.3形式的移位寄
存器?
R6.3.2 在图6.3.8所示的加法运算电路中，为了保证得出正确的运算结果，对M和N
的数值应作何限制?
6.3.2 计数器
在数字系统中使用得最多的时序电路要算是计数器了。计数器不仅能用于
对时钟脉冲计数，还可以用于分频、定时、产生节拍脉冲和脉冲序列以及进行数
字运算等。
计数器的种类非常繁多。如果按计数器中的触发器是否同时翻转分类，可
以将计数器分为同步式和异步式两种。在同步计数器中，当时钟脉冲输入时触
发器的翻转是同时发生的。而在异步计数器中，触发器的翻转有先有后，不是同
时发生的。
如果按计数过程中计数器中的数字增减分类，又可以将计数器分为加法计
数器、减法计数器和可逆计数器(或称为加/减计数器)。随着计数脉冲的不断
输入而作递增计数的称为加法计数器，作递减计数的称为减法计数器，可增可减
的称为可逆计数器。
如果按计数器中数字的编码方式分类，还可以分成二进制计数器、二-十进
制计数器、格雷码计数器等。
此外，有时也用计数器的计数容量来区分各种不同的计数器，如十进制计数
器、六十进制计数器等。
一、同步计数器
1.同步二进制计数器
目前生产的同步计数器芯片基本上分为二进制和十进制两种。首先讨论同
步二进制计数器。
根据二进制加法运算规则可知，在一个多位二进制数的末位上加1时，若其
中第i位(即任何一位)以下各位皆为1时，则第i位应改变状态(由0变成1,由
1变成0)。而最低位的状态在每次加1时都要改变。例如
6.3 若干常用的时序逻辑电路 279
1011 011
1
1011 100
按照上述原则，最低的3位数都改变了状态，而高4位状态未变。
同步计数器通常用T触发器构成，结构形式有两种。一种是控制输入端T
的状态。当每次CLK信号(也就是计数脉冲)到达时，使该翻转的那些触发器输
入控制端T;=1,不该翻转的T?=0。另一种形式是控制时钟信号，每次计数脉
冲到达时，只能加到该翻转的那些触发器的CLK输入端上，而不能加给那些不
该翻转的触发器。同时，将所有的触发器接成T=1的状态。这样，就可以用计
数器电路的不同状态来记录输入的CLK脉冲数目。
由此可知，当通过T端的状态控制时，第i位触发器输入端的逻辑式应为
T;=Qi-1·Qi-2·…·Q?·Q?
=e (i=1,2,…,n-1)
计数脉冲 CLK· (6.3.1)
只有最低位例外，按照计数规则，每次输入
计数脉冲时它都要翻转，故T。=1。
1J 2?
T?=1 >C1
1K
图6.3.10所示电路就是按式(6.3.1)
接成的4位二进制同步加法计数器。由图
可见，各触发器的驱动方程为
FF?
T?[
1J Q?
>C1
1K
FF,
T?
(6.3.2)
1J Q?
C1
G?
1K
FF?
将上式代入T触发器的特性方程式得
到电路的状态方程
T? 1J Q?
>C1
G? 1K
FF?
C
G?
(6.3.3)
图6.3.10 用T触发器构成的
同步二进制加法计数器
280 第六章 时序逻辑电路
电路的输出方程为
C=Q?Q?Q?Q? (6.3.4)
根据式(6.3.3)和式(6.3.4)求出电路的状态转换表，如表6.3.3所示。利
用第16个计数脉冲到达时C端电位的下降沿可作为向高位计数器电路进位的
输出信号。
表6.3.3 图6.3.10电路的状态转换表
计数顺序
电路状态 等效十进制数
Q。 Q Q? Q?
0 0 0 0←
0 0 0 1
0 0 1 0
0 0 1 1
0 1 0 0
0 1 0 1
0 1 1 0
0 1 1 1
1 0 0 0
1 0 0 1
1 0 1 0
1 0 1 1
1 1 0 0
1 1 0 1
1 1 1 0
1 1 1 1
0 0 0 0--
0
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
0
进位输出
C
0 0
1 0
2 0
3 0
4 0
5 0
6 0
7 0
8 0
9 0
10 0
11 0
12 0
13 0
14 0
15 1
16 0
图6.3.11和图6.3.12是图6.3.10所示电路的状态转换图和时序图。由
时序图可以看出，若计数输入脉冲的频率为f,则Qo、Q1、Q?和Q?端输出脉冲的
26、4o、g。和 频率将依次为 针对计数器的这种分频功能，也将它称为
分频器。
此外，每输入16个计数脉冲计数器工作一个循环，并在输出端Q?产生一个
进位输出信号，所以又将这个电路称为十六进制计数器。计数器中能计到的最
大数称为计数器的容量，它等于计数器所有各位全为1时的数值。n位二进制
计数器的容量等于2"-1。
在实际生产的计数器芯片中，往往还附加了一些控制电路，以增加电路的功
能和使用的灵活性。图6.3.13为中规模集成的4位同步二进制计数器74161
6.3 若干常用的时序逻辑电路 281
0000 /0 0001 /0 0010 /0 0011 /0 0100
/1 /0
1111 0101
10m
/0
/0 Q?Q?Q?2?
0110
/0
/C
1101 0
011)
/0
1100/0 1011 /0 1010 /0 1001 /0 1000
图6.3.11 图6.3.10电路的状态转换图
CLK
o
2。 t
o
2?
t
od t
0
Q?
t
o
CA
t
o t
图6.3.12 图6.3.10电路的时序图
的逻辑图。这个电路除了具有二进制加法计数功能外，还具有预置数、保持和异
步置零等附加功能。图中LD'为预置数控制端，D?~D?为数据输入端，C为进位
输出端，R6 为异步置零(复位)端，EP和ET为工作状态控制端。
表6.3.4是74161的功能表，它给出了当EP和ET为不同取值时电路的工
作状态。
由图6.3.13可见，当R′p=0时所有触发器将同时被置零，而且置零操作不
受其他输入端状态的影响。
i
282 第六章 时序逻辑电路
G? FF?
LD'
G? G16
1J 2。
p
G?
G??
Gs G?7
G?
G?2
G? G?8
G?3
G14
G? G??
G??
C1
R
D? 1K
FF?
1J Q?
>C1
R
D? 1K
CLK
G? FF?
1J Q?
D?
>C1
R
1K
Ró-
G? FF?
1J Q?
>C1
R
D? 1K
G?
EPET G?0
C
图6.3.13 4位同步二进制计数器74161的逻辑图
表6.3.4 4位同步二进制计数器74161的功能表
CLK R′p LD' ET EP 工作状态
× 0
1
1
1
1
×
0
1
1
1
× ×
× ×
0 1
× 0
1 1
置零
预置数
x 保持
× 保持(但C=0)
计数
当R′p=1、LD'=0时，电路工作在同步预置数状态。这时门 G?6~G?9的输出
始终是1,所以FF。~FF?输入端J、K的状态由Do~D?的状态决定。例如，若
6.3 若干常用的时序逻辑电路 283
D?=1,则Jo=1、K。=0,CLK上升沿到达后FF。被置1。
当R′=LD'=1而EP=0、ET=1时，由于这时门G?6~G??的输出均为0,亦即
FF。~FF?均处在J=K=0的状态，所以CLK 信号到达时它们保持原来的状态不
变。同时C的状态也得到保持。如果ET=0,则EP无论为何状态，计数器的状
态也将保持不变，但这时进位输出C等于0。
当Rp=LD'=EP=ET=1时，电路工作在计数状态，与图6.3.10所示电路
的工作状态相同。从电路的0000状态开始连续输入16个计数脉冲时，电路将
从1111状态返回0000状态，C端从高电平跳变至低电平。可以利用C端输出
的高电平或下降沿作为进位输出信号。
74LS161在内部电路结构形式上与74161有些区别，但外部引线的配置、引
脚排列以及功能表都和74161相同。
此外，有些同步计数器(例如74LS162、74LS163)是采用同步置零方式的，应
注意与74161这种异步置零方式的区别。在同步置零的计数器电路中，R'出现
低电平后要等下一个CLK 信号到达时才能将触发器置零。而在异步置零的计
数器电路中，只要Rp出现低电平，触发器立即被置零，不受CLK的控制。
图6.3.14给出了采用控制时钟信号方式构成的4位同步二进制计数器。
由于每个触发的T输入端恒为1,所以只要在每个触发器的时钟输入端加一个
FF?
1- 1T 2。 CLK C1
FF?
1- 1T Q?
clk? >C1
G?
FF?
1- 1T Q?
G? clk? C1
FF?
1- 1T Q?
G? clk? >C1
C
G?
图6.3.14 4位同步二进制计数器的另一种结构形式
284 第六章 时序逻辑电路
时钟脉冲clk;,这个触发器就要翻转一次。由图可见，对于除FF。以外的每个触
发器，只有在低位触发器全部为1时，计数脉冲CLK才能通过与门 G?~G?送到
这些触发器的输入端而使之翻转。每个触发器的时钟信号可表示为
clk,=cLke (i=1,2,…,n-1) (6.3.5)
式中的clk;只表示一个完整的时钟脉冲，既不表示高电平也不表示低电平，CLK
即输入的计数脉冲。
根据二进制减法计数规则，在n位二进制减法计数器中，只有当第i位以下
各位触发器同时为0时，再减1才能使第i位触发器翻转。因此，采用控制T端
方式组成同步二进制减法计数器时，第i位触发器输入端T;的逻辑式应为
T;=Q'-1·Qi-2·…·Q'·Q%
-e (i=1,2,…,n-1) (6.3.6)
同理，采用控制时钟方式组成同步二进制减法计数器时，各触发器的时钟信
号可写成
ck,=cLke (i=1,2,…,n-1)
(6.3.7)
图6.3.15所示电路是根据式(6.3.6)
接成的同步二进制减法计数器电路，其中的
T触发器是将JK触发器的J和K接在一起
作为T输入端而得到的。
在有些应用场合要求计数器既能进行
递增计数又能进行递减计数，这就需要做成
加/减计数器(或称之为可逆计数器)。
将图6.3.10所示加法计数器和图
6.3.15所示减法计数器的控制电路合并，再
通过一根加/减控制线选择加法计数还是减
法计数，就构成了加/减计数器。图6.3.16
给出的4位同步二进制加/减计数器就是基
于这种原理设计成的。由图可知，当电路处
在计数状态时(这时应使 S'=0、LD'=1),
各个触发器输入端的逻辑式为
计数脉冲 FF?
CLK- 1J Q。
T?=1 C1
1K
T
FF?
1J Q?
>C1
1K
FF?
T? 1J 2?
>C1
G? 1K
T?
FF?
1J Q?
C1
G? 1K
-B
G?
图6.3.15 用T触发器接成的同
步二进制减法计数器
CLK?
U/D
D?
S
D?
D?
D?
LD'-
6.3 若干常用的时序逻辑电路 285
CLK。
C/B
T?
FF?
1J
S
C1
2。
1K
R
d
FF?
T?
1J
S
C1
2?
1K
R
FF?
T?
1J
S
C1
Q?
1K
R
FF?
S
T?
1J
C1
Q?
1K
R
图6.3.16 单时钟同步十六进制加/减计数器74LS191的逻辑图
(6.3.8)
286 第六章 时序逻辑电路
或写成 rrfie-uoie (i =1,2,…,n-1)
(6.3.9)
不难看出，当U'/D=0时上式与式(6.3.1)相同，计数器做加法计数；当
U'/D=1时上式与式(6.3.6)相同，计数器做减法计数。
除了能做加/减计数外，74LS191还有一些附加功能。图中的LD'为预置数
控制端。当LD'=0时电路处于预置数状态，D。~D?的数据立刻被置入FF。~
FF?中，而不受时钟输入信号CLK,的控制。因此，它的预置数是异步式的，与
74161的同步式预置数不同。
S'是使能控制端，当S'=1时T。~T?全部为0,故FF。~FF,保持不变。C/B
是进位/借位信号输出端(也称最大/最小输出端)。当计数器做加法计数(U'/D
=0)且Q?Q?Q.Qo=1111时，C/B=1,有进位输出；当计数器做减法计数(U'/D
=1)且Q?Q?Q?Qo=0000时，C/B=1,有借位输出。CLK。是串行时钟输出端。
当C/B=1的情况下，在下一个CLK?上升沿到达前CLK。端有一个负脉冲输出。
74LS191(74HC191)的功能表如表6.3.5所示。图6.3.17是它的时序图。
由时序图可以比较清楚地看到CLK。和CLK,的时间关系。
表6.3.5 同步十六进制加/减计数器74LS191的功能表
CLK, S' LD' U'/D
1
x
0
0
1
0
1
1
×
×
0
1
工作状态
× 保持
× 预置数
加法计数
减法计数
由于图6.3.16所示电路只有一个时钟信号(也就是计数输入脉冲)输人
端，电路的加、减由U'/D的电平决定，所以称这种电路结构为单时钟结构。
倘若加法计数脉冲和减法计数脉冲来自两个不同的脉冲源，则需要使用双
时钟结构的加/减计数器计数。图6.3.18是双时钟加/减计数器74LS193的电
路结构图。这个电路采用的是控制时钟信号的结构形式。
图6.3.18中的4个触发器FF。~FF?均工作在T=1状态，只要有时钟信号
加到触发器上，它就翻转。当CLKu端有计数脉冲输入时，计数器做加法计数；
当CLK,端有计数脉冲输入时，计数器做减法计数。加到CLK,和CLKp上的计
数脉冲在时间上应该错开。
74LS193也具有异步置零和异步预置数功能。当Rp=1时，将使所有触发
6.3 若干常用的时序逻辑电路 287
LD'
D? (0或1)
D?
D?
D?
CLK?
U/D
S'
2o
Q,
Q?.
Q?
C/B
CLKo
13!14|15!0!1!i2!2 2110 15|14!13!
聂 加法计数→ 保持 —减法计数-
图6.3.17 同步十六进制加/减计数器74LS191的时序图
器置成Q=0的状态，而不受计数脉冲控制。当LD'=0(同时令Rp=0)时，将立
即把D。~D?的状态置入 FF。~FF?中，与时钟脉冲无关。
2.同步十进制计数器
图6.3.19所示电路是用T触发器组成的同步十进制加法计数器电路，它是
在图6.3.10同步二进制加法计数器电路的基础上略加修改而成的。
由图6.3.19可知，如果从0000开始计数，则直到输入第九个计数脉冲为
止，它的工作过程与图6.3.10的二进制计数器相同。计入第九个计数脉冲后电
路进入1001状态，这时Q3的低电平使门 G?的输出为0,而Q。和Q?的高电平
使门 G?的输出为1,所以4个触发器的输入控制端分别为T。=1、T?=0、T?=0、
T?=1。因此，当第十个计数脉冲输入后，FF?和FF?维持0状态不变，FF。和FF?
——
288 第六章 时序逻辑电路
D?
减计数脉冲
CLKp 1-
FF。 1TS 2。 C1
CLKu— R
加计数脉冲
D? FF
1 1TS
Q?
C1
R
D? D FF?
1· 1TS
2?
C1
R
D?
Rp
1·
FF?
1TS 2?
C1
R
LD'
图6.3.18 双时钟同步十六进制加/减计数器74LS193的逻辑图
从1翻转为0,故电路返回0000 状态。
从逻辑图上可写出电路的驱动方程为
——B'借位
——C'进位
6.3 若干常用的时序逻辑电路 289
计数脉冲
CLK- FF?
1J Q。
T?=1 >C1
1K
FF?
T, 1J Q
>C1
G? 1K
FF?
T? 1J Q? >C1
G? 1K
T? FF?
1J Q? C1
1K
G?
C
G?
图6.3.19 同步十进制加法计数器电路
(6.3.10)
将上式代入T触发器的特性方程即得到电路的状态方程
(6.3.11)
根据式(6.3.11)还可以进一步列出表6.3.6所示的电路状态转换表，并画
出如图6.3.20所示的电路状态转换图。由状态转换图上可见，这个电路是能够
自启动的。
290 第六章 时序逻辑电路
表6.3.6 图6.3.19电路的状态转换表
计 数 电 路状 态 等 效 十
进 制 数 Q? Q? Q? Q?
0 0 0 0
0 0 0 1
0 0 1 0
0 0 1 1
0 1 0 0
0 1 0 1
0 1 1 0
0 1 1 1
1 0 0 0
1 0 0 1
………………… ……………………………………… ………………………………
0 0 0 0-
…………………………………… 0
1
2
3
4
5
6
7
8
9
0
0 0 1 1
1 0 1 1
0 1 1 0
10
11
6
0 0 1 1
1 1 0 1
0 1 0 0…
12
13
4
1 1 1 0
1 1 1 1
0 0 1 0
14
15
2
顺 序
0
1
2
3
4
5
6
7
8
9
10
0
1
2
0
1
2
0
1
2
1110 10 1111
/1 Q?Q?2?2?)/C
0000 /0 0001 /0 0010) /0 0011)
/1 /0
1001 0100 /1 1101 10 1100)
/0| /0
1000 /0 0111 /0 0110 /0 0101)
/1
1010 /0 1011)
图6.3.20 图6.3.19电路的状态转换图
输 出
C
0
0
0
0
0
0
0
0
0
1
0
0
1
0
0
1
0
0
1
0
6.3 若干常用的时序逻辑电路 291
图6.3.21是中规模集成的同步十进制加法计数器74160的逻辑图。它在
图6.3.19所示电路的基础上又增加了同步预置数、异步置零和保持的功能。图
中LD'、R′p、D。~D?、EP和 ET等各输入端的功能和用法与图6.3.13电路中对应
的输入端相同，不再赘述。74160的功能表也与74161 的功能表(表6.3.4)相
同。所不同的仅在于74160是十进制而74161是十六进制。
LD' 1J 2。
C1
D? 1KR
1J 2?
>C1
D? 1KR
CLK-
1J Q?
C1
D? 1KR
1J Q?
C1
D?- 1KR
Ró
EP
ET C
图6.3.21 同步十进制加法计数器74160的逻辑图
图6.3.22是同步十进制减法计数器的逻辑图。它也是从同步二进制减法
计数器电路的基础上演变而来的。为了实现从 Q?Q?Q?Q。=0000状态减1后跳
变成1001状态，在电路处于全0状态时用与非门 G?输出的低电平将与门G?和
G?封锁，使T?=T?=0。于是当计数脉冲到达后FF。和FF?翻成1,而FF,和
FF?维持0不变。以后继续输入减法计数脉冲时，电路的工作情况就与
图6.3.15所示的同步二进制减法计数器一样了。
292 第六章 时序逻辑电路
由图6.3.22可直接写出电路的驱动方程
(6.3.12)
将上式代入T触发器的特性方程得
到电路的状态方程为
计数脉冲
CLK· FF。
1J 2。 T?=1 C1
1K
FF?
G? T?
1J Q
C1
G?
1K
3=Yo{i2Q3+(o{1Q2厂Q3
经化简后得到
FF?
T?
1J Q?
C1
G? 1K
FF?
T?
1J Q?
C1
G? 1K
(6.3.13) -B
根据式(6.3.13)即可列出表6.3.7所
示的状态转换表，并可画出图6.3.23所示的
状态转换图。
G?
将图6.3.19所示同步十进制加法计数
图6.3.22 同步十进制
减法计数器电路
器的控制电路和图6.3.22所示同步十进制减法计数器的控制电路合并，并由一
个加/减控制信号进行控制，就得到了图6.3.24所示的单时钟同步十进制加/减
计数器电路74LS190。
由图可知，当加/减控制信号U'/D=0时做加法计数；当U'/D=1时做减法
计数。其他各输入端、输出端的功能及用法与同步十六进制加/减计数器
74LS191完全类同。74LS190的功能表也与74LS191的功能表(见表6.3.5)
相同。
同步十进制加/减计数器也有单时钟和双时钟两种结构形式，并各有定型的
集成电路产品出售。属于单时钟类型的除74LS190 以外还有74LS168、CC4510
等，属于双时钟类型的有74LS192、CC40192等。
计 数
顺 序
0
1
2
3
4
5
6
7
8
9
10
0
1
2
3
4
5
6
6.3 若干常用的时序逻辑电路 293
表6.3.7 图6.3.22电路的状态转换表
状 态 电
等效十进制数 路
Q? Q? Q? Q。
0 0 0 0
1 0 0 1
1 0 0 0
0 1 1 1
0 1 1 0
0 1 0 1
0 1 0 0
0 0 1 1
0 0 1 0
0 0 0 1
0 0 0 0
0
9
8
7
6
5
4
3
2
1
0
1 1 1 1
1 1 1 0
1 1 0 1
1 1 0 0
1 0 1 1
1 0 1 0
1 0 0 1
15
14
13
12
11
10
9
借 位
B
1
0
0
0
0
0
0
0
0
0
1
0
0
0
0
0
0
0
1010 /0 1011 /0 1100 /0 1101 /0 1110 /0 1111
/0,
1001 /0 1000 /0 0111 /0 0110
/1' /0
0000 0101 Q?Q?Q?2。)/B
/01 /0
0001 10 0010 10 0011 /0 0100
图6.3.23 图6.3.22电路的状态转换图
294 第六章 时序逻辑电路
CLK?
U/D CLK。
C/B
D?
S'·
1jS
C1
IKR
2。
D?
1jS
PC1
IKR
2?
D?-
1JS
C1
IKR
2?
D?
1JS
C1
2?
1K
LD'-
图6.3.24 单时钟同步十进制加/减计数器74LS190
二、异步计数器
1.异步二进制计数器
异步计数器在做“加1”计数时是采取从低位到高位逐位进位的方式工作
的。因此，其中的各个触发器不是同步翻转的。
首先讨论二进制加法计数器的构成方法。按照二进制加法计数规则，每一
位如果已经是1,则再记入1时应变为0,同时向高位发出进位信号，使高位翻
转。若使用下降沿动作的T触发器组成计数器并令T=1,则只要将低位触发器
的Q端接至高位触发器的时钟输入端就行了。当低位由1变为0时，Q端的下降
6.3 若干常用的时序逻辑电路 295
沿正好可以作为高位的时钟信号。
图6.3.25是用下降沿触发的T触发器组成的3位二进制加法计数器，T触
发器是令JK触发器的J=K=1而得到的。因为所有的触发器都是在时钟信号
下降沿动作，所以进位信号应从低位的Q端引出。最低位触发器的时钟信号
CLK。也就是要记录的计数输入脉冲。
2。 Q? Q?
1-
1J 1J 1J
CLK? >C1
1K CLK? >C1
1K CLK? 1K
C1
FF? FF? FF?
图6.3.25 下降沿动作的异步二进制加法计数器
根据T触发器的翻转规律即可画出在一系列CLK。脉冲信号作用下Qo、Q?、
Q?的电压波形，如图6.3.26 所示。由图可见，触发器输出端新状态的建立要比
CLK下降沿滞后一个触发器的传输延迟时间tpd。
CLK。
0
Qo
(CLK?)
-tpd
tpd
t
0
2?
(CLK?)|
t
ol
2?
t
ol -tpd t
图6.3.26 图6.3.25电路的时序图
从时序图出发还可以列出电路的状态转换表，画出状态转换图。这些都和
同步二进制计数器相同，不再重复。
用上升沿触发的T触发器同样可以组成异步二进制加法计数器，但每一级
触发器的进位脉冲应改由Q'端输出。
如果将T触发器之间按二进制减法计数规则连接，就得到二进制减法计数
器。按照二进制减法计数规则，若低位触发器已经为0,则再输入一个减法计数
296 第六章 时序逻辑电路
脉冲后应翻成1,同时向高位发出借位信号，使高位翻转。图6.3.27就是按上述
规则接成的3位二进制减法计数器。图中仍采用下降沿动作的JK触发器接成
T触发器使用，并令T=1。它的时序图如图6.3.28所示。
2? Q? 2?
1-
1J 1J 1J
CLK?- C1 C1 >C1
1K CLK? 1K CLK? 1K
图6.3.27 下降沿动作的异步二进制减法计数器
CLK。
ol
2o
t
tpd
o
21
tpd
t
o
2?
t
0
-tpd
t
图6.3.28 图6.3.27电路的时序图
将异步二进制减法计数器和异步二进制加法计数器做个比较即可发现，它
们都是将低位触发器的一个输出端接到高位触发器的时钟输入端而组成的。在
采用下降沿动作的T触发器时，加法计数器以Q端为输出端，减法计数器以Q'
端为输出端。而在采用上升沿动作的T触发器时，情况正好相反，加法计数器
以Q'端为输出端，减法计数器以Q端为输出端。
目前常见的异步二进制加法计数器产品有4位的(如74LS293、74LS393、
74HC393等)、7位的(如CC4024等)、12位的(如74HC4040等)和14位的(如
74HC4020等)几种类型。
2.异步十进制计数器
异步十进制加法计数器是在4位异步二进制加法计数器的基础上加以修改
而得到的。修改时要解决的问题是如何使4位二进制计数器在计数过程中跳过
6.3 若干常用的时序逻辑电路 297
从1010到1111这6个状态。
图6.3.29所示电路是异步十进制加法计数器的典型电路。假定所用的触
发器为TTL电路，J、K端悬空时相当于接逻辑1电平。
Q。 Q Q? Q?
FF。 FF? FF? FF?
1J 1J 1J 1J
CLK?-
计数脉冲
C1 >C1 C1 >C1
1K 1K 1K 1K
图6.3.29 异步十进制加法计数器的典型电路
如果计数器从Q?Q?QiQ。=0000开始计数，由图可知在输入第八个计数脉
冲以前FF。、FF,和FF?的J和K始终为1,即工作在T触发器的T=1状态，因
而工作过程和异步二进制加法计数器相同。在此期间虽然Q。输出的脉冲也送
给了FF?,但由于每次Q。的下降沿到达时J?=Q?Q?=0,所以FF?一直保持0状
态不变。
当第八个计数脉冲输入时，由于J?=K?=1,所以Q。的下降沿到达以后FF?
由0变为1。同时，J?也随Q3变为0状态。第九个计数脉冲输入以后，电路状
态变成Q?Q?Q?Qo=1001。第十个计数脉冲输入后，FF。翻成0,同时Q。的下降
沿使FF?置0,于是电路从1001返回到0000,跳过了1010~1111这6个状态，成
为十进制计数器。 CLK。 将上述过程用电压波形表示，即
得图6.3.30所示的时序图。根据时
序图又可列出电路的状态转换表，画
出电路的状态转换图。
通过这个例子可以看到，在分析
一些比较简单的异步时序电路时，可
以采取从物理概念出发直接画波形
图的方法分析它的功能，而不一定要
按前面介绍的异步时序电路的分析
方法去写方程式。
在讨论异步时序电路的分析方
法时曾以图6.2.10所示电路作为例
子(见例6.2.4),它与图6.3.29所示
0
2o
0
Q1
o
Q?
0
Q?
0
t
t
t
t
t
图6.3.30 图6.3.29电路的时序图
298 第六章 时序逻辑电路
电路的差别仅在于多一个进位输出端C。因此，图6.2.10所示电路的状态转换
表和状态转换图就是异步十进制加法计数器的状态转换表和状态转换图。
74LS290就是按照图6.3.29所示电路的原理制成的异步十进制加法计数
器，它的逻辑图示于图6.3.31中。为了增加使用的灵活性，FF?和FF?的CLK
端没有与Q。端连在一起，而从CLK,端单独引出。若以CLK。为计数输入端、Qo
为输出端，即得到二进制计数器(或二分频器);若以CLK,为输入端、Q?为输出
端，则得到五进制计数器(或五分频器);若将CLK,与Q。相连，同时以CLK。为
输入端、Q?为输出端，则得到十进制计数器(或十分频器)。因此，又将这个电路
称为二-五-十进制异步计数器。
2。 2? Q? Q?
S FF? FF FF? FF?
1JS 1J 1J 1JS
CLK?- PC1 >C1 >C1 IKR 1KR 1KR
>C1
1KR
CLK?-
R
图6.3.31 二-五-十进制异步计数器74LS290
此外，在图6.3.31电路中还设置了两个置0输人端R?、Ro?和两个置9输
入端S91、S92,以便于工作时根据需要将计数器预先置成0000或1001状态。
和同步计数器相比，异步计数器具有结构简单的优点。在用T触发器构成
二进制计数器时，可以不附加任何其他电路。但异步计数器也存在两个明显的
缺点。第一个缺点是工作频率比较低。因为异步计数器的各级触发器是以串行
进位方式连接的，所以在最不利的情况下要经过所有各级触发器传输延迟时间
之和以后，新状态才能稳定建立起来。第二个缺点是在电路状态译码时存在竞
争-冒险现象。这两个缺点使异步计数器的应用受到了很大的限制。
三、任意进制计数器的构成方法
从降低成本的角度考虑，集成电路的定型产品必须有足够大的批量。因此，
目前常见的计数器芯片在计数进制上只做成应用较广的几种类型，如十进制、十
六进制、7位二进制、12位二进制、14位二进制等。在需要其他任意一种进制的
计数器时，只能用已有的计数器产品经过外电路的不同连接方式得到。
假定已有的是N进制计数器，而需要得到的是M进制计数器。这时有M<
6.3 若干常用的时序逻辑电路 299
N和M>N两种可能的情况。下面分别讨论两种情况下构成任意一种进制计数
器的方法。
1.M<N的情况
在N进制计数器的顺序计数过程中，若设法使之跳越N-M个状态，就可
以得到M进制计数器了。
实现跳跃的方法有置零法(或称复位法)和置数法(或称置位法)两种。
置零法适用于有置零输入端的计数器。对于有异步置零输入端的计数器，
它的工作原理是这样的：设原有的计数器为N进制，当它从全0状态S。开始计
数并接收了M个计数脉冲以后，电路进入SM状态。如果将SM状态译码产生一
个置零信号加到计数器的异步置零输入端，则计数器将立刻返回S。状态，这样
就可以跳过N-M个状态而得到M进制计数器(或称为分频器)。图6.3.32
(a)为置零法原理示意图。
S? S? S? S? S? S; S+1
Sn-1) Sn-1) S+2
N-M个
状态
Sx-2 SM-2 Sx-2
SN-3 SM SM-1) SN-3 s, S-1
(a) (b)
图6.3.32 获得任意进制计数器的两种方法
(a)置零法(b)置数法
由于电路一进入SM状态后立即又被置成S。状态，所以SM状态仅在极短的
瞬时出现，在稳定的状态循环中不包括S状态。
而对于有同步置零输入端的计数器，由于置零输入端变为有效电平后计数
器并不会立刻被置零，必须等下一个时钟信号到达后，才能将计数器置零，因而
应由SM-1状态译出同步置零信号。而且，SM-1状态包含在稳定状态的循环当
中。例如同步十进制计数器74162、同步十六进制计数器74163就都是采用同
步置零方式。
置位法与置零法不同，它是通过给计数器重复置入某个数值的方法跳越
N-M个状态，从而获得M进制计数器的，如图6.3.32(b)所示。置数操作可以
在电路的任何一个状态下进行。这种方法适用于有预置数功能的计数器电路。
300 第六章 时序逻辑电路
对于同步式预置数的计数器(如74160、74161),LD'=0的信号应从S;状态
译出，待下一个CLK 信号到来时，才将要置入的数据置入计数器中。稳定的状
态循环中包含有S,状态。而对于异步式预置数的计数器(如74LS190、
74LS191),只要LD'=0信号一出现，立即会将数据置入计数器中，而不受CLK
信号的控制，因此LD'=0信号应从Si+1状态译出。S:+1状态只在极短的瞬间出
现，稳态的状态循环中不包含这个状态，如图6.3.32(b)中虚线所示。
【例6.3.2】试利用同步十进制计数器74160接成同步六进制计数器。
74160的逻辑图见图6.3.21,它的功能表与74161的功能表(见表6.3.4)相同。
解：因为74160兼有异步置零和同步预置数功能，所以置零法和置数法均
可采用。
图6.3.33所示电路是采用异步置零法接成的六进制计数器。当计数器计
成Q?Q?Q?Qo=0110(即SM)状态时，担任译码器的门 G输出低电平信号给RD
端，将计数器置零，回到0000状态。电路的状态转换图如图6.3.34所示。
DoD?D? D?
1 EP C
ET 74160 LD
CLK-
计数输入
CLK
Q。Q1Q?Q? Rp
b
Ró1
G
进位输出
图6.3.33 用置零法将74160接成六进制计数器
1010 1001 1000 0111
1011 0000 0001 0010 1111
0110)
0101 0100 0011 1110
Q?Q?Q?2。
1100 1101
图6.3.34 图6.3.33电路的状态转换图
由于置零信号随着计数器被置零而立即消失，所以置零信号持续时间极短，
6.3 若干常用的时序逻辑电路 301
如果触发器的复位速度有快有慢，则可能动作慢的触发器还未来得及复位，置零
信号已经消失，导致电路误动作。因此，这种接法的电路可靠性不高。
为了克服这个缺点，时常采用图6.3.35所示的改进电路。图中的与非门
G,起译码器的作用，当电路进入0110状态时，它输出低电平信号。与非门 G?
和G?组成了SR锁存器，以它Q'端输出的低电平作为计数器的置零信号。
1· EP D,D?D?D? C
CLKL ET 74160 LD -1
计数输入
CLKQ?Q,Q?Q? RpD-Rb
G? Q L 进位输出
G?
T
G? Q'
图6.3.35 图6.3.33电路的改进
若计数器从0000状态开始计数，则第六个计数输入脉冲上升沿到达时计数
器进入0110状态，G,输出低电平，将SR锁存器置1,Q'端的低电平立刻将计数
器置零。这时虽然G?输出的低电平信号随之消失了，但SR锁存器的状态仍保
持不变，因而计数器的置零信号得以维持。直到计数脉冲回到低电平以后，SR
锁存器被置零，Q'端的低电平信号才消失。可见，加到计数器R'p端的置零信号
宽度与输人计数脉冲高电平持续时间相等。
同时，进位输出脉冲也可以从 SR锁存器的Q端引出。这个脉冲的宽度与
计数脉冲高电平宽度相等。
在有的计数器产品中，将G?、G?、G?组成的附加电路直接制作在计数器芯
片上，这样在使用时就不用外接附加电路了。
采用置数法时可以从计数循环中的任何一个状态置入适当的数值而跳越
N-M个状态，得到M进制计数器。图6.3.36中给出了两个不同的方案，其中
图(a)的接法是用Q?Q?Q?Qo=0101 状态译码产生LD'=0信号，下一个CLK信
号到达时置入0000状态，从而跳过0110~1001这4个状态，得到六进制计数器，
如图6.3.37中的实线所表示的那样。
从图6.3.37所示的状态转换图中可以发现，图6.3.36(a)电路所取的6个
循环状态中没有1001这个状态。因为进位输出信号C是由1001状态译码产生
的，所以计数过程中C端始终没有输出信号。图6.3.33电路也存在同样的问
题。这时的进位输出信号只能从Q?端引出。
302 第六章 时序逻辑电路
1
1 EP D?D?D?D? C 1· EP D,D?D?D? C 进位
ET 74160 LD LD' ET 74160 LD
LD'输出
CLK CLK
计数
输入
Q,Q?Q?Rp -1 CLK
计数
输入
CLKQ,Q,Q?Q?
Rp
进位
输出
(a) (b)
图6.3.36 用置数法将74160接成六进制计数器
(a)置入0000(b)置入1001
若采用图6.3.36(b)所示电路的方案，则可以从C端得到进位输出信号。
在这种接法下，是用0100 状态译码
产生LD'=0信号，下一个CLK 信号
到来时置入1001(如图6.3.37中的
虚线所示),因而循环状态中包含了
1001这个状态，每个计数循环都会在
C端给出一个进位脉冲。
1110 1111
Q?Q?Q?20)
0000 0001 0010 0011)
1001 0100 1101
由于74160的预置数是同步式
的，即LD'=0以后，还要等下一个
CLK信号到来时才置入数据，而这时
LD'=0的信号已稳定地建立了，所以
不存在异步置零法中因置零信号持
续时间过短而可靠性不高的问题。
1000 0111 0110 0101 1100
1010 1011
图6.3.37 图6.3.36电路的状态转换图
2.M>N的情况
这时必须用多片N进制计数器组合起来，才能构成M进制计数器。各片之
间(或称为各级之间)的连接方式可分为串行进位方式、并行进位方式、整体置
零方式和整体置数方式几种。下面仅以两级之间的连接为例说明这四种连接方
式的原理。
若M可以分解为两个小于N的因数相乘，即M=N?×N?,则可采用串行进
位方式或并行进位方式将一个N?进制计数器和一个N?进制计数器连接起来，
构成M进制计数器。
在串行进位方式中，以低位片的进位输出信号作为高位片的时钟输入信号。
在并行进位方式中，以低位片的进位输出信号作为高位片的工作状态控制信号
6.3 若干常用的时序逻辑电路 303
(计数的使能信号),两片的CLK输入端同时接计数输入信号。
【例6.3.3】试用两片同步十进制计数器接成百进制计数器。
解：本例中M=100,N?=N?=10,将两片74160直接按并行进位方式或串
行进位方式连接即得百进制计数器。
图6.3.38所示电路是并行进位方式的接法。以第(1)片的进位输出C作
为第(2)片的EP和ET输入，每当第(1)片计成9(1001)时C变为1,下个CLK
信号到达时第(2)片为计数工作状态，计入1,而第(1)片计成0(0000),它的C
端回到低电平。第(1)片的EP和ET恒为1,始终处于计数工作状态。
1 EP D,D?D?D? C
ET 74160 LD
>CLK Q,Q? Rp (1)
Q0 Q?
EP DoD?D?D? C
ET 74160 LD
CLK Q? Q?
Rp
(2)
进位输出
CLK-
计数输入
1
图6.3.38 例6.3.3电路的并行进位方式
图6.3.39所示电路是串行进位方式的连接方法。两片74160的EP和ET
恒为1,都工作在计数状态。第(1)片每计到9(1001)时C端输出变为高电平，
经反相器后使第(2)片的CLK端为低电平。下一个计数输入脉冲到达后，第(1)片
计成0(0000)状态，C端跳回低电平，经反相后使第(2)片的输入端产生一个正跳
变，于是第(2)片计入1。可见，在这种接法下两片74160不是同步工作的。
1 EP D?D?D?D? C
ET 74160 LD
CLK Q,Q?Q? Rp (1)
Qo
1 EP D?D?D?D?
C
ET 74160 LD
CLK Q,Q?Q?
Rp (2)
进位输出
CLK-
计数输入
1
图6.3.39 例6.3.3电路的串行进位方式
在N?、N?不等于N时，可以先将两个N进制计数器分别接成N?进制计数
器和N?进制计数器，然后再以并行进位方式或串行进位方式将它们连接起来。
当M为大于N的素数时，不能分解成N,和N?,上面讲的并行进位方式和
串行进位方式就行不通了。这时必须采取整体置零方式或整体置数方式构成M
进制计数器。
304 第六章 时序逻辑电路
所谓整体置零方式，是首先将两片N进制计数器按最简单的方式接成一个
大于M进制的计数器(例如N·N进制),然后在计数器计为M状态时译出异步
置零信号R′p=0,将两片N进制计数器同时置零。这种方式的基本原理和M<
N时的置零法是一样的。
而整体置数方式的原理与M<N时的置数法类似。首先需将两片N进制
计数器用最简单的连接方式接成一个大于M进制的计数器(例如N·N进制),
然后在选定的某一状态下译出LD'=0信号，将两个N进制计数器同时置入适当
的数据，跳过多余的状态，获得M进制计数器。采用这种接法要求已有的N进
制计数器本身必须具有预置数功能。
当然，当M不是素数时整体置零法和整体置数法也可以使用。
【例6.3.4】试用两片同步十进制计数器74160接成二十九进制计数器。
解：因为M=29是一个素数，所以必须用整体置零法或整体置数法构成
二十九进制计数器。
图6.3.40是整体置零方式的接法。首先将两片74160 以并行进位方式连
成一个百进制计数器。当计数器从全0状态开始计数，计入29个脉冲时，经门
G,译码产生低电平信号立刻将两片74160同时置零，于是便得到了二十九进制
计数器。需要注意的是，计数过程中第(2)片74160不出现1001状态，因而它的
C端不能给出进位信号。而且，门G?输出的脉冲持续时间极短，也不宜作进位
输出信号。如果要求输出进位信号持续时间为一个时钟信号周期，则应从电路
的28状态译出。当电路计入28个脉冲后门G?输出变为低电平，第29个计数
脉冲到达后门 G?的输出跳变为高电平。
CLK-
计数输入
D, D, D?D? CLK Rp Rb D。D?D?D?
CLK Rp Rb
EP 74160
(1) LD -1 EP 74160
(2)
LD 1
1· ET Q?Q1Q?Q? C ET Q?Q?Q?Q?
C
G?
G?
T
进位输出
图6.3.40 例6.3.4电路的整体置零方式
通过这个例子可以看到，整体置零法不仅可靠性较差，而且往往还要另加译
码电路才能得到需要的进位输出信号。
6.3 若干常用的时序逻辑电路 305
采用整体置数方式可以避免置零法的缺点。图6.3.41所示电路是采用整
体置数法接成的二十九进制计数器。首先仍需将两片74160接成百进制计数
器。然后将电路的28状态译码产生LD'=0信号，同时加到两片74160上，在下
一个计数脉冲(第29个输人脉冲)到达时，将0000同时置入两片74160中，从而
得到二十九进制计数器。进位信号可以直接由门 G的输出端引出。
CLK-
计数输入
D?D?D?D? Rp
EP 74160 LD
ET Q? C
CLK
(1)
Q? Q?Q?
0-1 Do D?D?D?
CLK
LD' EP 74160
(2) ET Q。Q?Q?Q?
Rp -1
LD LD'
1· C
G
T 进位输出
图6.3.41 例6.3.4电路的整体置数方式
四、移位寄存器型计数器
1.环形计数器
如果按图6.3.42所示的那样将移位寄存器首尾相接，即D?=Q?,那么在连
续不断地输入时钟信号时寄存器里的数据将循环右移。
DoL 1D D? 1D D?1D D? 1D
C1 2, C1 2? C1 2? C1
2?
FF? FF? FF? FF?
CLK-
图6.3.42 环形计数器电路
例如，电路的初始状态为Q?Q?Q?Q?=1000,则不断输入时钟信号时电路的
状态将按1000→0100→0010→0001→1000的次序循环变化。因此，用电路的不
同状态能够表示输入时钟信号的数目，也就是说，可以把这个电路作为时钟脉冲
的计数器。
根据移位寄存器的工作特点，不必列出环形计数器的状态方程即可直接画
出图6.3.43所示的状态转换图。如果取由1000、0100、0010和0001所组成的
状态循环为所需要的有效循环，那么同时还存在着其他几种无效循环。而且，一
旦脱离有效循环之后，电路将不会自动返回有效循环中去，所以图6.3.42所示
的环形计数器是不能自启动的。为确保它能正常工作，必须首先通过串行输入
端或并行输入端将电路置成有效循环中的某个状态，然后再开始计数。
306 第六章 时序逻辑电路
1000 0100 0000 1010) 1100 0110 1110 0111
0001 0010 1111 0101 1001 0011 1101 1011
有效循环 无 效 循 环
(Q?2?2?Q?)
图6.3.43 图6.3.42电路的状态转换图
考虑到使用的方便，在许多场合下需要计数器能自启动，亦即当电路进入任
何无效状态后，都能在时钟信号作用下自动返回有效循环中去。通过在输出与
输入之间接入适当的反馈逻辑电路，可以将不能自启动的电路修改为能够自启
动的电路。图6.3.44所示电路是能自启动的4位环形计数器电路。
反馈逻辑电路
D? 1D
C1 20 1D
C1 2
1D
>C1 Q? 1D
>C1
2?
FF? FF? FF? CLK FF?
图6.3.44 能自启动的环形计数器电路
根据图6.3.44 所示的逻辑图得到它的状态方程为
(6.3.14)
并可画出电路的状态转换图，如图6.3.45所示。
环形计数器的突出优点是电路结构极其简单。而且，在有效循环的每个状
态只包含一个1(或0)时，可以直接以各个触发器输出端的1状态表示电路的一
个状态，不需要另外加译码电路。
它的主要缺点是没有充分利用电路的状态。用n位移位寄存器组成的环形
计数器只用了n个状态，而电路总共有2”个状态，这显然是一种浪费。
2.扭环形计数器
为了在不改变移位寄存器内部结构的条件下提高环形计数器的电路状态利
6.3 若干常用的时序逻辑电路 307
1111 0000 (QQ?Q?Q?)
1110 0111 1000
0011 0001) 0100 1001)
1101 0110 0010)
1100 1010 0101 1011
图6.3.45 图6.3.44电路的状态转换图
用率，只能在改变反馈逻辑电路上想办法。
事实上任何一种移位寄存器型计数器的结构均可表示为图6.3.46所示的
一般形式，其中反馈逻辑电路的函数表达式可写成
D?=F(Q?,Q?,…,Qn-1) (6.3.15)
D? 1D
C1 2o
反馈 逻 辑 电 路
1D
C1 2? 1D
C1 2?
1D
C1
Q?
FF。 FF? FF? FF?
CLK·
图6.3.46 移位寄存器型计数器的一般结构形式
环形计数器是反馈逻辑函数中最简单的一种，即D?=Qn-1。若将反馈逻辑
函数取为D?=Qn-1,则得到的电路如图6.3.47所示。这个电路称为扭环形计
数器(也称为约翰逊计数器)。如将它的状态转换图画出，则如图6.3.48所示。
不难看出，它有两个状态循环，若取图中左边的一个为有效循环，则余下的一个
就是无效循环了。显然，这个计数器不能自启动。
D? 1D D?
C1 2o 1D D?
C1 2? 1D D?
C1 Q?
1D
C1
FF。 FF? FF? FF?
图6.3.47 扭环形计数器电路
I
Q3
CLK-
308 第六章 时序逻辑电路
有效循环 无效循环
0000) 1000) 1100) 1010 1101 0110
0001) 1110 0100) 1011
0011 0111 111 1001 0010 0101
(Q?2?Q?Q?)
图6.3.48 图6.3.47电路的状态转换图
为了实现自启动，可将图6.3.47所示电路的反馈逻辑函数稍加修改，令D?=
Q?Q2+Q3,于是就得到了图6.3.49所示的电路和图6.3.50所示的状态转换图。
DoL 1D 1D
C1 2o C1 2? 1D 1D
C1 C1
Q?
FF。 FF, FF? Q? FF?
CLK-
图6.3.49 能自启动的扭环形计数器
不难看出，用n位移位寄存器构成的扭环形计数器可以得到含2n个有效状
态的循环，状态利用率较环形计数器提高了一倍。而且，如采用图6.3.50中的
有效循环，由于电路在每次状态转换时只有一位触发器改变状态，因而在将电路
状态译码时不会产生竞争-冒险现象。
QQ?Q?Q?)
0000) 1000 1100 0100 1001 0010
0001 1110 1101 1010
0011 0111) 1111 0101 1011 0110)
图6.3.50 图6.3.49电路的状态转换图
虽然扭环形计数器的电路状态利用率有所提高，但仍有2"-2n个状态没有
利用。使用最大长度移位寄存器型计数器可以将电路的状态利用率提高到
2”-1,有关内容可参阅本书第三版中的附录5E。
6.3 若干常用的时序逻辑电路 309
复习思考题
R6.3.3 计数器的同步置零方式和异步置零方式有什么不同?同步预置数方式和异步
预置数方式有何不同?
R6.3.4 若将图6.3.33中异步置零方式的十进制计数器改用同步置零方式的十进制计
数器，电路应做何修改?
R6.3.5 在用十六进制计数器74LS161接成小于十六进制的计数器时，什么情况下可
以用74LS161上原有的进位输出端产生进位输出信号，什么情况下则不行?
A
*6.3.3 顺序脉冲发生器
在一些数字系统中，有时需要系统按照事先规定的顺序进行一系列的操作。
这就要求系统的控制部分能给出一组在时间上有一定先后顺序的脉冲信号，再
用这组脉冲形成所需要的各种控制信号。顺序脉冲发生器就是用来产生这样一
组顺序脉冲的电路。
顺序脉冲发生器可以用移位寄存器构成。当环形计数器工作在每个状态中
只有一个1的循环状态时，它就是一个顺序脉冲发生器。由图6.3.51可见，当
CLK端不断输入系列脉冲时，Qo~Q3端将依次输出正脉冲，并不断循环。
这种方案的优点是不必附加译码电路，结构比较简单。缺点是使用的触发
器数目比较多，同时还必须采用能自启动的反馈逻辑电路。
在顺序脉冲数较多时，可以用计数器和译码器组合成顺序脉冲发生器。图
CLK
1D 1D 1D 1D
ol 2o
t
C1 >C1 C1 >C1 1 t
CLK
2。 21 Q? 2? o t
op t
ol
(a)
t
图6.3.51 用环形计数器作顺序脉冲发生器
(a)电路图(b)电压波形图
(b)
310 第六章 时序逻辑电路
6.3.52(a)所示电路是有8个顺序脉冲输出的顺序脉冲发生器的例子。图中的
三个触发器FF,、FF,和FF?组成3位二进制计数器，8个与门组成3线-8线译
码器。只要在计数器的输入端CLK 加入固定频率的脉冲，便可在P。~P,端依
次得到输出脉冲信号，如图6.3.52(b)所示。
由于使用了异步计数器，在电路状态转换时三个触发器在翻转时有先有后，
CLK- FF? FF? FF?
?iD ci1D c1D 计数器
2。 Q, Q?
译码器
P? P P? P? P? Ps P? P7
(a)
CLK 1 2 3 4 5 6 7 8
Po
P?
P?
P?
P?
Ps
P?
P?
(b)
图6.3.52 用计数器和译码器构成的顺序脉冲发生器
(a)电路图(b)电压波形图
6.3 若干常用的时序逻辑电路 311
因此当两个以上触发器同时改变状态时将发生竞争-冒险现象，有可能在译码
器的输出端出现尖峰脉冲，如图6.3.52(b)上所表示的那样。
例如，在计数器的状态Q?Q?Q。由001变为010的过程中，因FF。先翻转为
0而FF?后翻转为1,因此在FF。已经翻转而FF,尚未翻转的瞬间计数器将出现
000状态，使P。端出现尖峰脉冲。其他类似的情况请读者自行分析。
为了消除输出端的尖峰脉冲，可以采用4.4.3节中介绍的几种方法。在使
用中规模集成的译码器时，由于电路上大多数均设有控制输入端，可以作为选通
脉冲的输入端使用，所以采用选通的方法极易实现。图6.3.53(a)所示电路是
1-
CLK EP ET CLK
D?
D?
D? 74LS161 Qo
Q?
Y。
A?
2-n2-w 74LS138 Y?
Y?
A, Y?
Y? Y?
Y6
Y?
PoP
Q?
D? Q? CLK'
RpLD C
P?PP4PS
P6Pi
1-
(a)
CLK 1 2 3 4 5 6 7 8
P6
P{
P2
P3
P4
Ps
P6
P?
(b)
图6.3.53 用中规模集成电路构成的顺序脉冲发生器
(a)电路图(b)电压波形图
312 第六章 时序逻辑电路
用4位同步二进制计数器74LS161和3线-8线译码器74LS138构成的顺序脉
冲发生器电路。图中以74LS161的低3位输出Qo、Q?、Q?作为74LS138的3位
输入信号。
由74LS161的功能表(表6.3.4)可知，为使电路工作在计数状态，R'、LD'、
EP和ET均应接高电平。由于它的低3位触发器是按八进制计数器连接的，所
以在连续输入CLK信号的情况下，Q?Q+Q。的状态将按000一直到111的顺序反
复循环，并在译码器输出端依次输出P?;的顺序脉冲。
虽然74LS161中的触发器是在同一时钟信号操作下工作的，但由于各个触
发器的传输延迟时间不可能完全相同，所以在将计数器的状态译码时仍然存在
竞争-冒险现象。为消除竞争-冒险现象，可以在74LS138的S,端加入选通脉
冲。选通脉冲的有效时间应与触发器的翻转时间错开。例如图中选取CLK'作
为74LS138的选通脉冲，即得到图6.3.53(b)所示的输出电压波形。
如果将图6.3.53(a)电路中的计数器改成4位的扭环形计数器，并取图
6.3.48所示的有效循环，组成如图6.3.54所示的顺序脉冲发生器电路，则可以
从根本上消除竞争-冒险现象。因为扭环形计数器在计数循环过程中任何两个
相邻状态之间仅有一个触发器状态不同，因而在状态转换过程中任何一个译码
器的门电路都不会有两个输入端同时改变状态，亦即不存在竞争现象。
FF? FF FF? FF? CLK·
C11D C11D C11D C1
1D 计数器
2o Q? Q? Q
译码器
Po P? P? P? P? P? P? P?
图6.3.54 用扭环形计数器和译码器构成的顺序脉冲发生器
*6.3.4 序列信号发生器
在数字信号的传输和数字系统的测试中，有时需要用到一组特定的串行数
字信号。通常将这种串行数字信号称为序列信号。产生序列信号的电路称为序
列信号发生器。
序列信号发生器的构成方法有多种。一种比较简单、直观的方法是用计数
6.3 若干常用的时序逻辑电路 313
器和数据选择器组成。例如，需要产生一个8位的序列信号00010111(时间顺
序为自左而右),则可用一个八进制计数器和一个8选1数据选择器组成，如图
6.3.55所示。其中八进制计数器取自74LS161(4位二进制计数器)的低3位。
74LS152是8选1数据选择器。
1-
EP ET CLK CLK A?A?
D? Q0 A?
D?
D?
D? 74LS161 Q?
Q?
D? Q? 1
Rp LD C
DD? D3D DD。
D?
74LS152 Y
Y序列信号
输出
1
图6.3.55 用计数器和数据选择器组成的序列信号发生器
当CLK 信号连续不断地加到计数器上时，Q?Q?Q。的状态(也就是加到
74LS152上的地址输入代码A?A?A?)便按照表6.3.8中所示的顺序不断循环，
D??D的状态就循环不断地依次出现在Y'端。只要令 D?=D?=D?=D?=1、
D?=D?=D?=D,=0,便可在Y'端得到不断循环的序列信号00010111。在需要
修改序列信号时，只要修改加到D。~D,的高、低电平即可实现，而不需对电路
结构做任何更动。因此，使用这种电路既灵活又方便。
表6.3.8 图6.3.55电路的状态转换表
CLK 顺序 Q。 Q Q?
(A? A A?)
Y'
0 0 0 0←
0 0 1
0 1 0
0 1 1
1 0 0
1 0 1
1 1 0
1 1 1
0 0 0--
D?)
1 D'(0)
2 D?(0)
3 D?(1)
4 D4(0)
5 D?(1)
6 D?)
7 D(1)
8 D?)
构成序列信号发生器的另一种常见方法是采用带反馈逻辑电路的移位寄存
器。如果序列信号的位数为m,移位寄存器的位数为n,则应取2"≥m。例如，若
仍然要求产生00010111这样一组8位的序列信号，则可用3位的移位寄存器加
上反馈逻辑电路构成所需的序列信号发生器，如图6.3.56所示。移位寄存器从
I
314 第六章 时序逻辑电路
Q?端输出的串行输出信号就应当是所要求的序列信号。
CLK-
1D 2 ID 2? 1D
C1
Q? 序列信号
输出
C1 26 C1 Qi Q
D?l
反馈逻辑电路
图6.3.56 用移位寄存器构成的序列信号发生器
根据要求产生的序列信号，即可列出移位寄存器应具有的状态转换表，如表
6.3.9所示。再从状态转换的要求出发，得到对移位寄存器输入端D。取值的要
求，如表6.3.9中所示。表中也同时给出了D。与Q?、Q?、Q。之间的函数关系。
利用图6.3.57所示的卡诺图将D。的函数式化简，得到
D?=Q?Q'Qo+Q?Q?+Q?Q% (6.3.16)
图6.3.56中的反馈逻辑电路就是按式(6.3.16)接成的。
表6.3.9 图6.3.56电路的状态转换表
CLK顺序 Q。 Q Q? D。 2?2。
0 0← 0 0
0 0 1
0 1 0
工 0 1
0 1 1
………
1 1 1 ……!
1 1 0
……
1 0 0
0 0 0-
1
Q? 00 01 11 10
1 0
2 1 0
3 1
4
1
1
5 0
6 0
7 0 图6.3.57 图6.3.56中
8 1
1 0 1 1
0 1 0 0
D。的卡诺图
6.4 时序逻辑电路的设计方法
6.4.1 同步时序逻辑电路的设计方法
在设计时序逻辑电路时，要求设计者根据给出的具体逻辑问题，求出实现这
6.4 时序逻辑电路的设计方法 315
一逻辑功能的逻辑电路。所得到的设计结果应力求简单。在这一小节里我们首
先讨论简单时序电路的设计。这里所说的简单时序电路，是指用一组状态方程、
驱动方程和输出方程就能完全描述其逻辑功能的时序电路。
当选用小规模集成电路做设计时，电路最简的标准是所用的触发器和门电
路的数目最少，而且触发器和门电路的输入端数目也最少。而当使用中、大规模
集成电路时，电路最简的标准则是使用的集成电路数目最少，种类最少，而且互
相间的连线也最少。
设计同步时序逻辑电路时，一般按如下步骤进行：
一、逻辑抽象，得出电路的状态转换图或状态转换表
就是将要求实现的时序逻辑功能表示为时序逻辑函数，可以用状态转换表
的形式，也可以用状态转换图或状态机流程图的形式。这就需要：
(1)分析给定的逻辑问题，确定输入变量、输出变量以及电路的状态数。通
常都是取原因(或条件)作为输入逻辑变量，取结果作输出逻辑变量。
(2)定义输入、输出逻辑状态和每个电路状态的含意，并将电路状态顺序
编号。
(3)按照题意列出电路的状态转换表或画出电路的状态转换图。
这样，就把给定的逻辑问题抽象为一个时序逻辑函数了。
二、状态化简
若两个电路状态在相同的输入下有相同的输出，并且转换到同样一个次态
去，则称这两个状态为等价状态。显然，等价状态是重复的，可以合并为一个。
电路的状态数越少，设计出来的电路就越简单。
状态化简的目的就在于将等价状态合并，以求得最简的状态转换图。
三、状态分配
状态分配又称状态编码。
时序逻辑电路的状态是用触发器状态的不同组合来表示的。首先，需要确
定触发器的数目n。因为n个触发器共有2”种状态组合，所以为获得时序电路
所需的M个状态，必须取
2"-1<M≤2" (6.4.1)
其次，要给每个电路状态规定对应的触发器状态组合。每组触发器的状态
组合都是一组二值代码，因而又将这项工作称为状态编码。在M<2”的情况
下，从2”个状态中取M个状态的组合可以有多种不同的方案，而每个方案中M
个状态的排列顺序又有许多种。如果编码方案选择得当，设计结果可以很简单。
反之，编码方案选得不好，设计出来的电路就会复杂得多，这里面有一定的技巧。
此外，为便于记忆和识别，一般选用的状态编码和它们的排列顺序都遵循一
定的规律。
316 第六章 时序逻辑电路
四、选定触发器的类型，求出电路的状态方程、驱动方程和输出方程
因为不同逻辑功能的触发器驱动方式不同，所以用不同类型触发器设计出
的电路也不一样。为此，在设计具体的电路前必须选定触发器的类型。选择触
发器类型时应考虑到器件的供应情况，并应力求减少系统中使用的触发器种类。
根据状态转换图(或状态转换表)和选定的状态编码、触发器的类型，就可
以写出电路的状态方程、驱动方程和输出方程了。
五、根据得到的方程式画出逻辑图
六、检查设计的电路能否自启动
如果电路不能自启动，则需采取措施加以解决。一种解决办法是在电路开
始工作时通过预置数将电路的状态置成有效状态循环中的某一种。另一种解决
方法是通过修改逻辑设计加以解决。具体的作法将在下一小节中介绍。
至此，逻辑设计工作已经完成。图6.4.1用方框图表示了上述设计工作的
大致过程。不难看出，这一过程和分析时序电路的过程正好是相反的。
时序逻辑
问题
逻辑
抽象 状态转换
图(表)
状态
化简 最简状态
转换图(表)
电路
方程式
选定触发
逻辑
电路图
检查能否
器的类型 自启动
图6.4.1 同步时序逻辑电路的设计过程
下面通过三个不同类型的具体例子进一步深入说明上述设计方法。
【例6.4.1】试设计一个带有进位输出端的十三进制计数器。
解：首先进行逻辑抽象。
因为计数器的工作特点是在时钟信号操作下自动地依次从一个状态转为下
一个状态，所以它没有输入逻辑变量，只有进位输出信号。因此，计数器是属于
穆尔型的一种简单时序电路。
取进位信号为输出逻辑变量C,同时规
定有进位输出时C=1,无进位输出时C=0。
S? 10 S?
1/0
S?
10
S?
10
S?
/1 /0
S12
/0
S
/0
Sn S?
10 /0
S1 /0 S? /0
S? 10
S?
图6.4.2 例6.4.1的状态转换图
十三进制计数器应该有十三个有效状
态，若分别用S。、S?、…、S12表示，则按题意
可以画出如图6.4.2所示的电路状态转换
图。
因为十三进制计数器必须用13个不同
的状态表示已经输入的脉冲数，所以状态转
6.4 时序逻辑电路的设计方法 317
换图已不能再化简。
根据式(6.4.1)知，现要求M=13,故应取触发器位数n=4,因为
23<13<2?
假如对状态分配无特殊要求，可以取自然二进制数的0000~1100作为S。~
S??的编码，于是得到了表6.4.1中的状态编码。
表6.4.1 例6.4.1电路的状态转换表
状态编码 进位输出
C Q。 Q? Q? Q?
0← 0 0 0
0 0 0 1
0 0 1 0
0 0 1 1
0 1 0 0
0 1 0 1
0 1 1 0
0 1 1 1
1 0 0 0
1 0 0 1
1 0 1 0
1 0 1 1
…am…………40…中心……1中中中中4中，dt
1 1 0 0
0 0 0 0--
0
0
0
0
0
0
0
0
0
0
0
0
1
0
等效 状态变化顺序 十进制数
S。 0
S? 1
S? 2
S? 3
S?
S?
S?
S?
S?
S?
S?0
S?
4
5
6
7
8
9
10
11
S?2 12
S? 0
由于电路的次态Q?Q?QiQ。和进位输出C唯一地取决于电路现态
Q?Q?Q.Q。的取值，故可根据表6.4.1画出表示次态逻辑函数和进位输出函数的
卡诺图，如图6.4.3所示。因为计数器正常工作时不会出现1101、1110和1111
三个状态，所以可将Q?Q?Q1Q0、Q?Q?Q?Q?Q?Q?Q?Q。三个最小项作约束项处
理，在卡诺图中用×表示。
为清晰起见，可将图6.4.3所示的卡诺图分解为图6.4.4所示的五个卡诺
图，分别表示Q?、Q?、Q*、Q。和C这五个逻辑函数。从这些卡诺图得到电路的
状态方程为
(6.4.2)
输出方程为
—
318 第六章 时序逻辑电路
2?2。 Q?Q?
00
00 01 11 10
01
11
10
0001/0 0010/0 0100/0 0011/0
0101/0 0110/0 1000/0 0111/0
0000/1 ××××/× x×××/× ××××/×
1001/0 1010/0 1100/0 1011/0
图6.4.3 例6.4.1电路次态/输出
(Q?Q?QiQo/C)的卡诺图
Q2。00 01 11 10 2,Q。 Q?Q? 00 01 11 10
00 0 0 0 0 00 0 0 1 0
01 0 0 1 0 01 ① 1 0 1
11 0 × × × 11 0
10 1 1 1 1 10
(a) Q?
×
0 0 1
(b) Q?
2?2? Q?Q? 00 01 11 10
2?2? Q?Q? 00 01 11 10
2?2。 Q?Q? 00
× ×
0
01 11 10
00 0 1 0 1 00 1 0 0 1 00
01 0 1 0 1 01 1 0 0 1 01
11 0 × × × 11 0 × × × 11
10 0 1 0 1 10 1 0 0 1 10
(c) e; (d) Q
0 0 0 0
0 0
×
0 0
1
0 0 0
(e) C
图6.4.4 图6.4.3卡诺图的分解
C=Q?Q?
× ×)
0
(6.4.3)
如果选用JK触发器组成这个电路，则应将式(6.4.2)的状态方程变换成JK
触发器特性方程的标准形式，即Q*=JQ'+K'Q,然后就可以找出驱动方程了。
为此，将式(6.4.2)改写为
Q?Q?
6.4 时序逻辑电路的设计方法 319
2Q?Qa(Q+Q3)=(Q?Q?Q)Qs+QzQs
0:=Q.i+06e
+1'·Qo=(Q?Q?)'Q?'Q。
(6.4.4)
在变换Q?的逻辑式时，删去了约束项Q?Q?Q?Qo。将式(6.4.4)中的各逻
辑式与JK触发器的特性方程对照，则各个触发器的驱动方程应为
(6.4.5)
根据式(6.4.3)和式(6.4.5)画得计数器的逻辑图如图6.4.5所示。
CLK
FF?
1J 2。 FF? Q
FF?
1J 1J Q?
FF?
1J
Q3
C
>C1 >C1 >C1 >C1
1 1K 1K 1K 1K
Q3
图6.4.5 例6.4.1的同步十三进制计数器
为验证电路的逻辑功能是否正确，可将0000作为初始状态代入式(6.4.4)
的状态方程依次计算次态值，所得结果应与表6.4.1中的状态转换表相同。
最后还应检查电路能否自启动。将3个无效状态1101、1110和1111分别
代入式(6.4.4)中计算，所得次态分别为0010、0010和 0000,故电路能自启动。
图6.4.6是图6.4.5电路完整的状态转换图。
【例6.4.2】 设计一个串行数据检测器，对它的要求是：连续输入3个或3
个以上的1时输出为1,其他输入情况下输出为0。
解：首先进行逻辑抽象，画出状态转换图。
取输入数据为输入变量，用X表示；取检测结果为输出变量，以Y表示。
设电路在没有输入1以前的状态为S。,输入一个1以后的状态为S,连续
输入两个1以后的状态为S?,连续输入3个或3个以上1以后的状态为S?。若
320 第六章 时序逻辑电路
1111 1110 1101 (Q?2?2?2o)
/1 /1 /1
0000 0001 0010 0011 /0 10 /0 /0 0100
/1 /0
1100 0101
10 /0
1011 0110
/0 /0
1010) /0 1001 /0 1000 /0 0111
图6.4.6 图6.4.5电路的状态转换图
以S表示电路的现态，以S*表示电路的次态，依据设计要求即可得到表6.4.2
所示的状态转换表和图6.4.7所示的状态转换图。
表6.4.2 例6.4.2的状态转换表
S*/Y S
S? S? S?
S?/0 S?/0 S?/0
S?/0 S?/0 S?/1
S?
X
0 S?/0
1 S?/1
然后进行状态化简。比较一下S?和S?这两个状态便可发现，它们在同样的
输入下有同样的输出，而且转换后得到同样的次态。因此S?和S?是等价状态，可
以合并为一个。
从物理概念上也不难理解，当电路处于S?
状态时表明已经连续输入了两个1。如果在电
路转换到S?状态的同时输入也改换为下一位
输入数据(当输入数据来自移位寄存器的串行
输出，而且移位寄存器和数据检测器由同一时
钟信号操作时，就工作在这种情况),那么只要
0/0
1/0 XY
S? S?
0/0
0/0 0/0
1/0
下个输入为1,就表明连续输入3个1了，因而
无需再设置一个电路状态。于是就得到了图
S? 1/1
S?
1/1 6.4.8所示化简后的状态转换图。
在电路状态M=3的情况下，根据式 图6.4.7 例6.4.2的状态转换图
6.4 时序逻辑电路的设计方法 321
(6.4.1)可知，应取触发器的位数n=2。
如果取触发器状态Q?Q。的00、01和10分别代表S?、S,和S?,并选定JK触
发器组成这个检测电路，则可从状态转换图画出电路次态和输出的卡诺图，如图
6.4.9所示。
1/0
0/01 XY
So S? 2?2。
X
0/0 00 01 11 10
0/0 1/0 0
S? 1
1/1
图6.4.8 化简后的例6.4.2的
状态转换图
图6.4.9 例6.4.2电路次态/输出
(Q:Q。/Y)的卡诺图
将图6.4.9所示的卡诺图分解为图6.4.10中分别表示Q*、Q。和Y的3个
卡诺图，经化简后得到电路的状态方程为
2?2。 Q,2。
00/0 00/0 ××/× 00/0
01/0 10/0 ××/× 10/1
Q?
X 00 01 11 10 X 00 01 11 10 X 01 11 10
0 0 0 × 0 0 0 0 × 0 0
1 0 1 × 1 1 1 0 × 0 1
(a)Qi (b) Q
0 0 × 0
0 0 × 1
(c)Y
图6.4.10 图6.4.9卡诺图的分解
=XO,+XO。=XQ,+XO.(O,+Q) ere. (6.4.6)
由上式得驱动方程
u=XQ K?=X' (6.4.7)
K。=1
由图6.4.10(c)得输出方程
Y=XQ? (6.4.8)
根据式(6.4.6)、(6.4.7)、(6.4.8)所画出的逻辑图和电路状态转换图如图
6.4.11和图6.4.12所示。状态转换图表明，当电路进入无效状态11后，若X=
322 第六章 时序逻辑电路
1则次态转入10;若X=0则次态转入00,因此这个电路是能够自启动的。
-Y
FF? FF?
X- 1J 2? 1J Q1 C1 >C1
1K 1K Q{
CLK-
图6.4.11 用JK触发器设计的例6.4.2电路
1/0
0/0
00 01
0/0
0/0 0/0 1/0
11 1/1 10 X/Y
1/1 e,2。
图6.4.12 图6.4.11电路的状态转换图
本例中若改用D触发器，则应将式(6.4.6)的状态方程与D触发器的特性
方程Q*=D对照，找出D端对应的逻辑式来，此即D触发器的驱动方程。于是
得到
D=xQ:+8-X(QiQ?) (6.4.9)
而输出方程不受影响。
根据式(6.4.9)和式(6.4.8)得到的逻辑图如图6.4.13所示。它的状态转
换图与图6.4.12相同。
CLK·
X·
FF? FF?
>C1
1D Q
>C1
1D
Q
Qi
图6.4.13 用D触发器设计的例6.4.2电路
Y
6.4 时序逻辑电路的设计方法 323
【例6.4.3】 设计一个自动售饮料机的逻辑电路。它的投币口每次只能投
入一枚五角或一元的硬币。投入一元五角钱硬币后机器自动给出一杯饮料；投
入两元(两枚一元)硬币后，在给出饮料的同时找回一枚五角的硬币。
解：取投币信号为输入逻辑变量，投入一枚一元硬币时用A=1表示，未投
入时A=0。投入一枚五角硬币用B=1表示，未投入时B=0。给出饮料和找钱
为两个输出变量，分别以Y、Z表示。给出饮料时Y=1,不给时Y=0;找回一枚
五角硬币时Z=1,不找时Z=0。
假定通过传感器产生的投币信号(A=1或B=1)在电路转入新状态的同时
也随之消失，否则将被误认作又一次投币信号。
设未投币前电路的初始状态为S。,投入五角硬币以后为S?,投入一元硬币
(包括投入一枚一元硬币和投入两枚五角硬币的情况)以后为S?。再投入一枚
五角硬币后电路返回S?,同时输出为Y=1、Z=0;如果投入的是一枚一元硬币，
则电路也应返回S。,同时输出为Y=1、Z=1。因此，电路的状态数M=3已足
够。依据题意可列出如表6.4.3所示的状态转换表，并画出如图6.4.14所示的
状态转换图。
表6.4.3 例6.4.3的状态转换表
Siyz AB
00 01 11
S?/00 S?/00 ×/××
S?/00 S?/00 ×/××
S?/00 S?/10 ×/××
10
S
S? S?/00
S? S?/10
S? S?/11
01/00
00/00( 00/00 S? 10/10 S? AB/YZ
10/00
01/00 0/i 或
S?
00/00
图6.4.14 例6.4.3的状态转换图
因为正常工作中不会出现AB=11的情况，所以与之对应的S*、Y、Z均作约
束项处理。
取触发器的位数 n=2,则21<3(M)<22,故符合要求。今以触发器状态
324 第六章 时序逻辑电路
Q?Q。的00、01、10分别代表S?、S?、S?,则从状态转换图或状态转换表即可画出
表示电路次态/输出(QiQ。/YZ)的卡诺图，如图6.4.15所示。因为正常工作时
不出现QiQ。=11的状态，所以与之对应的最小项也作约束项处理。
AB
Q?2。 00 01 11 10
00
01
11
10
图6.4.15 例6.4.3电路次态/输出(QiQ。/YZ)的卡诺图
将图 6.4.15中的卡诺图分解，分别画出表示Qi、Q。、Y和Z的卡诺图，如
图6.4.16所示。
AB
00/00 01/00 ××/×× 10/00
01/00 10/00 ××/×× 00/10
××/×× ××/×× ××/×× ××/××
10/00 00/10 ××/×× 00/11
AB 2?2。 00 01 11 10 Q?2。 00 01 11 10
00 0 0 × 1 00 0 1 ×) 0
01 0 1 × 0 01 1
11 × × × × 11 ×
10 1 0 × 0 10
(a) Qi
0 × 0
× × ×
0 0 × 0
(b) Q
AB AB
Q,2。 00 01 11 10 2,2 00 01 11 10
00 0 0 × 0 00
01 0 0 × 1 01
11 × × × × 11
10 0 1 × 1 10
(c)Y
0 0 × 0
0 0 × 0
× × × ×
0 0 × 1
(d)Z
图6.4.16 图6.4.15卡诺图的分解
假定选用D触发器，则从图6.4.16所示的卡诺图可写出电路的状态方程、
6.4 时序逻辑电路的设计方法 325
驱动方程和输出方程分别为
=CGOid.
D-::+CidtC
2=.B+Q?+CA
(6.4.10)
(6.4.11)
(6.4.12)
根据式(6.4.11)和式(6.4.12)画出的逻辑图如图6.4.17所示。它的状态
转换图如图6.4.18所示。当电路进人无效状态11以后，在无输人信号的情况下
(即AB=00)不能自行返回有效循环，所以不能自启动。当AB=01或AB=10时
电路在时钟信号作用下虽然能返回有效循环中去，但收费结果是错误的。因此，
在开始工作时应在异步置零端RD上加入低电平信号将电路置为00 状态。
与或逻辑阵列
Y
A- Z
1D 21
B- >C1
R
1D Q。 >C1
R
CLK Ró-
图6.4.17 例6.4.3的逻辑图
326 第六章 时序逻辑电路
00/00
01/00 00/00
00 10/10 01
10/11
或0/ 10/00 01/00
11 01/10 10
e,2。AB/YZ
00/00 00/00
图6.4.18 图6.4.17电路的状态转换图
复习思考题
R6.4.1 在例6.4.2取两位触发器组成存储电路的情况下，有多少种可能的状态编码方
案?
R6.4.2 什么是时序电路的等价状态?
R6.4.3 在例6.4.2中，若电路转入新状态后输入不能同时也转换为下一个输入状态，
这时可能发生什么问题?
*6.4.2 时序逻辑电路的自启动设计
在前面介绍时序电路的设计步骤时，检查电路能否自启动这一步是在最后
进行的。如果发现电路不能自启动，而设计又要求电路能自启动，就必须回过头
来重新修改设计了。那么能否在前面的设计过程中就注意到电路能否自启动，
并且在发现不能自启动时采取措施加以解决呢?
事实上这是可以做到的，下面通过一个例子来说明。
【例6.4.4】 设计一个七进制计数器，要求它能够自启动。已知该计数器
的状态转换图及状态编码如图6.4.19所示。
解：由图6.4.19所示的状态
转换图画出所要设计电路的次态
(QQ?Q?)的卡诺图，如图6.4.20
所示。图中这七个状态以外的 000
状态为无效状态。
001 /0 100 /0 010
/0
101
/1 /0
/C
011 /0 111 /0
110 Q?Q?Q?
为清楚起见，将图6.4.20所示 图6.4.19 例6.4.4的状态转换图
6.4 时序逻辑电路的设计方法 327
2? Q?2?
00 01 11 10
0
1
图6.4.20 例6.4.4电路次态(QiQ?Q?)的卡诺图
的卡诺图分解为图6.4.21中的三个卡诺图，分别表示Q*、Q?、Q3。如果单纯
地从追求化简结果最简单出发化简状态方程，则可得到
××× 100 001 101
010 110 011 111
(6.4.13)
在以上合并1的过程中，如果把表示任意项的×包括在圈内，则等于把×取
作1了；如果把×画在圈外，则等于把×取为0。这无形中已经为无效状态指定
了次态。如果这个指定的次态属于有效循环中的状态，那么电路是能自启动的。
反之，如果它也是无效状态，则电路将不能自启动。在后一种情况下，就需要修
改状态方程的化简方式，将无效状态的次态改为某个有效状态。
Q?Q? Q?Q? Q?2?
2? 00 01 11 10 Q? 00 01 11 10 Q? 00 01 11 10
0 × 1 0 1 0 × 0 0 0 0 × 0 1 1
1 0 1 0 1 1 1 1 1 1 1 0 0 1 1
(a)Qi (b)Q? (c)Q?
图6.4.21 图6.4.20卡诺图的分解
由图6.4.21可见，化简时将所有的×全都划在圈外了，也就是化简时把它
们全取作0了。这也就意味着把图6.4.20中000状态的次态仍旧定成了000。
这样，电路一旦进入000状态以后，就不可能在时钟信号作用下脱离这个无效状
Q?2? 态而进入有效循环，所以电路不能自启动。
为使电路能够自启动，应将图6.4.20中的
×××取为一个有效状态，例如取为010。这时
Q?的卡诺图被修改为图6.4.22所示的形式，
化简后得到
Q 00 01 11 10
0 × 0 0 0
1 ① 1 1 1
图6.4.22 修改后的Q?卡诺图 Q?=Q?+Q?Q3
故式(6.4.13)的状态方程修改为
—-
328 第六章 时序逻辑电路
(6.4.14)
若选用JK触发器组成这个电路，则应将上式化成JK触发器特性方程的标
准形式，于是得到
0.+0')=(0.0.)0'+(0.④0.)0. e(6.4.15)
由上式可知各触发器的驱动方程应为
K?=(Q?田Q?)'
K?=Q
K3=Q2
(6.4.16)
计数器的输出进位信号C由电路的011 状态译出，故输出方程为
C=Q1Q?Q? (6.4.17)
图6.4.23是依照式(6.4.16)和式(6.4.17)画出的逻辑图，它一定能够自
启动，已无需再进行检验。它的状态转换图如图6.4.24所示。
Q?
C
1J 1J
C1 C1
1J
C1
1K
Q?
1K 1K
FF? Q1 FF? 2? FF?
CLK·
图6.4.23 例6.4.4的逻辑图
000
10
001 /0 100 /0 010 /0 101
/C
/1 /0
011 /0 111 /0 110 Q,Q?Q?
图6.4.24 图6.4.23电路的状态转换图
6.4 时序逻辑电路的设计方法 329
如果化简状态方程时把000状态的次态指定为010 以外6个有效状态中的
任何一个，所得到的电路也应能自启动。究竟取哪个有效状态为000的次态为
宜，应视得到的状态方程是否最简单而定。
在无效状态不止一个的情况下，为保证电路能够自启动，必须使每个无效状
态都能直接地或间接地(即经过其他的无效状态以后)转为某一有效状态。
【例6.4.5】 设计一个能自启动的3位环形计数器。要求它的有效循环状
态为100→010→001→100。
解：根据题目要求的状态循环，可以得到电路的状态转换图和电路次态的
卡诺图，如图6.4.25所示。
Q?Q?
(Q?Q?2?) 100 Q? 00 01 11 10
0
001 010 1
(a)
××× 100 ××× 001
010 ××× ××× ×××
(b)
图6.4.25 例6.4.5电路的状态转换图和次态(QiQ?Q?)卡诺图
(a)状态转换图(b)次态卡诺图
如果只考虑使状态方程最简单，则可将图6.4.25(b)所示的卡诺图分解，求
得Q*、Q?、Q?的最简单形式为
(6.4.18)
将Q?Q?Q?的五个无效状态000、011、101、110、111分别代入式(6.4.18)求
出次态，即得图6.4.26中用实线连结的状态转换图。显然，这样设计出来的电
路是不能自启动的。
由于在化简状态方程的同时，也随之规定了每个无效状态的次态，所以这时
电路次态的卡诺图已成为图6.4.27的形式。
下面讨论如何修改状态方程，以实现自启动。
为了保持移位寄存器内部结构不变，只允许修改第一位触发器的输入。因
此，只能通过修改每个无效状态中Q,的次态，使它们的次态进入有效循环。
如果按图6.4.26中的虚线连接方式修改状态转换图，则电路将能够自启
330 第六章 时序逻辑电路
(Q8?Q?) 100 000
001 010)
111 011 101
*-
110
图6.4.26 例6.4.5电路的状态转换图
Q?Q? 2? 00 01 11 10
0
1
图6.4.27 由式(6.4.18)得到的次态卡诺图
Q?Q?
Q?
000 100 101 001
010 110 111 011
00 01 11 10
0
1
100 100 001 001
010 010 011 011
图6.4.28 例6.4.5电路的
修改后的卡诺图
动。也就是说，电路次态的卡诺图应修改为图6.4.28所示的形式。
由图6.4.26可见，如果仅从能自启动的角度考虑，101 状态的次态本不必
修改，它可以经过另外两个无效状态110和011以后进入有效循环。但从图
6.4.28所示的卡诺图上不难发现，将101的次态修改为010 以后，Qi的逻辑式
可以更加简单。根据图6.4.28所示卡诺图求得修改后的状态方程为
(6.4.19)
6.4 时序逻辑电路的设计方法 331
若选用D触发器组成这个计数器，则驱动方程为
(6.4.20)
图6.4.29是按照式(6.4.20)画出的逻辑图，这个电路一定能自启动。
1D 2 1D Q? 1D
C1
Q?
C1 C1
FF? FF? FF?
CLK
图6.4.29 例6.4.5的逻辑图
*6.4.3 异步时序逻辑电路的设计方法
由于异步时序电路中的触发器不是同时动作的，因而在设计异步时序电路
时除了需要完成设计同步时序电路所应做的各项工作以外，还要为每个触发器
选定合适的时钟信号。这就是设计异步时序电路时所遇到的特殊问题。
设计步骤大体上仍可按6.4.1节中所讲的同步时序电路的设计步骤进行，
只是在选定触发器类型之后，还要为每个触发器选定时钟信号。下面通过一个
例子具体说明一下设计过程。
【例6.4.6】 试设计一个8421编码的异步十进制减法计数器，并要求所设
计的电路能自启动。
解：根据8421码十进制减法计数规则很容易列出电路的状态转换表，如
表6.4.4所示。而且它的状态编码已经由题目的要求规定了。由表6.4.4又可
画出如图6.4.30所示的状态转换图。
十进制计数器必须有10个有效状态，若依次为S?、S?、S8、…、S,则它们的
状态编码应符合表6.4.4的规定。而且，这10个状态都是必不可少的，不需要
进行状态化简。
下面的工作就需要选定触发器的类型和各个触发器的时钟信号了。假如选
用JK触发器组成这个电路。为便于选取各个触发器的时钟信号，可以由状态
转换图画出电路的时序图，如图6.4.31所示。
为触发器挑选时钟信号的原则是：第一，触发器的状态应该翻转时必须有时
钟信号发生；第二，触发器的状态不应翻转时“多余的”时钟信号越少越好，这将
332 第六章 时序逻辑电路
有利于触发器状态方程和驱动方程的化简。如果选用下降沿触发的边沿触发
器，则根据上述原则，选定FF。的时钟信号clk。为计数输入脉冲，FF,的时钟信
号clk?取自Q?F?的时钟信号clk?取自Qi,FF?的时钟信号clk?取自Q??
表6.4.4 十进制减法计数器的状态转换表
计数 电路状态 等效十
进制数 Q。 Q? Q? Q?
0 0 0 0
1 0 0 1
1 0 0 0
0 1 1 1
0 1 1 0
0 1 0 1
0 1 0 0
0 0 1 1
0 0 1 0
0 0 0 1
0 0 0 0……
0
9
8
7
6
5
4
3
2
1
0
输出
顺序 B
0 1
1 0
2 0
3 0
4 0
5 0
6 0
7 0
8 0
9 0
10 1
S? S? S? S?
0000 /1 1001 /0 /B
1000 /0 0111 (Q?Q?2,2。)
/0 /0
S?0001) 0110 S?
/0 /0
0010 10 0011 /0 0100 /0 0101
S? S? S4 Ss
图6.4.30 例6.4.6电路的状态转换图
为了求电路的状态方程，需要做出电路次态的卡诺图，如图6.4.32所示。
然后再将它分解为图6.4.33中的4个分别表示Q?、Q2、Qi和Qo的卡诺图。
在这4个卡诺图中，把没有时钟信号的次态也作为任意项处理，以利于状态方程
的化简。例如，在图6.4.33(a)所示Q?的卡诺图中，当现态为1001、0111、
0101、0011、0001时，电路向次态转换过程中clk?没有下降沿产生，因而Q?的状
态方程无效，可以任意设定它的次态。另外，由于正常工作时不会出现
Q?Q?Q?Qo=1010~1111这6个状态，所以也把它们作为卡诺图中的任意项
处理。
6.4 时序逻辑电路的设计方法 333
2。
21
Q?
2?
B
图6.4.31 例6.4.6电路的时序图
由图6.4.33所示的卡诺图得到电路的状态方程为
(6.4.21)
Q2。
Q?2? 00 01 11 10
00
01
11
10
图6.4.32 异步十进制减法计数器次态
(Q?Q?QiQ。)的卡诺图
式中用小写的clk。、clk?、clk?、clk?强调说明，只有当这些时钟信号到达时，状态方
程才是有效的，否则触发器将保持原来的状态不变。clk。、clk,、clk?、clk?在这里
只代表4个脉冲信号，而不是4个逻辑变量。
将式(6.4.21)化为JK触发器特性方程的标准形式得到
1001 0000 0010 0001
0011 0100 0110 0101
×××× ×××× ×××× ××××
0111 1000 ×××× ××××
334 第六章 时序逻辑电路
2?e。
Q?2? 00 01 11 10 Q?Q? 00 01 11 10
00 1 ×) × 0 00
01 0 × × 0 01
× × × × 11|
0 × × × 10
(a) Q3
× × × ×
0 × × ×
× × × ×
1 × × ×
(b) Q?
Q2。
Q?Q?
22。
00 01 11 10 Q?2? 00 01 11 10
00 0 × × 0 00
01 1 × × 0 01
1 0 0 1
1
11 × × × × 11|
10 1 × × × 10
(c)Qi
0 0 1
× × × ×
1 0 × ×
(d)Q
图6.4.33 图6.4.32卡诺图的分解
(6.4.22)
因为电路正常工作时不会出现Q?Q?=1的情况，所在Q*的方程式中删去了这
一项。
从式(6.4.22)得到每个触发器应有的驱动方程为
(6.4.23)
根据状态转换表画出的输出B的卡诺图如图6.4.34所示。由图得到
2?2。
11|
10
6.4 时序逻辑电路的设计方法 335
2,2。 Q?Q? 00 01 11 10
00
01
11
10
图6.4.34 例6.4.6电路输出的卡诺图
B=Q3Q?Q'Q%
1 0 0 0
0 0 0 0
× × × ×
0 0 × ×
(6.4.24)
按照式(6.4.23)和式(6.4.24)画出的逻辑图如图6.4.35所示。
1J 计数
脉冲 clk?- >C1 clk 1J 1J 1J
C1 clk2 >C1 clkz >C1
1K
FF? 2% 1K
FF? Qi 1K
FF? Q2
1K
FF?
Q3
B
图6.4.35 异步十进制减法计数器的逻辑图
最后需要检查一下设计的电路能否自启动。将1010~1111这6个无效状
态分别代入状态方程求其次态，结果表明电路是可以自启动的。完整的电路状
态转换图如图6.4.36所示。
0000 1001 1000 0111 (Q?2?2?2?)
1010 0001 0110) 1111
1011) 0010 0011 0100) 0101) 1110
1100 1101
图6.4.36 图6.4.35电路的状态转换图
336 第六章 时序逻辑电路
*6.4.4 复杂时序逻辑电路的设计
在一些复杂的时序电路中，往往会包含为数众多的输入变量、输出变量、电
路状态，而且存在多种状态循环和需要完成各种逻辑运算。这时已难于用一组
状态方程、驱动方程和输出方程描述整个电路的逻辑功能了，因此简单地套用前
面讲过的设计方法显然已经行不通了。
在这种情况下，通常采用层次化结构设计方法，或者称为模块化设计方法。
层次化结构设计方法有“自顶向下”(Top-down)和“自底向上”(Bottom-up)两
种做法。采用自顶向下的做法时，首先需要将所设计电路的功能逐级划分为更
简单的功能模块，直到这些模块都能用简单的逻辑电路实现为止。这些简单的
逻辑电路都可以用我们前面讲过的设计方法来设计。由于电路规模较大、功能
复杂，所以经常需要有一个控制模块去协调各模块之间的操作。有人又将这类
能明显地划分出控制模块的数字电路称为数字系统。其实究竟电路复杂到什么
程度才叫做系统并无十分明确的界定。
由于自顶向下划分模块的过程中完全是从获得最佳电路性能出发的，并未
考虑这些模块电路是否已经有成熟的设计存在了，所以必须从头设计每个模块
电路，然后进行仿真和测试。在发现问题时，还需反复修改。即便如此，在做成
硬件电路以后，也不能保证绝对不出现问题。
在采取自底向上的做法时，首先要考虑有哪些已有的、成熟的模块电路可以
利用。这些模块电路可能是标准化的集成电路器件，也可能是经过验证的计算
机软件。将电路划分为功能模块时，最后要划分到能利用这些已有的模块电路
来实现为止。直接采用这些模块电路能大大减少设计的工作量。然而有时由于
需要迁就已有的模块电路，这就会使电路的某些性能受到一些影响。另外，也不
可能任何一种功能模块都有现成的成熟设计，因此多数情况下都采用自顶向下
和自底向上相结合的方法，以求达到既能满足设计要求，又能提高设计速度、降
低设计成本的目标。
【例6.4.7】 设计一个自动售火柴机的逻辑电路。每次可投入一枚1分、2
分或5分的硬币，累计投入超过8分以后，输出一小盒火柴，同时找回多于8分
的钱。
解：首先仍然需要进行逻辑抽象，把要求实现的逻辑功能抽象为一个逻辑
函数问题。取投币信号为输入变量，以I?、I?、I?分别表示投入1分、2分、5分硬
币的信号，同时以Y表示输出火柴的信号，以Z、Z?、Z?分别表示找回1分、2
分、4分钱的信号。
考虑到各种可能的投币情况，电路可能出现多种状态和许多种可能的状态
6.4 时序逻辑电路的设计方法 337
循环，因此宜于采用层次化结构设计的方法进行设计。根据电路应实现的逻辑
功能，可以将它划分为图6.4.37所示的模块电路。首先将表示整个电路功能的
顶级模块划分为下一级的运算电路、输出电路、输入电路和控制电路四个模块。
运算电路又可以划分为加法器和寄存器两个模块电路。
控制电路
图6.4.37 例6.4.7电路的模块划分
运算电路的功能是对每一次的输入做累加运算，所以它就是一个累加器。
每当有投币信号到达时，将输入的钱数与寄存器中原有的钱数相加，并且将结果
送回寄存器。当寄存器中的数大于、等于8时，输出电路给出输出火柴和找钱信
号。输入电路中的整形电路用投币动作产生一定宽度的输入脉冲信号I?、I?和
I?,并将它们转换为加法器输入的二进制数。控制电路产生累加器的操作信号
CLK 和寄存器的异步置0信号。
如果采用标准化的集成电路设计各个模块，就可以得到图6.4.38所示的逻
辑图了。图中的4位超前进位加法器74LS283和4位寄存器74LS175组成了运
算电路，门电路G?~G?和阻容电路C?、R?组成控制电路，门电路G?~G,组成
输出电路，整形电路L,~L?和门电路G?组成输入电路。
接通电源电压以后，R?C?电路输出的瞬时高电平经过G,反相后将寄存器
置0,电路处于准备状态。每当出现投币输入信号，I?、I?或I?等于1时，便有
001、010或101加到加法器的输入端B?、B?、B。上。与此同时，G?输出的低电平
信号将经G?反相后产生的CLK上升沿将加法器的输出存入寄存器中，完成一
次累加操作。
当寄存器中的数大于、等于8时，寄存器的Q?变为1,使输出Y=1,给出输
出火柴的信号，同时在Z?、Z?、Z,给出找钱信号。I?、I?或I?回到0以后，反相器
G?输出高电平，经过G?反相后将寄存器置0。电路回到起始的准备状态。
为了确保CLK上升沿到达寄存器时寄存器数据输入端D。~D?的状态已经
稳定地建立起来了，还可以在门G?的输出端加入一个由电容C?构成的延迟环
节。这个电容的数值通常只需数十至数百皮法。
售火柴逻辑电路
输入电路 运算电路 输出电路
加法器 寄存器
338 第六章 时序逻辑电路
运 算 电路
输入电路
A?A?A?A?
CO S? D? 输出电路
Q? Y
投入5分 L? I?L
投入2分
B?
B? B?
74LS283 S? D?
S? D?
S? D? 74LS175 Q? G?
Z?
Q? G?
Z?
投入1分 L? 22 G? B? CI
CLKRp Qo G?
Z?
几
G? G? G? Vac
C?:工工 C?
G?
控制电路
图6.4.38 例6.4.7的电路
复习思考题
R6.4.4 “自顶向下”和“自底向上”的设计方法有什么区别?
6.5 时序逻辑电路中的竞争一冒险现象
因为时序逻辑电路通常都包含组合逻辑电路和存储电路两个组成部分，所
以它的竞争-冒险现象也包含两个方面。
一方面是其中的组合逻辑电路部分可能发生的竞争一冒险现象。产生这种
现象的原因已在4.4.1节中讲过。这种由于竞争而产生的尖峰脉冲并不影响组
合逻辑电路的稳态输出，但如果它被存储电路中的触发器接收，就可能引起触发
器的误翻转，造成整个时序电路的误动作，这种现象必须绝对避免。消除组合逻
辑电路中竞争一冒险现象的方法已在4.4.3节中做了介绍，这里不再重复。
另一方面是存储电路(或者说是触发器)工作过程中发生的竞争一冒险现
象，这也是时序电路所特有的一个问题。
在讨论触发器的动态特性时曾经指出，为了保证触发器可靠地翻转，输入信
6.5 时序逻辑电路中的竟争-冒险现象 339
号和时钟信号在时间配合上应满足一定的要求。然而当输入信号和时钟信号同
时改变，而且途经不同路径到达同一触发器时，便产生了竞争。竞争的结果有可
能导致触发器误动作，这种现象称为存储电路(或触发器)的竞争-冒险现象。
例如，在图6.5.1给出的八进制异步计数器电路中，就存在着这种存储电路
的竞争一冒险现象。
G? G?
CLK?-
1J 7
计数输入
C1
Q?
CLK?[ C1
1J 7
Q? 1J 7
2?
1K
FF 2' 1K 7
CLK?C1
1K
1
FF? FF?
图6.5.1 说明时序电路竞争一冒险现象的例子
计数器由3个主从JK触发器 FF?、FF?、FF?和两个反相器G,、G?组成。其
中FF?工作在J?=K?=1的状态，每次CLK,的下降沿到达时它都要翻转。FF?
同样也工作在J?=K?=1的状态，所以每次Qi由高电平跳变为低电平时都要翻
转。FF?的情况要复杂一些。由于CLK?取自Q?(经过两级反相器延迟),而
J?=K?=Q?,F?的时钟信号又取自Q,因而当FF?由0变成1时FF?的输入信
号和时钟电平同时改变，导致了竞争一冒险现象的发生。
如果Q:从0变成1时Q?的变化首先完成，CLK?的上升沿随后才到，那么
在CLK?=1的全部时间里J?和K?的状态将始终不变，就可以根据CLK?下降沿
到达时Q?的状态决定FF?是否该翻转。由此即可得到表6.5.1(a)的状态转换
表和图6.5.2中以实线表示的状态转换图。显然这是一个八进制计数器。
表6.5.1 图6.5.1电路的状态转换表
计数
顺序
0
1
2
3
4
5
6
7
8
Q?
0
1
0
1
0
1
0
1
0
(a)
电路状态
Q? Q?
0 0+
1 0
1 1
0 1
0 1
1 1
1 0
0 0
0 0-
计数
顺序
0
1
2
3
4
Q?
0
1
0
1
0
Q?
0
1
1
0
0
(b)
电路状态
Q?
0←
0
1
1
0-
340 第六章 时序逻辑电路
反之，如果Q?从0变成1时CLK?的上升沿首先到达FF?,而Q?的变化在
后，则CLK?=1的期间里J?和K?的状态
011 (2?2?2?) 000 110 可能发生变化，这就不能简单地凭CLK?下
降沿到达时Q?的状态来决定Q?的次态
了。例如，在Q?Q?Q?从011变成101时， 100 101
FF,从0变为1。由于CLK?首先从低电平
变成了高电平而Q?原来的1状态尚未改
变，所以在很短的时间里出现了J?、K?、 010 111 001
CLK3同时为高电平的状态，使FF?的主触
发器翻转成0状态。在下一个计数脉冲到 图6.5.2 图6.5.1电路的状态转换图
达后，产生CLK?的下降沿，虽然这时Q?已
变为0状态，使J?=K?=0,但由于FF?的主触发器已经是0状态了，从触发器仍
要翻转为0状态，使 Q?Q?Q?=000。于是又得到另外一个状态转换表，如表
6.5.1(b)所示。对应的状态转换图将如图6.5.2中的虚线所示。倘若在设计
时无法确切知道CLK?和Q?哪一个先改变状态，那么也就不能确定电路状态转
换的规律。
为了确保CLK?的上升沿在Q?的新状态稳定建立以后才到达FF?,可以在
Q?到CLK?的传输通道上增加延迟环节。图6.5.1中的两个反相器G,和G?就
是作延迟环节用的。只要G?和G?的传输延迟时间足够长，一定能使Q?的变化
先于CLK?的变化，保证电路按八进制计数循环正常工作。
在同步时序电路中，由于所有的触发器都在同一时钟操作下动作，而在
此之前每个触发器的输入信号均已处于稳定状态，因而可以认为不存在竞
争现象。因此，一般认为存储电路的竞争一冒险现象仅发生在异步时序电
路中。
在有些规模较大的同步时序电路中，由于每个门的带负载能力有限，所
以经常是先用一个时钟信号同时驱动几个门电路，然后再由这几个门电路
分别去驱动若干个触发器。由于每个门的传输延迟时间不同，严格地讲系
统已不是真正的同步时序电路了，故仍有可能发生存储电路的竞争-冒险
现象。
图6.5.3(a)中的移位寄存器就是这样的一个例子。由于触发器的数
目较多，所以采用分段供给时钟信号的方式。触发器FF?~FF?2的时钟信号
CLK,由门 G?供给，FF?3~FF?4的时钟信号CLK?由门 G?供给。如果G?和
G?的传输延迟时间不同，则CLK,和CLK?之间将产生时间差，发生时钟偏
移现象。
6.5 时序逻辑电路中的竞争-冒险现象 341
FF?
输入 1D Q? FF?2
1D Q? FF1? FF??
1D Q13 1D
Q?4
C1
…
C1 C1 C1
CLK?CLK?
G? G?
CLK'
(a)
CLK'
CLK, Epdl
CLK? -tpd2
(b)
图6.5.3 移位寄存器中的时钟偏移现象
(a)电路图(b)时钟信号波形
时钟信号偏移有可能造成移位寄存器的误动作。譬如说，G?的传输延迟时
间tpd?比G?的传输延迟时间tpd?小得多，如图6.5.3(b)所示，则当CLK'输入一个
负跳变时CLK,的上升沿将先于CLK?的上升沿到达，使FF?2先于FF?3动作。如
果两个门的传输延迟时间之差大于FF?2的传输延迟时间，那么CLK?的上升沿到
FF?3时FF?2已经翻转为新状态了。这时FF?3接收的是FF?2的新状态，而把FF?2
原来的状态丢失了，移位的结果是错误的。
相反，如果CLK2领先于CLK?到达，就不会发生错移位的现象。
假如使用的是维持阻塞结构触发器，则对输入信号还要求有一段保持时间
tH(见5.7.4节),因而能计算出对时钟信号偏移的限制为
tpd2-tpdi<tpLH-tH (6.5.1)
为了提高电路的工作可靠性，防止错移位现象发生，应挑选延迟时间长的反
相器作G?,延迟时间短的作G?。但这种做法显然是不方便的。实际上可以利用
增加FF?2的Q端到FF?3的D端之间的传输延迟时间来解决。具体的做法可以
在FF?2的Q'端与FF?3的D端之间串进一级反相器(如图6.5.4(a)所示),也可
以在FF?2的Q端与地之间接入一个很小的电容(如图6.5.4(b)所示)。
i
342 第六章 时序逻辑电路
Q1? 1D 1D 1D Q2 1D
C1
Q?
>C1 C1 C1 工C
FF?2 Qi? FF?? FF?? FF??
CLK? CLK? CLK? CLK?
(a) (b)
图6.5.4 防止移位寄存器错移的方法
(a)接入反相器作延迟环节 (b)接入延迟电容
*6.6 用Multisim 7分析时序逻辑电路
我们在4.5节中已经讲过，用Multisim 7可以分析组合逻辑电路，得到给定
逻辑电路的逻辑函数式，并且可以方便地将它化为最简单的与或形式。
Multisim 7同样可以用于分析时序逻辑电路。下面我们就通过一个实例说明如
何具体使用Multisim 7分析时序逻辑电路。
【例6.6.1】 分析图6.6.1所示的计数器电路，求电路的时序图，说明这是
几进制计数器。
1
D? Q。
D? Q?
D? Q? 端倍
D?
Vcc EP
ET
74LS160 Q?
C
Rp 计数
输入 CLK LD
图6.6.1 例6.6.1的时序逻辑电路
解：在Multisim 7中选用TTL器件库中的74LS160、反相器7404 以及与非
*6.6 用Multisim 7分析时序逻辑电路343
门7420构成图6.6.1中的电路，并接入信号发生器XFG1和逻辑分析仪XLA1,
如图6.6.2所示①。图6.6.2中的QA、Qg、Qc、Qp与图6.6.1中的Q?、Q1、Q?、Q?
对应。
VCC 7404N
5V 74LS160N
7404N
自了日戏 888 7404N 742ON
XFG1 ENP
ENT RCO
ru ~LOAD ~CLR
CLK
0
XLA1
图6.6.2 用Multisim 7构建图6.6.1的电路
利用Multisim 7中的逻辑分析仪对计数器的时钟波形和输出波形进行观
测，得图6.6.3所示的波形图。分析波形图可见，每5个时钟周期输出波形就重
复一遍，在7420的输出端产生一个输出进位脉冲。因此，这是一个五进制计
数器。
从逻辑分析仪给出的Qp、Qc、QB、QA的波形图，还可以画出电路的状态转
换图，如图6.6.4所示。
图6.6.1 中的计数器采用了同步预置数的工作方式，当计数器处于
QpQcDBQA=0100时，用7404 和7420 译出LD'=0的信号，将 D?D?D?D。=
0000的信号预置入计数器，作为计数循环的初始状态。由此分析可得，该计
数器是五进制计数器。因此，用Multisim 7得到的仿真结果与理论分析结果
完全吻合。
① 按本书中的规定画法，图6.6.2中74LS160的CLK输入端不应有小圆圈。
344 第六章 时序逻辑电路
Logic Analyzer-XLA1 区
Time(S)
514.029m 518.031m 522.034m 526.036m 530.038m 534.040m
漫墓意多然發察 Tem 1 Term2
Tem3 Term 4 Term5 Tem6
Term7
Term8 Term 9
Term 10
Term 11
11
16
4
153
Clock Ext
Clock_Qua
Trigg_Qua
Clock Trigger
Stop T1 523.963ms C800 Clocks/DiM Reset T2
Reverse T2-T1
518.996 ms -4.967 ms C800 2 Set.
Qualifier
C
Set. Etemal
C
Qualifier
C
图6.6.3 用Multisim 7中的逻辑分析仪分析图6.6.1电路的波形图
0000 Qp2c2g2A
/1 /0
0100 0001
/0 /0
0011 0010 /0
图6.6.4 图6.6.1电路的状态转换图(不含无效状态)
本 章小 结 345
体章小
时序逻辑电路与组合逻辑电路不同，在逻辑功能及其描述方法、电路结构、
分析方法和设计方法上都有区别于组合逻辑电路的明显特点。
在时序逻辑电路中，任一时刻的输出信号不仅和当时的输入信号有关，而且
还与电路原来的状态有关，这就是时序电路在逻辑功能上的特点。因此，任意时
刻下时序电路的状态和输出均可以表示为输入变量和电路原来状态(亦称状态
变量)的逻辑函数。由于时序电路工作时始终是在有限个状态间按一定规律转
换的，所以也将时序电路称为状态机(SM)或算法状态机(ASM)。
通常用于描述时序电路逻辑功能的方法有方程组(由状态方程、驱动方程
和输出方程组成)、状态转换表、状态转换图、状态机流程图和时序图等几种。
它们各具特色，在不同场合各有应用。其中方程组是和具体电路结构直接对应
的一种表达方式。在分析时序电路时，一般首先是从电路图写出方程组；在设计
时序电路时，也是从方程组才能最后画出逻辑图。状态转换表、状态转换图和状
态机流程图的特点是给出了电路工作的全部过程，能使电路的逻辑功能一目了
然，这也正是在得到了方程组以后往往还要画出状态转换图或列出状态转换表
的原因。时序图的表示方法便于进行波形观察，因而最宜用在实验调试当中。
为了记忆电路的状态，时序电路必须包含存储电路，同时存储电路又和输入
逻辑变量一起，决定输出的状态(如图6.1.2的结构图所示),这就是时序电路
在电路结构上的特点。不过在实际的时序电路中并不是每一个都具备这样完整
的结构形式。例如，有的可以没有输入逻辑变量(例如计数器),有的输出仅仅
取决于电路的状态而不与输入信号直接相联系(例如穆尔型电路),有的甚至没
有组合电路部分(例如环形计数器),等等。然而只要是时序电路，那么它必须
包含存储电路，而且输出必须与电路状态相关。
由于具体的时序电路千变万化，所以它们的种类不胜枚举。本章介绍的寄
存器、移位寄存器、计数器、顺序脉冲发生器和序列信号发生器只是其中常见的
几种。因此，必须掌握时序电路的共同特点和一般的分析方法和设计方法，才能
适应对各种时序电路进行分析或设计的需要。
在6.2节和6.4节中介绍了分析和设计时序电路的一般步骤，这是本章学
习的重点。对于任何复杂的时序电路，这些步骤和方法都是适用的。当然，这并
不是说解决任何简单的时序电路问题都必须机械地按这些步骤进行。例如，分
析环形计数器和扭环形计数器时，从物理概念出发很容易画出它们的状态转换
图，无需重复6.2节中的分析步骤。
由于时序电路通常包含组合电路和存储电路两部分，所以时序电路中的竞
346 第六章 时序逻辑电路
争-冒险现象也有两个方面。一方面组合电路因竞争-冒险而产生的尖峰脉冲
如果被存储电路接收，引起触发器翻转，则电路将发生误动作。另一方面存储电
路本身也存在竞争-冒险问题。存储电路中竞争-冒险现象的实质是由于触发
器的输入信号和时钟信号同时改变而在时间上配合不当，从而可能导致触发器
误动作。因为这种现象一般只发生在异步时序电路中，所以在设计较大的时序
系统时多数都采用同步时序电路。
[题6.1] 分析图P6.1时序电路的逻辑功能，写出电路的驱动方程、状态方程和输出方
程，画出电路的状态转换图和时序图。
1J 2 1J 2? -Y
C1 C1
1- 1K —1— 1K
FF? CLK- FF?
图P6.1
[题6.2] 分析图P6.2时序电路的逻辑功能，写出电路的驱动方程、状态方程和输出方
程，画出电路的状态转换图，并说明该电路能否自启动。
1D
>C1
2 1D Q? 1D Q? -Y
>C1 C1
FF? FF? FF?
CLK
图P6.2
[题6.3] 分析图P6.3时序电路的逻辑功能，写出电路的驱动方程、状态方程和输出方
程，画出电路的状态转换图，说明电路能否自启动。
1J 2 1J e? 1J
2? Y
C1 >C1 C1
1K 1K 1K
FF? FF? FF?
图P6.3
CLK·
习题 347
[题6.4] 试分析图P6.4时序电路的逻辑功能，写出电路的驱动方程、状态方程和输出
方程，画出电路的状态转换图，检查电路能否自启动。
1D
C1 2。 1D
>C1 Q? 1D
C1 Q?
Qi Q?
Y
CLK
图P6.4
[题6.5] 试分析图P6.5时序电路的逻辑功能，写出电路的驱动方程、状态方程和输出
方程，画出电路的状态转换图。A为输入逻辑变量。
A- 1D ID Y
C1 >C1
FF? Qi FF? Q
CLK-
图P6.5
[题6.6] 分析图P6.6给出的时序电路，画出电路的状态转换图，检查电路能否自启
动，说明电路实现的功能。A为输入变量。
A-
1
1J
C1 Q
1J
>C1 2? -Y
1K 1K
FF? FF?
CLK-
图P6.6
[题6.7] 分析图P6.7的时序逻辑电路，写出电路的驱动方程、状态方程和输出方程，
画出电路的状态转换图，说明电路能否自启动。
[题6.8] 分析图P6.8电路，写出电路的驱动方程、状态方程和输出方程，画出电路的
348 第六章 时序逻辑电路
CLK
FF? FF? FF? FF?
1J 1J 1J 1J
C1
1 1K 26 C1
1K Qi C1
1K Q
C1
1K
23
Y
图P6.7
状态转换图。图中的X、Y分别表示输入逻辑变量和输出逻辑变量。
FF? FF?
X- 1J 1J e
>C1 C1 -Y
1K 1K
CLK-
图 P6.8
[题6.9] 试画出用4片74LS194A组成16位双向移位寄存器的逻辑图。74LS194A的
功能表见表6.3.2。
[题6.10] 在图P6.10电路中，若两个移位寄存器中的原始数据分别为A?A?A?A。=
1001,B?B?B?B?=0011,CI的初始值为0,试问经过4个CLK信号作用以后两个寄存器中的数
据如何?这个电路完成什么功能?
1D A? 1D A? 1D A? 1D
C1
Ao ∑ S
C1 C1 C1
CI CO
1D B? 1D
C1
B? 1D
C1
B? 1D
C1
B? 1D CI
C1 C1
CLK·
图 P6.10
[题6.11] 分析图P6.11的计数器电路，说明这是多少进制的计数器。十进制计数器
74160的功能表与表6.3.4相同。
习题 349
1-
D?D? 1- EP D? D? C
ET 74160 LD
-Y
进位输出
CLK-
计数输入
CLK
QoQ?Q?Q? Rp -1
图P6.11
[题6.12] 分析图 P6.12的计数器电路，画出电路的状态转换图，说明这是多少进制的
计数器。十六进制计数器74LS161的功能表如表6.3.4所示。
工 EP D?D?D? D? C
ET 74LS161 LD
CLK
Q? Q? Rp QoQ,
-1
CLK-
计数输入
Y
进位输出
图 P6.12
[题6.13] 试分析图P6.13的计数器在M=1和M=0时各为几进制。74160的功能表
与表6.3.4相同。
M
1- EP D? D?D? D? C Y
ET 74160 LD 进位输出
CLK- CLK
计数输入 Q? Rp -1
图P6.13
[题6.14] 试用4位同步二进制计数器74LS161接成十二进制计数器，标出输入、输出
端。可以附加必要的门电路。74LS161的功能表见表6.3.4。
350 第六章 时序逻辑电路
[题6.15] 图P6.15电路是可变进制计数器。试分析当控制变量A为1和0时电路各
为几进制计数器。74LS161的功能表见表6.3.4。
1-
CLK-
计数输入
EP D。D? D? D? C
ET 74LS161 LD
CLK
Q? Q? Rp Q? Q?
-1
A· -Y
进位输出
图P6.15
[题6.16] 设计一个可控进制的计数器，当输入控制变量M=0时工作在五进制，M=1
时工作在十五进制。请标出计数输入端和进位输出端。
[题6.17] 分析图P6.17给出的计数器电路，画出电路的状态转换图，说明这是几进制
计数器。74LS290的电路见图6.3.31。
CLK
计数输入
Ro CP? CP? S?1 74LS290 Ro2 Q。Q?Q? Q? S92
Y
进位输出
图P6.17
[题6.18] 试分析图P6.18计数器电路的分频比(即Y与CLK 的频率之比)。74LS161
的功能表见表6.3.4。
0.
1
DoD?D?Ds c EP
ET 74LS161(1)LD
CLK Q?Q?QRo
EP D?D?D? D?c|
ET 74LS161(2)LD
Y
进位输出
CLK·
计数输入 CLK Q?Q?Ro
图P6.18
1·
习题 351
[题6.19] 图P6.19电路是由两片同步十进制计数器74160组成的计数器，试分析这
是多少进制的计数器，两片之间是几进制。74160的功能表与表6.3.4相同。
-1
EP D, D?D? D?C
ET 74160(1) LD
CLKQoQ?Q?Q?Ro
EP D,D?D? D? C
ET 74160(2) LD
CLKQoQ?Q?Q?Rp
Y
进位输出
CLK·
计数输入
-1
图P6.19
[题6.20] 分析图P6.20给出的电路，说明这是多少进制的计数器，两片之间是多少进
制。74LS161的功能表见表6.3.4。
CLK
计数输入
1- EP D?D?D? D?c EP DoD?D? D?c
ET 74LS161(1)LD ET 74LS161(2)LD
CLKQ?Q?Q?Q?Rp CLKQoQ?Q?Q?Rp
Y
进位输出
图P6.20
[题6.21] 画出用两片同步十进制计数器74160接成同步三十一进制计数器的接线
图。可以附加必要的门电路。74160的逻辑图和功能表见图6.3.21和表6.3.4。
[题6.22] 用同步十进制计数器芯片74160设计一个三百六十五进制的计数器。要求
各位间为十进制关系。允许附加必要的门电路。74160的功能表与表6.3.4相同。
[题6.23] 设计一个数字钟电路，要求能用七段数码管显示从0时0分0秒到23时59
分59秒之间的任一时刻。
[题6.24] 图P6.24所示电路是用二-十进制优先编码器74LS147和同步十进制计数
器74160组成的可控分频器，试说明当输入控制信号A、B、C、D、E、F、G、H、1分别为低电平时
由Y端输出的脉冲频率各为多少。已知 CLK 端输入脉冲的频率为10kHz。74LS147的功能
表如表4.3.3所示，74160的功能表见表6.3.4。
[题6.25] 试用同步十进制可逆计数器74LS190和二-十进制优先编码器74LS147设
计一个工作在减法计数状态的可控分频器。要求在控制信号A、B、C、D、E、F、G、H分别为1
时分频比对应为1/2、1/3、1/4、1/5、1/6、1/7、1/8、1/9。74LS190的逻辑图见图6.3.24,它的
352 第六章 时序逻辑电路
CLK—— -1
A-9 B'-
C-0 D'-
E-d F'- G'- H'- I'-
I?
Y。 74LS147 Y?
Y?
Y?
I?
I?I? 1
I?I? I?
CLKET EP
D? Q?
D?
D? 74160 Q?
Q?
D? Q?
RpLD C
Y
1
图P6.24
功能表与表6.3.5相同。可以附加必要的门电路。
[题6.26] 图P6.26是一个移位寄存器型计数器，试画出它的状态转换图，说明这是几
进制计数器，能否自启动。
Y
输出
1D
C1 Q? 1D
C1 Q? 1D
C1 Q?
o-
FF? CLK- FF? FF?
计数输入
图P6.26
[题6.27] 图P6.27是一个移位寄存器型计数器。试画出电路的状态转换图，并说明
这是几进制计数器，能否自启动。
1D
>C1
FF。
1D
C1
FF?
1D
C1
FF?
1D
C1
FF?
CLK·
Q? IQ? Q? Q?
图P6.27
[题6.28] 试利用同步十六进制计数器74LS161和4线-16线译码器74LS154设计节
习题 353
拍脉冲发生器，要求从12个输出端顺序、循环地输出等宽的负脉冲。74LS154的逻辑框图及
说明见[题4.11]。74LS161的功能表见表6.3.4。
[题6.29] 设计一个序列信号发生器电路，使之在一系列CLK信号作用下能周期性地
输出“0010110111”的序列信号。
[题6.30] 设计一个灯光控制逻辑电路。要求红、绿、黄三种颜色的灯在时钟信号作用
下按表P6.30规定的顺序转换状态。表中的1表示“亮”,0表示“灭”。要求电路能自启动，
并尽可能采用中规模集成电路芯片。
表P6.30
CLK顺序 红 黄 绿
0 0 0 0←
1 1 0 0
2 0 1 0
3 0 0 1
4 1 1 1
5 0 0 1
6 0 1 0
7 1 0 0
8 0 0 0-
[题6.31] 试用JK触发器和门电路设计一个同步七进制计数器。
[题6.32] 用JK触发器和门电路设计一个4位格雷码计数器，它的状态转换表应如表
P6.32所示。
计数
顺序
0
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
表P6.32
电路状态
Q? Q? Q? Qo
0 0 0 0
0 0 0 1
0 0 1 1
0 0 1 0
0 1 1 0
0 1 1 1
0 1 0 1
0 1 0 0
1 1 0 0
1 1 0 1
1 1 1 1
1 1 1 0
1 0 1 0
1 0 1 1
1 0 0 1
1 0 0 0
0 0 0 0
进位
输出C
0
0
0
0
0
0
0
0
0
0
0
0
0
0
0
1
0
354 第六章 时序逻辑电路
[题6.33] 用D触发器和门电路设计一个十一进制计数器，并检查设计的电路能否自
启动。
[题6.34] 设计一个控制步进电动机三相六状态工作的逻辑电路。如果用1表示电机
绕组导通，0表示电机绕组截止，则3个绕组ABC的状态转换图应如图P6.34所示。M为输
入控制变量，当M=1时为正转，M=0时为反转。
1/101 100 1/100
101 110
0/100 0/110 M/ABC
1/001 0/101 0/010 1/110 ABC
001 0/001 0/011 010
1/011 011 1/010
图P6.34
[题6.35] 设计一个串行数据检测电路。当连续出现四个和四个以上的1时，检测输
出信号为1,其余情况下的输出信号为0。
露铝章亲 t
第 七章
半导体存储器
内容提要
本章系统地介绍各种半导体存储器的工作原理和使用方法。
在只读存储器(ROM)中，逐一介绍了掩模ROM、PROM、EPROM和快闪存储器等不同
类型ROM的工作原理和特点。在随机存储器(RAM)中，分别介绍了静态随机存储器
(SRAM)和动态随机存储器(DRAM)两种不同的类型。
此外，还讲述了存储器扩展存储容量的连接方法以及用存储器设计组合逻辑电路的
概念。
7.1 概述
半导体存储器是一种能存储大量二值信息(或称为二值的数据)的半导体
器件。
在电子计算机以及其他一些数字系统的工作过程中，都需要对大量的数据
进行存储。因此，存储器也就成了这些数字系统不可缺少的组成部分。
由于计算机处理的数据量越来越大，运算速度越来越快，这就要求存储器具
有更大的存储容量和更快的存取速度。通常都把存储量和存取速度作为衡量存
储器性能的重要指标。目前动态存储器的容量已达109位/片。一些高速随机
存储器的存取时间仅10 ns左右。
因为半导体存储器的存储单元数目极其庞大而器件的引脚数目有限，所以
在电路结构上就不可能像寄存器那样把每个存储单元的输入和输出直接引出。
为了解决这个矛盾，在存储器中给每个存储单元编了一个地址，只有被输入地址
代码指定的那些存储单元才能与公共的输入/输出引脚接通，进行数据的读出或
356 第七章 半导体存储器
写入。
半导体存储器的种类很多，首先从存、取功能上可以分为只读存储器(Read Only Memory,简称ROM)和随机存储器(Random Access Memory,简称 RAM)两
大类。
只读存储器在正常工作状态下只能从中读取数据，不能快速地随时修改或
重新写入数据。ROM的优点是电路结构简单，而且在断电以后数据不会丢失。
它的缺点是只适用于存储那些固定数据的场合。只读存储器中又有掩模ROM、
可编程ROM(Programmable Read-Only Memory,简称PROM)和可擦除的可编程
ROM(Erasable Programmable Read-Only Memory,简称EPROM)几种不同类型。
掩模ROM 中的数据在制作时已经确定，无法更改。PROM中的数据可以由用户
根据自己的需要写入，但一经写入以后就不能再修改了。EPROM里的数据则不
但可以由用户根据自己的需要写入，而且还能擦除重写，所以具有更大的使用灵
活性。
随机存储器与只读存储器的根本区别在于，正常工作状态下就可以随时快
速地向存储器里写入数据或从中读出数据。根据所采用的存储单元工作原理的
不同，又将随机存储器分为静态存储器(Static Random Access Memory,简称
SRAM)和动态存储器(Dynamic Random Access Memory,简称 DRAM)。由于动
态存储器存储单元的结构非常简单，所以它所能达到的集成度远高于静态存储
器。但是动态存储器的存取速度不如静态存储器快。
另外，从制造工艺上又可以将存储器分为双极型和MOS型。鉴于MOS电
路(尤其是CMOS电路)具有功耗低、集成度高的优点，所以目前大容量的存储
器都是采用MOS工艺制作的。
7.2 只读存储器(ROM)
7.2.1 掩模只读存储器
在采用掩模工艺制作 ROM时，其中存储的数据是由制作过程中使用的掩
模板决定的。这种掩模板是按照用户的要求而专门设计的。因此，掩模 ROM
在出厂时内部存储的数据就已经“固化”在里边了。
ROM的电路结构包含存储矩阵、地址译码器和输出缓冲器三个组成部分，
如图7.2.1所示。存储矩阵由许多存储单元排列而成。存储单元可以用二极管
构成，也可以用双极型三极管或MOS管构成。每个单元能存放1位二值代码(0
7.2 只读存储器(ROM)357
或1)。每一个或一组存储单元有一个对应的地址代码。
地址输入 地址译码器 存储矩阵 输出缓冲器 数据输出
三态
控制
图7.2.1 ROM的电路结构框图
地址译码器的作用是将输入的地址代码译成相应的控制信号，利用这个控
制信号从存储矩阵中将指定的单元选出，并把其中的数据送到输出缓冲器。
输出缓冲器的作用有两个，一是能提高存储器的带负载能力，二是实现对输
出状态的三态控制，以便与系统的总线连接。
图7.2.2是具有2位地址输入码和4位数据输出的ROM电路，它的存储单
元由二极管构成。它的地址译码器由4个二极管与门组成。2位地址代码A?A?
能给出4个不同的地址。地址译码器将这4个地址代码分别译成Wo～W?4根线
上的高电平信号。存储矩阵实际上是由4个二极管或门组成的编码器，当W~W?
每根线上给出高电平信号时，都会在d?~d?4根线上输出一个4位二值代码。
通常将每个输出代码称为一个“字”,并将W。~W?称为字线，将d。~d?称为位
线(或数据线),而A?、A。称为地址线。输出端的缓冲器用来提高带负载能力，
并将输出的高、低电平变换为标准的逻辑电平。同时，通过给定EN'信号实现对
输出的三态控制。
在读取数据时，只要输入指定的地址
码并令 EN'=0,则指定地址内各存储单
元所存的数据便会出现在输出数据线上。
例如，当A?Ao=10时，W?=1,而其他字线
均为低电平。由于只有d? 一根线与W?
间接有二极管，所以这个二极管导通后使
d?为高电平，而d?、d?和d?为低电平。
于是在数据输出端得到 D?D?D?D?=
表7.2.1 图7.2.2 ROM中的数据表
地址 数据
A?A? D? D? D? D?
0 0 0 1 0 1
0 1 1 0 1 1
1 0 0 1 0 0
1 1 1 1 1 0
0100。全部4个地址内的存储内容列于
表7.2.1中。
不难看出，字线和位线的每个交叉点都是一个存储单元。交点处接有二极
358 第七章 半导体存储器
Vcc
A?
Ai×
A?-
W?
地址译码器
W? W? W?
do
D?
存储矩阵 D?
D?
D?
EN'·
图7.2.2 二极管ROM的电路结构图
管时相当于存1,没有接二极管时相当于存0。交叉点的数目也就是存储单元
数。习惯上用存储单元的数目表示存储器的存储量(或称容量),并写成“(字
数)×(位数)”的形式。例如，图7.2.2中ROM的存储量应表示成“4×4位”。
从图7.2.2中还可以看到，ROM的电路结构很简单，所以集成度可以做得
很高，而且一般都是批量生产，价格便宜。
采用MOS工艺制作 ROM时，译码器、存储矩阵和输出缓冲器全用MOS管
组成。图7.2.3给出了MOS管存储矩阵的原理图。在大规模集成电路中MOS
管多做成对称结构，同时也为了画图的方便，一般都采用图中所用的简化画法。
图7.2.3中以N沟道增强型MOS管代替了图7.2.2中的二极管。字线与
位线的交叉点上接有MOS管时相当于存1,没有接MOS管时相当于存0。
当给定地址代码后，经译码器译成Wo~W?中某一根字线上的高电平，使接
在这根字线上的MOS管导通，并使与这些MOS管漏极相连的位线为低电平，经
输出缓冲器反相后，在数据输出端得到高电平，输出为1。图7.2.3存储矩阵中
所存的数据与表7.2.1中的数据相同。
7.2 只读存储器(ROM) 359
W? W? W? W?
VDop-
工
D?
D?
名 D?
D?
EN'-
图7.2.3 用MOS管构成的存储矩阵
7.2.2 可编程只读存储器(PROM)
在开发数字电路新产品的工作过程中，设计人员经常需要按照自己的设想
迅速得到存有所需内容的ROM。这时可以通过将所需内容自行写入 PROM而
得到要求的ROM。
PROM的总体结构与掩模ROM一样，同样由存储矩阵、地址译码器和输出
电路组成。不过在出厂时已经在存储矩阵的所有交叉点上全部制作了存储元
件，即相当于在所有存储单元中都存入了1。
图7.2.4是熔丝型PROM存储单元的原理图，它由一只三极管和串在发射
极的快速熔断丝组成。三极管的be 结相当于接在字线与位线之间的二极管。
熔丝用很细的低熔点合金丝或多晶硅导线制成。在写入数据时只要设法将需要
存入0的那些存储单元上的熔丝烧断就行了。因为这种熔丝在集成电路中所占
的面积较大，所以后来又出现了所谓“反熔丝结构”的PROM。反熔丝结构
PROM中的可编程连接点上不是熔丝，而是一个绝缘连接件(通常用特殊的绝缘
材料或两个反相串联的肖特基势垒二极管)。未编程时所有的连接件均不导
通，而在连接件上施加编程电压以后，绝缘被永久性击穿，连接点的两根导线被
接通。
图7.2.5是一个16×8位PROM的结构原理图。编程时首先应输入地址代
码，找出要写入0的单元地址。然后使Vcc和选中的字线提高到编程所要求的高
电平，同时在编程单元的位线上加入编程脉冲(幅度约20 V,持续时间约十几微
秒)。这时写入放大器Aw的输出为低电平、低内阻状态，有较大的脉冲电流流
过熔丝，将其熔断。正常工作时读出放大器AR输出的高电平不足以使Dz导
360 第七章 半导体存储器
通，Aw不工作。
Vcc
Wo
A?·
A?
A? 地址译码器 …
…
: :
…
: : : :
存
A
储
A?· Wisi
Vcc 矩阵
字线 Aw
熔丝 读/写j
放大器 Dz
位线
D? D? D? D? D? D? D? D?
图7.2.4 熔丝型PROM
的存储单元
图7.2.5 PROM的结构原理图
可见，PROM的内容一经写入以后，就不可能修改了，所以它只能写入一次。
因此，PROM仍不能满足研制过程中经常修改存储内容的需要。这就要求生产
一种可以擦除重写的ROM。
7.2.3 可擦除的可编程只读存储器(EPROM)
由于可擦除的可编程ROM(EPROM)中存储的数据可以擦除重写，因而在
需要经常修改ROM中内容的场合它便成为一种比较理想的器件。
最早研究成功并投入使用的EPROM是用紫外线照射进行擦除的，并被称
之为EPROM。因此，现在一提到EPROM就是指的这种用紫外线擦除的可编程
ROM(Ultra-Violet Erasable Programmable Read- Only Memory,简 称UVE PROM)。
不久又出现了用电信号可擦除的可编程ROM(Electrically Erasable Pro grammable Read -Only Memory,简称 E2PROM)。后来又研制成功了新一代的电
7.2 只读存储器(ROM)361
信号擦除的可编程ROM——快闪存储器(Flash Memory)。
一、EPROM(UVEPROM)
EPROM与前面已经讲过的PROM在总体结构形式上没有多大区别，只是
采用了不同的存储单元。EPROM中采用叠栅注人MOS管(Stacked -gate Injuc tion Metal-Oxide-Semiconductor,简称SIMOS管)制作的存储单元。
图7.2.6是SIMOS管的结构原理图和符号。它是一个N沟道增强型的MOS
管，有两个重叠的栅极——控制栅G。和浮置栅G。控制栅G。用于控制读出和
写入，浮置栅G用于长期保存注入电荷。
S- GG。 D
SiO?
D
N+ N+ Ge
P G S
图7.2.6 SIMOS管的结构和符号
浮置栅上未注入电荷以前，在控制栅上加入正常的高电平能够使漏一源之
间产生导电沟道，SIMOS管导通。反之，在浮置栅上注入了负电荷以后，必须在
控制栅上加入更高的电压才能抵消注入电荷的影响而形成导电沟道，因此在栅
极加上正常的高电平信号时SIMOS管将不会导通。
当漏-源间加以较高的电压(约+20～+25V)时，将发生雪崩击穿现象。
如果同时在控制栅上加以高压脉冲(幅度约+25V,宽度约50 ms),则在栅极电
场的作用下，一些速度较高的电子便穿越 SiO?层到达浮置栅，被俘置栅俘获而
形成注入电荷。浮置栅上注入了电荷的SIMOS管相当于写入了1,未注入电荷的
相当于存入了0。漏极和源极间的高电压去掉以后，由于浮置栅被SiO?绝缘层
包围，注入到浮置栅上的电荷没有放电通路，所以能长久保存下来。在+125℃
的环境温度下，70??上的电荷能保存10年以上。
如果用一定波长的紫外线或X射线照射SIMOS管的栅极氧化层，则SiO?
层中将产生电子一空穴对，为浮置栅上的电荷提供泄放通道，使之放电，这个过
程称为擦除。擦除时间约需 20~30 min。为便于擦除操作，在器件外壳上装有
透明的石英盖板。在写好数据以后应使用不透明的胶带将石英盖板遮蔽，以防
止数据丢失。
图7.2.7,是用SIMOS管组成的EPROM,写入数据时漏极和控制栅极的控制
电路没有画出。这是一个256×1位的EPROM,256个存储单元排列成16×16
矩阵。输入地址的高4位加到行地址译码器上，从16行存储单元中选出要读的
362 第七章 半导体存储器
一行。输入地址的低4位加到列地址译码器上，再从选中的一行存储单元中选
出要读的一位。如果这时EN'=0,则这一位数据便出现在输出端上。
Vpp
A?-
A?-
A?-
A?-
A?-
A?-
A?
Ao-
行地址译码器
列地址译码器
Wo
…
16×16
存储矩阵
W??
B?
:
B15| 输出缓冲器
EN'-
D
图7.2.7 使用SIMOS管的256×1位EPROM
EPROM的编程(写入)需要使用编程器完成。编程器是用于产生EPROM
编程所需要的高压脉冲信号的装置。编程时将EPROM插到编程器上，并将准
备写入 EPROM的数据表装入编程器的随机存储器中，然后启动编程程序，编程
器便将数据逐行地写入 EPROM中。EPROM的擦除在擦除器中进行。擦除器
中的紫外线灯产生一定强度的紫外线，经过一定时间的照射后，即可将存储的数
据擦除。
二、E2PROM
虽然用紫外线擦除的EPROM具备了可擦除重写的功能，但擦除操作复杂，
擦除速度很慢。为克服这些缺点，又研制成了可以用电信号擦除的可编程
ROM,这就是通常所说的E2PROM。
在E2PROM的存储单元中采用了一种称为浮栅隧道氧化层MOS管(Floa-
7.2 只读存储器(ROM)363
ting gate Tunnel Oxide,简称 Flotox管),它的结构如图7.2.8所示。
S G. D
G?
D
N+ N+ Ge
P G S
隧道区
图7.2.8 Flotox管的结构和符号
Flotox管与SIMOS管相似，它也属于N沟道增强型的MOS管，并且有两个栅
极——控制栅G。和浮置栅G。所不同的是Flotox 管的浮置栅与漏区之间有一
个氧化层极薄(厚度在2×10-?m以下)的区域。这个区域称为隧道区。当隧道
区的电场强度大到一定程度时(>10'V/cm),便在漏区和浮置栅之间出现导电
隧道，电子可以双向通过，形成电流。这种现象称为隧道效应。
加到控制栅G。和漏极D上的电压是通过浮置栅-漏极间的电容和浮置
栅一控制栅间的电容分压加到隧道区上的。为了使加到隧道区上的电压尽量
大，需要尽可能减小浮置栅和漏区间的电容，因而要求把隧道区的面积做得非常
小。可见，在制作Flotox 管时对隧道区氧化层的厚度、面积和耐压的要求都很
严格。
为了提高擦、写的可靠性，并保护隧道区超薄氧化层，在E2PROM的存储单
元中除Flotox管以外还附加了一个选通管，如图
W?(字线)
7.2.9所示。图中的T?为Flotox管(也称为存储
管),T?为普通的N沟道增强型MOS管(也称为选
通管)。根据浮置栅上是否充有负电荷来区分单
元的1或0状态。
D? T?
Gc- T? 位线)
图7.2.10给出了E2PROM存储单元在三种不
同工作状态下各个电极所加电压的情况。
S?
B
在读出状态下，G。上加+3V电压，字线W
给出+5V的正常高电平，如图7.2.10(a)所示。 图7.2.9 E2PROM的存储单元
这时选通管T?导通，如果Flotox 管的浮置栅上没充有负电荷，则T?导通，在位
线B,上读出0(低电平);如果Flotox管的浮置栅上充有负电荷，则T?截止，B,
上读出1(高电平)。这样就免除了每次读出时都要在栅极上施加脉冲电压，可
以延长隧道区超薄氧化层的寿命。
在擦除状态下，Flotox管的控制栅G。和字线W;上加+20 V左右、宽度约
364 第七章 半导体存储器
+5V +20v 0V +20v
+20v几
W; w; W,
T? +3VG T? +20vLcM T? T?
T? 0vG T?
B, B, B,
(a) (b) (c)
图7.2.10 E2PROM存储单元的三种工作状态
(a)读出状态 (b)擦除(写1)状态(c)写入(写0)状态
10 ms的脉冲电压，漏区接0电平，如图7.2.10(b)所示。这时经G。-G间电容
和G?-漏区电容分压在隧道区产生强电场，吸引漏区的电子通过隧道区到达浮
置栅，形成存储电荷，使Flotox管的开启电压提高到+7V以上，成为高开启电压
管。读出时G。上的电压只有+3V,Flotox管不会导通。一个字节擦除以后，所
有的存储单元均为1状态。
在写入状态下，应使写入0的那些存储单元的Flotox管浮置栅放电。为此，
在写入0时令控制栅G。为0电平，同时在字线W;和位线B,上加+20V左右、
宽度约10 ms的脉冲电压，如图7.2.10(c)所示。这时浮置栅上的存储电荷将
通过隧道区放电，使Flotox管的开启电压降为0V左右，成为低开启电压管。读
出时G。上加+3V电压，Flotox管为导通状态。
虽然E2PROM改用电压信号擦除了，但由于擦除和写入时需要加高电压脉
冲，而且擦、写的时间仍较长，所以在系统的正常工作状态下，E2PROM仍然只能
工作在它的读出状态，作ROM使用。
三、快闪存储器(Flash Memory)
从上面对E2PROM的介绍中可以看到，为了提高擦除和写入的可靠性，
E2PROM的存储单元用了两只MOS管。这无疑将限制了E2PROM集成度的进一
步提高。而快闪存储器则采用了一种类似于EPROM的单管叠栅结构的存储单
元，制成了新一代用电信号擦除的可编程ROM。
快闪存储器既吸收了EPROM结构简单、编程可靠的优点，又保留了E2PROM
用隧道效应擦除的快捷特性，而且集成度可以做得很高。图7.2.11是快闪存储
器采用的叠栅MOS管的结构示意图。它的结构与EPROM中的SIMOS管极为相
似，两者最大的区别是浮置栅与衬底间氧化层的厚度不同。在EPROM中这个氧
7.2 只读存储器(ROM)365
化层的厚度一般为30~40 nm,而在快闪存储器中仅为10～15 nm。而且浮栅与
源区重叠的部分是由源区的横向扩散形成的，面积极小，因而浮置栅-源区间的
电容要比浮置栅-控制栅间的电容小得多。当控制栅和源极间加上电压时，大
部分电压都将降在浮置栅与源极之间的电容上。快闪存储器的存储单元就是用
这样一只单管组成的，如图7.2.12所示。
S G. GD
D
N+ N+ G P S
隧道区
图7.2.11 快闪存储器中的叠栅MOS管
在读出状态下，字线给出+5V的逻辑高电平，存储单元公共端Vss为0电
平。如果浮置栅上没有充电，则叠栅MOS管导通，位线上输出低电平；如果浮置
栅上充有负电荷，则叠栅MOS管截止，位线上输出
高电平。 位线
快闪存储器的写入方法是利用雪崩注入的方
法使浮栅充电的。在写入状态下，叠栅MOS管的
漏极经位线接至一个较高的正电压(一般为
6 V),Vss接0电平，同时在控制栅上加一个幅度
12 V左右、宽度约10 μs的正脉冲。这时D-S
间将发生雪崩击穿，一部分速度高的电子便穿过
氧化层到达浮置栅，形成浮置栅充电电荷。浮置
栅充电后，叠栅MOS管的开启电压为7V以上，字
线为正常的逻辑高电平时它不会导通。
字线 W
D
Ge S
-Vss
B,
图7.2.12 快闪存
储器的存储单元
快闪存储器的擦除操作是利用隧道效应进行的，在这一点上又类似于
E2PROM写入0时的操作。在擦除状态下，令控制栅处于0电平，同时在源极Vs
加入幅度为12V左右、宽度约100 ms的正脉冲。这时在浮置栅与源区间极小
的重叠部分产生隧道效应，使浮置栅上的电荷经隧道区释放。浮置栅放电后，叠
栅MOS管的开启电压在2V以下，在它的控制栅上加+5V的电压时一定会
导通。
对于采用如图7.2.3所示的或门结构形式快闪存储器，其中所有的源极都
是连在一起的，所以当在源极上加高电压进行擦除时，所有字线为零的那些字节
366 第七章 半导体存储器
中的存储单元将同时被擦除。利用这个特点，在对一个大容量快闪存储器进行
擦除时，就可以将它划分成几个区。每次将一个区内的全部存储单元一次同时
擦除，从而大大提高了擦除速度。相比之下，编程写人的速度要慢得多。因此，
它不能满足随时进行快速写入和读出的要求，通常情况下仍然作为只读存储器
使用。
快闪存储器的编程和擦除操作不需要使用编程器，写入和擦除的控制电路
集成于存储器芯片中，工作时只需要5V的低压电源，使用极其方便。
由于叠栅MOS管浮置栅下面的氧化层极薄，经过多次编程以后可能发生损
坏，所以目前快闪存储器的编程次数是有限的，一般在10 000～100 000次之间。
随着制造工艺的改进，可编程的次数有望进一步增加。
自从20世纪80年代末期快闪存储器问世以来，便以其高集成度、大容量、
低成本和使用方便等优点而引起普遍关注。产品的集成度在逐年提高，64 M位
以上的产品已经面市。应用领域迅速扩展，它不仅取代了从前普遍使用的软磁
盘，而且有可能在不久的将来成为较大容量磁性存储器(例如 PC机中的硬磁
盘)的替代产品。
复习思考题
R7.2.1 既然快闪存储器能够擦除后改写(重新编程),为什么还把它归类到只读存储
器当中呢?
7.3 随机存储器(RAM)
随机存储器也称随机读/写存储器，简称RAM。在RAM工作时可以随时从
任何一个指定地址读出数据，也可以随时将数据写入任何一个指定的存储单元
中去。它的最大优点是读、写方便，使用灵活。但是，它也存在数据易失性的缺
点(即一旦停电以后所存储的数据将随之丢失)。RAM又分为静态随机存储器
SRAM和动态随机存储器 DRAM两大类。
7.3.1 静态随机存储器(SRAM)
一、SRAM的结构和工作原理
SRAM电路通常由存储矩阵、地址译码器和读/写控制电路(也称输入/输出
7.3 随机存储器(RAM)367
电路)三部分组成，如图7.3.1所示。
A?-
:
A?
行地址译码器 存储矩阵 读写控制电路 1/O
列地址译码器 CS'R/W
…
A+1 A-1
图7.3.1 SRAM的结构框图
存储矩阵由许多存储单元排列而成，每个存储单元能存储1位二值数据(1
或0),在译码器和读/写电路的控制下，既可以写入1或0,又可以将存储的数据
读出。
地址译码器一般都分成行地址译码器和列地址译码器两部分。行地址译码
器将输入地址代码的若干位译成某一条字线的输出高、低电平信号，从存储矩阵
中选中一行存储单元；列地址译码器将输入地址代码的其余几位译成某一根输
出线上的高、低电平信号，从字线选中的一行存储单元中再选1位(或几位),使
这些被选中的单元经读/写控制电路与输入/输出端接通，以便对这些单元进行
读、写操作。
读/写控制电路用于对电路的工作状态进行控制。当读/写控制信号R/W'
=1时，执行读操作，将存储单元里的数据送到输入/输出端上。当R/W'=0时，
执行写操作，加到输入/输出端上的数据被写入存储单元中。图中的双向箭头表
示一组可双向传输数据的导线，它所包含的导线数目等于并行输入/输出数据的
位数。多数RAM集成电路是用一根读/写控制线控制读/写操作的，但也有少
数的RAM集成电路是用两个输入端分别进行读和写控制的。
在读/写控制电路上都设有片选输入端CS'。当CS'=0时RAM为正常工作
状态；当CS'=1时所有的输入/输出端均为高阻态，不能对RAM进行读/写操作。
图7.3.2是一个1024×4位 RAM的实例——2114的结构框图，其中4096
个存储单元排列成64行×64列的矩阵。10位输入地址代码分成两组译码。
A?~A?6位地址码加到行地址译码器上，用它的输出信号从64行存储单元中选
出指定的一行。另外4位地址码加到列地址译码器上，利用它的输出信号再从
已选中的一行里挑出要进行读/写的4个存储单元。
368 第七章 半导体存储器
A?-
A?-
A?-
A? 行地址译码器
X?
X?
:
X63
3 …
3
: : :
… … … … … 存储矩阵
A?-
CS'
R/W'
…
:
读/写
控制 I/O?
:
读/写
控制 I/O?
Y?
…
Y?s :
列地址译码器
:
读/写
控制 1O?
:
:
读/写
控制 I/O4
A? A? A? A?
图7.3.2 1024×4位RAM(2114)的结构框图
I/0?~I/O?既是数据输入端又是数据输出端。读/写操作在R/W'和CS'信
号的控制下进行。当CS'=0,且R/W'=1时，读/写控制电路工作在读出状态。
这时由地址译码器选中的4个存储单元中的数据被送到I/0?~I/04。
当CS'=0,且R/W'=0时，执行写入操作。这时读/写控制电路工作在写入
工作状态，加到I/0?~I/O?端的输入数据便被写入指定的4个存储单元中去。
2114采用高速NMOS工艺制作，使用单一的+5V电源，全部输入、输出逻
辑电平均与TTL电路兼容，完成一次读或写操作的时间为100~200 ns。
若令CS'=1,则所有的I/0端均处于禁止态，将存储器内部电路与外部连
线隔离。因此，可以直接将I/0?~I/0?与系统总线相连，或将多片2114的输
入/输出端并联运用。
二、SRAM的静态存储单元
静态存储单元是在SR 锁存器的基础上附加门控管而构成的。因此，它是
靠锁存器的自保功能存储数据的。
图7.3.3是用六只N沟道增强型MOS管组成的静态存储单元。其中的T?~
7.3 随机存储器(RAM)369
X
VpD
Q
P?T?I Q 存储单元 T? B; T? T?T? B,
Y,
T? T?
A? A?
A?
CS'- 读1写控制电路
R/W I/O
图7.3.3 六管NMOS静态存储单元
T?组成 SR 锁存器，用于记忆1位二值代码。T?和T?是门控管，作模拟开关使用，
以控制锁存器的Q、Q'和位线B,、B;之间的联系。T?、T?的开关状态由字线X;的
状态决定。X;=1时T?、T?导通，锁存器的Q和Q'端与位线B,、B;接通；X,=0时
Ts、T?截止，锁存器与位线之间的联系被切断。T,、T?是每一列存储单元公用的两
个门控管，用于和读/写缓冲放大器之间的连接。T?、T?的开关状态由列地址译码
器的输出Y;来控制，Y;=1时导通，Y;=0时截止。
存储单元所在的一行和所在的一列同时被选中以后，X,=1、Y;=1,T?、T?、
T?、T?均处于导通状态。Q和Q'与B;
X 和B'接通。如果这时CS'=0、R/W' VDD
=1,则读/写缓冲放大器的A,接通、 T? T? A?和A?截止，Q端的状态经A,送到
I/O端，实现数据读出。若此时CS' T? T? T? T? B, =0、R/W'=0,则A,截止、A?和A? B;
导通，加到I/O端的数据被写入存储
单元中。
由于CMOS 电路具有微功耗的
特点，尽管它的制造工艺比 NMOS电
路复杂，但在大容量的静态存储器中
几乎都采用 CMOS 存储单元。图
7.3.4是CMOS静态存储单元的电路，
Y,
D D
图7.3.4 六管CMOS静态存储单元
370 第七章 半导体存储器
它的结构形式与工作原理与图7.3.3相仿，所不同的是在CMOS静态存储单元
中，两个反相器的负载管T?和T?改用了P沟道增强型MOS管。图中用栅极上
的小圆圈表示T?、T?为P沟道MOS管，而栅极上没有小圆圈的为N沟道MOS管。
采用CMOS工艺的SRAM不仅正常工作时功耗很低，而且还能在降低电源
电压的状态下保存数据，因此它可以在交流供电系统断电后用电池供电以继续
保持存储器中的数据不致丢失，用这种方法弥补半导体随机存储器数据易失的
缺点。例如，Intel公司生产的超低功耗CMOS工艺的SRAM5101L用+5V电源
供电，静态功耗仅1~2μW。如果将电源电压降至+2V使之处于低压保持状
态，则功耗可降至0.28 μW。
双极型SRAM的静态存储单元也有各种不同的电路结构形式，大体上分属
于射极读/写存储单元、集电极读/写存储单元和集成注入逻辑存储单元三种类
型。其中用得较多的是射极读/写存储单元，主要用在一些高速系统(如 ECL系
统)当中。这种存储单元的工作速度很快，但功耗较大。
图7.3.5是射极读/写存储单元的一个典型电路，它是由两个双极型多发射
极三极管T?、T?和两个集电极负载电阻R?、R?组成的锁存器。一对发射极e、
e?,与行地址译码器的输出线(字线)X Vcc(+3.5V)
相连，另一对发射极e?2、e?2接到互补的
位线B和B'上。电源电压Vcc通常取 R R?÷
3~3.5V,位线的偏置电压VBB约1.4V。
在保持状态下，字线X为低电平， B' B
低于0.3V,而位线B和B'为1.4V左
右，因此导通管的发射极电流由字线流
出，而与位线相连的两个发射极e?2和
e??处于反向偏置状态，将存储单元与位
线隔离。存储单元的状态可以是T?截
止、T?导通(定义为1状态),也可以是
T,导通、T?截止(定义为0状态)。
e22 e12
e21 T? T? en
-X
I? R? R?
L?
VBB(+1.4V)
图7.3.5 双极型RAM的静态存储单元
进行读出时，字线被提高至+3V,高于位线的1.4V,因而导通管的电流转
而从位线流出。这时只需检测其中一根位线(B或B')上是否有电流流出，便能
判断存储单元原来的状态是1还是0。例如对位线B'的电流进行检测，如果存
储单元为1状态，则T?导通，B'线在读出时有电流I,流出。如果存储单元是0
状态，则T?导通，B'线在读出时没有电流流出，I?=0。将B'线上检测到的电流
经读出放大器加以放大，就变成了高、低电平的输出电压信号了。
这种读出方式为非破坏性读出，即读出数据以后并不破坏存储单元原来的
7.3 随机存储器(RAM)371
状态。假定存储单元原为1状态，则T?导通、T,截止。因此，当字线上升为3V
时e,和e??必然截止，而e?2的电流流入位线B'。若T?导通后c-e间的压降小
于0.3V,那么c?的电位(也就是b?的电位)将低于1.7V,不足以使e1?导通，故
T,保持原来的截止状态。当字线回到低电平以后，流经e22的电流转向字线X,
并使c?的电位跟随字线下降，锁存器继续保持1状态不变。
进行写入时首先也使字线变为+3V,如果要求写入1,则加到存储器输入/
输出端的信号经写入放大器转换后给出B=1、B'=0的电压信号，使T,截止、T?
导通，锁存器被置1。反之，如果要求写入0,则给出B=0、B'=1,将锁存器置0。
*7.3.2 动态随机存储器(DRAM)
一、DRAM的动态存储单元
RAM的动态存储单元是利用MOS管栅极电容可以存储电荷的原理制成的。
由于存储单元的结构能做得非常简单，所以在大容量、高集成度的RAM中得到
了普遍的应用。但由于栅极电容的容量很小(通常仅为几皮法),而漏电流又不
可能绝对等于零，所以电荷保存的时间有限。为了及时补充漏掉的电荷以避免
存储的信号丢失，必须定时地给栅极电容补充电荷，通常将这种操作称为刷新或
再生。因此，DRAM工作时必须辅以必要的刷新控制电路(控制电路通常是做
在DRAM芯片内部的),同时也使操作复杂化了。尽管如此，DRAM仍然是目前
大容量RAM的主流产品。
早期采用的动态存储单元为四管电路或三管电路。这两种电路的优点是外
围控制电路比较简单，读出信号也比较大，而缺点是电路结构仍不够简单，不利
于提高集成度。单管动态存储单元是所有存储单元中电路结构最简单的一种。
虽然它的外围控制电路比较复杂，但由于在提高集成度上所具有的优势，使它成
为目前所有大容量DRAM首选的存储单元。
图7.3.6是单管动态MOS存储单元的电路结
构图。存储单元由一只N沟道增强型MOS管T和
一个电容Cs组成。
字线 X
位
在进行写操作时，字线给出高电平，使T导
通，位线上的数据便经过T被存入Cs中。
T
线 Cs
主CB
B
图7.3.6 单管动态
MOS存储单元
在进行读操作时，字线同样应给出高电平，并
使T导通。这时Cs经T向位线上的电容CB提供
电荷，使位线获得读出的信号电平。设Cs上原来
存有正电荷，电压vcs为高电平，而位线电位 vg=
0,则执行读操作以后位线电平将上升为
372 第七章 半导体存储器
=cs+C"C (7.3.1)
因为在实际的存储器电路中位线上总是同时接有很多存储单元，使CB>Cs,所
以位线上读出的电压信号很小。
例如，读出操作以前vcs=5V,Cs/CB=1/50,则位线上的读出信号将仅有
0.1V。而且在读出以后Cs上的电压也只剩下0.1V,所以这是一种破坏性读
出。因此，需要在DRAM中设置灵敏的读出放大器，一方面将读出信号加以放
大，另一方面将存储单元里原来存储的信号恢复。
二、灵敏恢复/读出放大器
DRAM中的单管动态存储单元也是按行、列排成矩阵式结构，并且在每根位
线上接有灵敏恢复/读出放大器。图7.3.7是一个灵敏恢复/读出放大器的原理
性电路图，它包含一个由T?~T?组成的锁存器和三个控制管T?、T?和T?。放大
器的一个输出端与位线B和存储单元相连，另一个输出端接至一个虚单元上。
虚单元的存储电容Cp上存入一个介于高、低电平之间的参考电平VR。
VR
T? T?
中w- 中R Vop 字线
vcs 存储单元
T4 T? TR Ts Cs T?]H T? 上5
VR
Vss 位线 中s-I T? 位线 中 Vss
虚单元
CB空 T
CB
B B'
图7.3.7 DRAM中的灵敏恢复/读出放大器
图7.3.8中画了读出过程中B、B'和vcs的电压波形。读出过程在一组顺序
产生的时钟信号控制下进行。首先中R、中F给出正脉冲，使T?、T?、TR导通，位线
B、B'和CF均被充电至VR。当字线选通脉冲φw到达后，存储单元的开关管Ts
和虚单元的开关管T,同时都导通。如果Cs上没有存储电荷(记忆的是0状
态),则CB经Ts向Cs放电，vcs上升而位线B的电位逐渐下降。当时钟信号φs
到达后，位线B和B'间的电位差被T?和T?组成的正反馈电路放大。最后中L
脉冲使T?和T?导通，将B'提升到正常的逻辑高电平，而B下降到正常的逻辑
7.3 随机存储器(RAM)373
低电平。在φw正脉冲消失以后，Cs恢复为读出前的0状态。
B,B'vc? B,B'vc。
中R,中 中w 中s 中 中R,中 中w 中s 中L
B' Vc? B
VR VR
Vc? B B'
0 t 0 t
(a) (b)
图7.3.8 灵敏恢复/读出放大器的读出过程
(a)读出0的情况 (b)读出1的情况
如果φw正脉冲到达时Cs上存有电荷，vcs为高电平(记忆的是1状态),则
Cs经Ts向CB放电，使位线B的电位上升。在φs正脉冲到达后，B和B'间的电
位差被T,和T?组成的正反馈电路放大。然后在φ正脉冲到来后将B提升到
正常的逻辑高电平而B'降低到正常的逻辑低电平。φw回到低电平以后vcs保持
高电平，Cs恢复为读出前的1状态，所存储的1得到刷新。
由此可见，使用了图7.3.7所示的灵敏恢复/读出放大器之后，在每次读出
数据的同时也完成了对存储单元原来所存数据的刷新。因此，DRAM中的刷新
操作是通过按行依次执行一次读操作来实现的。刷新时输出被置成高阻态。
三、DRAM的总体结构
为了在提高集成度的同时减少器件引脚的数目，目前的大容量DRAM多半
都采用1位输入、1位输出和地址分时输入的方式。
图7.3.9是一个64 K×1位 DRAM总体结构的框图。从总体上讲，它仍然
包含存储矩阵、地址译码器和输入/输出电路三个组成部分。
存储矩阵中的单元仍按行、列排列。为了压缩地址译码器的规模，经常将存
储矩阵划分为若干块。例如，图7.3.9的例子中是将存储矩阵划分为(1)、(2)
两个128行、256列的矩阵。
在采用地址分时输入的DRAM中，地址代码是分两次从同一组引脚输入
的。分时操作由RAS'和CAS'两个时钟信号来控制。首先令RAS'=0,输入地址
代码的A。~A,位，然后令CAS'=0,再输人地址代码的Ag~A?5位。A。~A?被送
到行地址译码器并被锁存，A,送入对应的寄存器。行地址译码器的输出同时从
存储矩阵(1)和存储矩阵(2)中各选中一行存储单元，然后再由A,通过输入/输
374 第七章 半导体存储器
A? A,寄存器 输入缓冲器 -Dn
A?(A?)
A?(A9)
A?A?0)
A?A)
A?(A?2
A?(A?3)
A?A?4)
A7(A1s)
地址输入缓冲器 行地址译码器 存储矩阵(1)
256×128
灵敏
读放
存储矩阵(2)
256×128
灵敏
读放
输出锁存器 输出缓冲器 Dour
Ag~A??
列地址译码器 时钟发生器
RAS'CAS'WE'
图7.3.9 DRAM的总体结构框图
出电路从两行中选出一行。A?~A?5被送往列地址译码器，列地址译码器的输出
从256列中选中一列。
当WE'=1时进行读操作，被输入地址代码选中单元中的数据经过输出锁
存器、输出三态缓冲器到达数据输出端DouT。当WE'=0时进行写操作，加到数
据输入端D?N的数据经过输入缓冲器写入由输入地址指定的单元中去。
复习思考题
R7.3.1 静态随机存储器和动态随机存储器的根本区别是什么?它们各有何优、缺点?
各适用于什么场合?
R7.3.2 RAM和ROM的主要区别是什么?它们各适用于哪些场合?
7.4 存储器容量的扩展
当使用一片ROM或RAM器件不能满足对存储容量的要求时，就需要将若
干片ROM或RAM组合起来，形成一个容量更大的存储器。
7.4.1 位扩展方式
如果每一片ROM或RAM中的字数已经够用而每个字的位数不够用，则应
采用位扩展的连接方式，将多片ROM或RAM 组合成位数更多的存储器。
7.4 存储器容量的扩展 375
RAM的位扩展连接方法如图7.4.1所示。在这个例子中，用8片1024×1
位的 RAM接成了一个1024×8位的 RAM。
I/O? I/O?
…
1/O?
A°
:
A?-
R/W CS'一
I/O
1024×1
RAM
A?A,… A?R/W'CS
…
图7.4.1 RAM的位扩展接法
连接的方法十分简单，只需将8片的所有地址线、R/W'、CS'分别并联起来
就行了。每一片的I/0端作为整个RAM输入/输出数据端的一位。总的存储容
量为每一片存储容量的8倍。
ROM芯片上没有读/写控制端R/W',在进行位扩展时其余引出端的连接方
法和 RAM完全相同。
7.4.2 字扩展方式
如果每一片存储器的数据位数够用而字数不够用，则需要采用字扩展方式，
将多片存储器(RAM或ROM)芯片接成一个字数更多的存储器。
图7.4.2是用字扩展方式将4片256×8位的RAM接成一个1024×8位
RAM的例子。因为4片中共有1024个字，所以必须给它们编成1024个不同的
地址。然而每片集成电路上的地址输入端只有8位(A。~A?),给出的地址范围
全都是0~255,无法区分4片中同样的地址单元。
因此，必须增加两位地址代码Ag、A?,使地址代码增加到10位，才能得到
21?=1024个地址。如果取第一片的A?Ag=00,第二片的A?A?=01,第三片的
A?A?=10,第四片的A?Ag=11,那么4片的地址分配将如表7.4.1中所示。
由表7.4.1可见，4片RAM的低8位地址是相同的，所以接线时将它们分
别并联起来就行了。由于每片RAM上只有8个地址输入端，所以Ag、A,的输入
端只好借用CS'端。图中使用2线-4线译码器将A?A?的4种编码00、01、10、
11分别译成Y!、Y、Y2、Y34个低电平输出信号，然后用它们分别去控制4片
RAM的CS'端。
I/O
1024×1
RAM
A?A?… A,R/W'CS
I/O
1024×1
RAM
A?A?… A?R/W'CS
…
376 第七章 半导体存储器
I/O?
:
I/O?
I/O?
…
I/O?| VO,
…
I/O? I/O?
…
I/O? 2k6M8(1) 256×8
RAM (2) 2R6M8(3)
A?A?… A?R/W'CS A?A?… A?R/W'CS A?A?… A?R/W'CS
Ai
:
VO, I/O?
…
2R6×8
A?A?… A?R/W'CS
(4)
… … …
CS'
A?
R/W'.
A?
A? Y?
Y1
Yo
Y?
Y
Y?
Y3
Y6
2线-4线译码器
图7.4.2 RAM的字扩展接法
表7.4.1 图7.4.2中各片RAM电路的地址分配
器件
编号 A?A? Y! Y Y2Y3 地址范围A? AgA, A?A? A? A? A?A? A。
(等效十进制数)
\可1 FHJ
RAM 00 0 1 1 1
00 00000000~00 11111111
(1) (0) (255)
RAM 01 1 1 0 1
01 00000000 ~ 01 11111111
(2) (256) (511)
RAM 10 1 0 1 1
10 00000000 ~10 11111111
(3) (512) (767)
RAM 11 1 0 1 1
11 00000000 ~ 11 11111111
(4) (768) (1023)
此外，由于每一片RAM的数据端I/0?~I/O?都设置了由CS'控制的三态输
出缓冲器，而现在它们的CS'任何时候只有一个处于低电平，故可将它们的数据
端并联起来，作为整个 RAM的8位数据输入/输出端。
上述字扩展接法也同样适用于ROM电路。
如果一片RAM或ROM的位数和字数都不够用，就需要同时采用位扩展和
字扩展方法，用多片器件组成一个大的存储器系统，以满足对存储容量的要求。
复习思考题
R7.4.1 在图7.4.2的例子中，可否改用A?A。译出Y?3信号，而将A?~A,接到各片
7.5 用存储器实现组合逻辑函数 377
RAM的A。~A,输入端?
7.5 用存储器实现组合逻辑函数
表7.5.1是一个ROM的数据表。如果将输入地址A,和A。视为两个输入
逻辑变量，同时将输出数据D?、D?、D?和D?视为一组输出逻辑变量，则D?、D?、
D?和D?就是一组A?、A?的组合逻辑函数，表7.5.1也就是这一组多输出组合
逻辑函数的真值表。
表7.5.1 一个ROM的数据表
A? A。 D? D? D? D? A?A。
1 1 0 0
1 0 1 1
0 1
1 1
D? D? D? D?
0 0 0 1 1 0
0 1 1 1 0 0
另外，由图7.2.2所示ROM的电路结构图上也可以看到，其中译码器的输
出包含了输入变量全部的最小项，而每一位数据输出又都是若干个最小项之和，
因而任何形式的组合逻辑函数均能通过向ROM中写入相应的数据来实现。
不难推想，用具有 n位输入地址、m位数据输出的ROM可以获得一组(最
多为m个)任何形式的n变量组合逻辑函数，只要根据函数的形式向ROM中写
入相应的数据即可。这个原理也适用于RAM。
【例7.5.1】 试用ROM设计一个八段字符显示的译码器，其真值表由表
7.5.2给出。
输 入
D C B A
0000
0001
表7.5.2 例7.5.1的真值表
输 出
a b c d e f g h
1 1 1 1 0 1
011 000
11
01
字 形
j-nri
378 第七章 半导体存储器
续表
输 入 输 出
ab c d e f g h
1 1 0 0 1 1 0 1
。
1。
11110111
1 1 1 11 0 1 0
0 11111。
。。。。
0
.
字 形 D C B A
0100
0101
0110
0111
1100
11。1
1110
1111 ni…-ggno…c8…3
a
f| 9
e|8
d
c
●h
解：由给定的真值表可见，应取输入地址为4位、输出数据为8位的(16×
8位)ROM来实现这个译码电路。以地址输入端A?、A?、A?、A。作为BCD代码的
D、C、B、A 4位的输入端，以数据输出端D。~D,作为a~h的输出端，如图7.5.1
所示，就得到了所要求的译码器。
如果制成掩模ROM,则可依照表7.5.2画出存储矩阵的连接电路，如图
7.5.1中所示。图中以结点上接入二极管表示存入0,未接入二极管表示存入
1。由表7.5.2可以看出，由于数据中0的数目比1的数目少得多，所以用接入
二极管表示存入0比用接入二极管表示存入1要节省器件。
7.5 用存储器实现组合逻辑函数 379
Vcc
D-
C-
B-
A-
M
A?
A? 4线-16线译码器
WoW? W? W?W? W4 Ws A? W3 W4W? W?W? WW?W13 Ao Wo
存 储 矩 阵
Do)。
W (D1)b
D?)-c
(D?)-d
(D4)。一e
(Dsf
^W
D?g
W
(D?)h
EN'
图7.5.1 例7.5.1的电路
如果使用EPROM实现这个译码器，则只要将表7.5.2中左边的DCBA 当作
输入地址代码、右边的abedefg当作数据，依次对应地写入 EPROM就行了。
【例7.5.2】 试用ROM产生如下的一组多输出逻辑函数。
(7.5.1)
解：将式(7.5.1)化为最小项之和的形式得到
'BCD+A'B'CD'+A'B'CD
(7.5.2)
或写成
380 第七章 半导体存储器
(7.5.3)
取有4位地址输入、4位数据输出的16×4位ROM,将A、B、C、D4个输入
变量分别接至地址输入端A?、A?、A?、A。,按照逻辑函数的要求存入相应的数据，
即可在数据输出端D?、D?、D?、D。得到Y?、Y?、Y?、Y4。
因为每个输入地址对应一个A、B、C、D的最小项，并使地址译码器的一条输
出线(字线)为1,而每一位数据输出都是若干字线输出的逻辑或，故可按照式
(7.5.3)列出ROM存储矩阵内应存入的数据表，如表7.5.3所示。
表7.5.3 例7.5.2中ROM的数据表
函 数
最 小 项
A'B'C'D'
Y? Y? Y? Y?
0 0 0 0
0 0 0 0
1 0 0 1
1 0 0 0
0 0 1 0
0 0 0 0
1 1 0 0
1 1 0 0
0 0 0 0
0 0 0 0
0 1 0 0
0 0 0 0
W。
m。 A'B'C'D
0000
W
m? A'B'CD'
0001
W?
m?A'B'CD
0010
W?
m? 0011
A'BC'D' W?
m4 A'BC'D
0100
W?
m? ———…
A'BCD'
0101
W?
m? 0110
A'BCD W,
m? 0111
AB'C'D' W?
AB'CD
1000
W?
--
m? 1001
AB'CD' W?0
m10 1010
AB'CD W
m11 1011
7.5 用存储器实现组合逻辑函数 381
续表
函 数
最小 项
ABC'D'
Y? Y? Y? Y?
0 0 0 0
0 0 0 0
0 1 1 0
0 0 0 1
D? D? D D?
W?2
m12 1100
ABC'D W?3
m13 1101
ABCD' W?4
m14 1110
ABCD W?5
m?5 1111
地 址
数 据
如果使用EPROM实现上述一组逻辑函数，则只要按表7.5.3将所有的数据写
入对应的地址单元即可。
在使用PROM或掩模ROM时，还可以根据表7.5.3画出存储矩阵的结点连
接图，如图7.5.2所示。为了简化作图，在接入存储器件的矩阵交叉点上画一个
圆点，以代替存储器件。图中以接人存储器件表示存1,以不接存储器件表示
存0。
A-
B.
C.
D
(A?)
(A?)
(A?)
(Ao)
(或逻辑阵列)存储矩阵
W? W? W? W? W?
W? W? W? W? W?
W? W?o
W13
W?
图7.5.2 例7.5.2的ROM点阵图
Wis
W14
地址译码器与逻辑阵列)
Y?
Y?
Y?
-Y?
一
382 第七章 半导体存储器
复习思考题
R7.5.1 在用ROM产生一组多输出组合逻辑函数时，如果 ROM的地址输人端数目大
于输入逻辑变量数，ROM的数据输出端数目大于函数输出端数，则应如何处理这些多余的地
址输入端和数据输出端?
R7.5.2 在用ROM产生一组多输出逻辑函数时，如果输入逻辑变量的数目大于ROM
地址输入端的数目，或者函数输出端的数目大于ROM数据输出端的数目，应当怎么办?
本章小结
半导体存储器是一种能存储大量数据或信息的半导体器件。由于要求存储
的数据量往往很大，而器件的引脚数目不可能无限制地增加，因而不可能将每个
存储单元电路的输入和输出端都固定地各接到一个引脚上。因此，存储器的电
路结构形式与第六章里讲的寄存器不同。
在半导体存储器中采用了按地址存放数据的方法，只有那些被输入地址代
码指定的存储单元才能与输入/输出端接通，可以对这些被指定的单元进行读/
写操作。而输入/输出端是公用的。为此，存储器的电路结构中必须包含地址译
码器、存储矩阵和输入/输出电路(或读/写控制电路)这三个组成部分。
半导体存储器有许多不同的类型。首先从读、写的功能上分成只读存储器
(ROM)和随机存储器(RAM)两大类。其次，根据存储单元电路结构和工作原
理的不同，又将ROM分为掩模 ROM、PROM、EPROM、E2PROM、快闪存储器等几
种类型；将RAM分为静态RAM和动态RAM两类。掌握各种类型半导体存储
器在电路结构和性能上的不同特点，将为我们合理选用这些器件提供理论依据。
在一片存储器芯片的存储量不够用时，可以将多片存储器芯片组合起来，构
成一个更大容量的存储器。当每片存储器的字数够用而每个字的位数不够用
时，应采用位扩展的连接方式；当每片的字数不够用而每个字的位数够用时，应
采用字扩展的连接方式；当每片的字数和位数都不够用时，则需同时采用位扩展
和字扩展的连接方式。
存储器的应用领域极为广阔，凡是需要记录数据或各种信息的场合都离不
开它。尤其在电子计算机中，存储器是必不可少的一个重要组成部分。此外，还
可以用存储器来设计组合逻辑电路。只要将地址输入作为输入逻辑变量，将数
据输出端作为函数输出端，并根据要产生的逻辑函数写入相应的数据，就能得到
习题 383
所需要的组合逻辑电路了。
除了一般常见的ROM、RAM以外，有些场合也要用到一些特殊的存储器，
例如根据移位寄存器工作原理构成的串行存储器，还有其他一些特殊类型的存
储器，本书就不一一介绍了。
[题7.1] 若存储器的容量为512 K×8位，则地址代码应取几位?
[题7.2] 某台计算机的内存储器设置有32位的地址线，16位并行数据输入/输出端，
试计算它的最大存储量是多少?
[题7.3] 试用2片1024×8位的ROM 组成1024×16位的存储器。
[题7.4] 试用4片4K×8位的RAM接成16 K×8位的存储器。
[题7.5] 试用4片2114(1024×4位的RAM)和3线-8线译码器74HC138(见图
4.3.8)组成4096×4位的RAM。
[题7.6] 试用16片2114(1024×4位的RAM)和3线-8线译码器74HC138(见图
4.3.8)接成一个8K×8位的RAM。
[题7.7] 已知 ROM的数据表如表P7.7所示，若将地址输入 A?、A?、A?、A。作为4个输
入逻辑变量，将数据输出D?、D?、D?、D。作为函数输出，试写出输出与输入间的逻辑函数式，
并化为最简与或形式。
表P7.7
A?
0
0
0
0
0
0
0
0
1
1
1
1
1
1
1
1
地 址 输 入
A? A?
0 0
0 0
0 1
0 1
1 0
1 0
1 1
1 1
0 0
0 0
0 1
0 1
1 0
1 0
1 1
1 1
A。
0
1
0
1
0
1
0
1
0
1
0
1
0
1
0
1
D?
0
0
0
0
0
0
0
1
0
0
0
1
0
1
1
0
数 据 输 出
D? D?
0 0
0 1
0 1
1 0
0 1
1 0
1 0
0 0
0 1
1 0
1 0
0 0
1 0
0 0
0 0
0 0
D?
1
0
0
0
0
0
0
0
0
0
0
0
0
0
0
1
384 第七章 半导体存储器
[题7.8] 图P7.8是一个16×4位的ROM,A?A?A?A。为地址输入，D?D?D?D。为数据输
出。若将D?、D?、D?、D。视为A?、A?、A,、A。的逻辑函数，试写出D?、D?、D?、D。的逻辑函数式。
A?-
A?-A?-
A?-
地址译码器
D?
D?
D?
D?
存储矩阵
图 P7.8
[题7.9] 用16×4位的ROM设计一个将两个2位二进制数相乘的乘法器电路，列出
ROM的数据表，画出存储矩阵的点阵图。
[题7.10] 用ROM产生下列一组逻辑函数，写出ROM中应存入的数据表。
[题7.11] 用ROM设计一个组合逻辑电路，用来产生下列一组逻辑函数。
列出ROM应有的数据表，画出存储矩阵的点阵图。
[题7.12] 用一片256×8位的ROM产生如下一组组合逻辑函数。
D+ACD
列出ROM的数据表，画出电路的连接图，标明各输入变量与输出函数的接线端。
[题7.13] 用两片1024×8位的EPROM接成一个数码转换器，将10位二进制数转换成
等值的4位二-十进制数。
习题 385
(1)试画出电路接线图，标明输入和输出。
(2)当地址输入A?A?A?A?A?A?A?A?A?A。分别为0000000000、1000000000、1111111111时，
两片EPROM中对应地址中的数据各为何值?
[题7.14] 图P7.14是用16×4位ROM和同步十六进制加法计数器74LS161组成的
脉冲分频电路，ROM的数据表如表P7.14所示。试画出在CLK信号连续作用下D?、D?、D?
和 D。输出的电压波形，并说明它们和CLK 信号频率之比。
表P7.14
地 址 输 入 数 据 输 出
A? A? A? A? D? D? D? D?
0 0 0 0 1 1 1 1
0 0 0 1 0 0 0 0
0 0 1 0 0 0 1 1
0 0 1 1 0 1 0 0
0 1 0 0 0 1 0 1
0 1 0 1 1 0 1 0
0 1 1 0 1 0 0 1
0 1 1 1 1 0 0 0
1 0 0 0 1 1 1 1
1 0 0 1 1 1 0 0
1 0 1 0 0 0 0 1
1 0 1 1 0 0 1 0
1 1 0 0 0 0 0 1
1 1 0 1 0 1 0 0
1 1 1 0 0 1 1 1
1 1 1 1 0 0 0 0
CLK-
1·
CLKET EP
Do
D?
D? 74LS161 Q0
Q?
Q?
D? A?
A?ROMD?
D?
A? EN D?
A?
输
出
D? Q?
RD LDC
1
图P7.14
第八章
可编程逻辑器件
内容提要
本章集中讲述可编程逻辑器件的原理与应用。
文中首先分别介绍FPLA、PAL、GAL、EPLD、CPLD、FPGA以及GDS等各种类型可编程
逻辑器件的结构特点、工作原理，然后概要地介绍可编程逻辑器件的编程方法。
8.1 概述
如果从逻辑功能的特点上将数字集成电路分类，则可以分为通用型和专用
型两类。前面几章里讲到的中、小规模数字集成电路(如74系列及其改进系
列、CC4000系列、74HC系列等)都属于通用型数字集成电路。它们的逻辑功能
都比较简单，而且是固定不变的。由于它们的这些逻辑功能在组成复杂数字系
统时经常要用到，所以这些器件有很强的通用性。
从理论上讲，用这些通用型的中、小规模集成电路可以组成任何复杂的数字
系统，但如果能把所设计的数字系统做成一片大规模集成电路，则不仅能减小电
路的体积、重量、功耗，而且会使电路的可靠性大为提高。这种为某种专门用途
而设计的集成电路称为专用集成电路，即所谓的ASIC(Application Specific Inte grated Circuit 的缩写)。然而，在用量不大的情况下，设计和制造这样的专用集
成电路不仅成本很高，而且设计、制造的周期也嫌太长。这是一个很大的
矛盾。
可编程逻辑器件(Programmable Logic Device,简称PLD)的研制成功为解决
这个矛盾提供了一条比较理想的途径。PLD虽然是作为一种通用器件生产的，
但它的逻辑功能是由用户通过对器件编程来设定的。而且，有些PLD的集成度
8:1 概 述 387
很高，足以满足设计一般数字系统的需要。这样就可以由设计人员自行编程而
将一个数字系统“集成”在一片PLD上，作成“片上系统”(System on Chip,简称
SoC),而不必去请芯片制造厂商设计和制作专用集成电路芯片了。
自20世纪80年代以来PLD的发展非常迅速。目前生产和使用的PLD产
品主要有可编程阵列逻辑PAL(系Programmable Array Logic的缩写)、通用阵列
逻辑GAL(系Generic Array Logic的缩写)、可擦除的可编程逻辑器件 EPLD(系
Erasable Programmable Logic Device的缩写)、复杂的可编程逻辑器件CPLD(系
Complex Programmable Logic Device的缩写)和现场可编程门阵列FPGA(系Field
Programmable Gate Array 的缩写)等几种类型。其中EPLD、CPLD和FPGA的集
成度比较高，有时又将这几种器件称为高密度PLD,相对应地也将PAL、GAL称
为低密度PLD。
上一章中所讲的EPROM实际上也是一种可编程逻辑器件，只是由于在
绝大多数情况下都将它用作存储器使用，所以就把它放在存储器一章里介
绍了。
PLD中的各种编程单元和上一章里所讲的PROM的各种编程单元是一样
的。最初使用的编程单元也是熔丝或反熔丝，后来多数PLD都改用CMOS工艺
制作了，编程单元也相应地改成了叠栅MOS管。
在发展各种类型PLD的同时，设计手段的自动化程度也日益提高。用于
PLD编程的开发系统由硬件和软件两部分组成。硬件部分包括计算机和专门的
编程器，软件部分有各种编程软件。这些编程软件都有较强的功能，操作也很简
便，而且一般都可以在普通的PC机上运行。利用这些开发系统可以便捷地完
成PLD的编程工作，这就大大提高了设计工作的效率。
新一代的在系统可编程(in system programmable,简称 isp)器件的编程就更
加简单了，编程时不需要使用专门的编程器，只要将计算机运行产生的编程数据
直接写入 PLD就行了。
为便于画图，在这一章里采用了图8.1.1中所示的逻辑图形符号，这也是目
前国际、国内通行的画法。其中图(a)表示多输入端与门，图(b)是与门输出恒
等于0时的简化画法，图(c)是多输入端或门，图(d)是互补输出的缓冲器，图
(e)是三态输出缓冲器。
复习思考题
R8.1.1 各种PLD的共同特征是什么?它们和标准化的数字集成电路器件有何不同?
388 第八章 可编程逻辑器件
-P P=0 Y
P?P?P?P? ABC D AA'B B'
8 AD
一
P P. -P -Y
A A'B B'
(a) (b) (c)
EN
A· A'
A
A— A'
EN'
A -A'
(d) (e)
图8.1.1 PLD电路中门电路的惯用画法
(a)与门(b)输出恒等于0的与门(c)或门
(d)互补输出的缓冲器(e)三态输出的缓冲器
*8.2 现场可编程逻辑阵列(FPLA)
最早使用的PLD是现场可编程逻辑阵列(Field Programmable Logic Array),
简称为FPLA。它出现于20世纪70年代的后期。
我们已经知道，任何一个逻辑函数式都可以变换成与或表达式，因而任何一
个逻辑函数都能用一级与逻辑电路和一级或逻辑电路来实现。
现场可编程逻辑阵列 FPLA由可编程的与逻辑阵列和可编程的或逻辑阵列
以及输出缓冲器组成，如图8.2.1所示。图中的与逻辑阵列最多可以产生8个
可编程的乘积项，或逻辑阵列最多能产生4个组合逻辑函数。如果编程后的电
路连接情况如图中所表示的那样，则当OE'=0时可得到
Y?=ABCD+A'B'C'D'
Y?=AC+BD
*8.2 现场可编程逻辑阵列(FPLA)389
Y?=A田B
Y。=COD
A·
·B C
D 与逻辑阵列
OE'
Y?
Y?
Y?
Y?
或逻辑阵列
图8.2.1 FPLA的基本电路结构
将FPLA和ROM 比较一下即可发现，它们的电路结构极为相似，都是由一
个与逻辑阵列、一个或逻辑阵列和输出缓冲器组成。两者的不同在于，首先
ROM的与逻辑阵列(即地址译码器)是固定的，而FPLA的与逻辑阵列是可编程
的。其次，ROM的与逻辑阵列将输入变量的全部最小项都译出了，而FPLA与
逻辑阵列能产生的乘积项要比ROM少得多。
在使用ROM产生组合逻辑函数时，往往只用到了与逻辑阵列输出的最小
项的一部分，而且有时这些最小项还可以合并，因此器件内部资源的利用率不
高。从上一章的例子中可以看到这种情况。然而在使用FPLA产生组合逻辑函
数时，由于与逻辑阵列也是可编程的，所以就可以通过编程只产生所需要的乘积
项，这样就使得与逻辑阵列和或逻辑阵列所需要的规模大为减小，从而有效地提
高了芯片的利用率。因此，使用FPLA 设计组合逻辑电路比使用ROM更为
合理。
FPLA的规格用输入变量数、与逻辑阵列的输出端数、或逻辑阵列的输出端
数三者的乘积表示。例如，82S100是一个双极型、熔丝编程单元的 FPLA,它的
规格为16×48×8,这就表示它有16个变量输入端，与逻辑阵列能产生48个乘
积项，或逻辑阵列有8个输出端。
FPLA的编程单元有熔丝型和叠栅注入式MOS管两种，它们的单元结构和
390 第八章 可编程逻辑器件
PROM、EPROM中的存储单元一样，编程的原理和方法也相同。
FPLA 中输出缓冲器的结构形式除三态输出以外，也有做成集电极开路
(OC)结构的。还有一些FPLA器件在或逻辑阵列输出端与输出缓冲器之间设
置了可编程的异或门，以便于对输出的极性进行控制，如图8.2.2所示。图中的
XOR为输出极性控制编程单元。当XOR的熔丝连通时XOR=0,Y?、Y?、Y、Y
与来自或逻辑阵列的输出S?、S?、S?、S。同相；当XOR的熔丝熔断以后XOR=1,
Y?、Y?、Y?、Y。与S?、S?、S?、S。反相。
在图8.2.1的FPLA电路中不包含触发器，因此这种结构的FPLA 只能用于
设计组合逻辑电路。这种类型的FPLA 也称 或逻辑阵列
为组合逻辑型 FPLA。如果用它设计时序逻 S? Y?
S? 辑电路，则必须另外增加含有触发器的 Y?
S? 芯片。 Y?
为便于设计时序逻辑电路，在有些FP LA 芯片内部增加了由若干触发器组成的寄
存器。这种含有内部寄存器的FPLA称为时
序逻辑型 FPLA,也称为可编程逻辑时序器
PLS(系 Programmable Logic Sequencer 的缩
写)。
S? Y?
XOR OE'
图8.2.2 FPLA的异或输出结构
图8.2.3是时序逻辑型FPLA的电路结构原理图。其中所有触发器的输入
端均由与-或逻辑阵列的输出控制，同时触发器的状态Q~Q4又反馈到与-
或逻辑阵列上，这样就可以很方便地构成时序逻辑电路了。因为这个电路中有
4个触发器的状态Q?~Q?反馈到与-或逻辑阵列上，所以用这个FPLA可以设
计成状态数不大于16的时序逻辑电路。Q5、Q6只作为组合逻辑电路(与-或阵
列)的输出端(经寄存器输出)。
此外，在图8.2.3所示的FPLA电路中还设置了PR/OE'控制端。当可编
程接地端接通时M=0,门G?输出高电平，使输出端的三态缓冲器处于工作状
态，这时PR/OE'作为内部寄存器的异步置零输入端使用。只要令PR/OE'=
1,门G,便立刻输出高电平，将所有的触发器置零。当可编程接地端断开时
(即熔丝熔断以后),门G,的输出始终为低电平，不会给出置零信号，PR/OE'
作为输出缓冲器的状态控制端使用。PR/OE'=0时G?输出高电平，输出缓
冲器G?~G?为工作态；PR/OE'=1时G8输出低电平，G?~G?为高阻态(或
称禁止态)。
虽然今天已经很少用FPLA了，但是我们下面要讲的PAL、GAL等PLD的基
本原理都源于FPLA,它们都是从FPLA发展、演化而来的。此外，PLA作为一种
电路结构形式，仍然可以用于集成电路内部的结构设计当中。
*8.2 现场可编程逻辑阵列(FPLA)391
PR/OE'
A-
B-
M
C- G? G?
D-
W WO WO WJ 以
1J
>C1
G?
2?
Y?
1KR
1J
>C1
G?
Q?
Y?
1KR
1J>C1
G?
Q?
Y?
1KR
1J
>C1 1KR
G?
2?
Y?
1JDC1 1KR
G?
2s
Y?
1J
>C1 1KR
G?
2?
Y?
CLK·
图8.2.3 时序逻辑型 FPLA的电路结构
复习思考题
R8.2.1 在输入端和输出端数目相同的条件下，能否用PROM代替FPLA而得到逻辑功
能相同的组合电路?
392 第八章 可编程逻辑器件
8.3 可编程阵列逻辑(PAL)
PAL是20世纪70年代末期由MMI公司率先推出的一种可编程逻辑器件，
它采用双极型工艺制作，熔丝编程方式。随着MOS工艺的广泛应用，后来又出
现了以叠栅MOS管作为编程器件的PAL器件。
PAL器件由可编程的与逻辑阵列、固定的或逻辑阵列和输出电路三部分组
成。通过对与逻辑阵列编程可以获得不同形式的组合逻辑函数。另外，在有些
型号的PAL器件中，输出电路中设置有触发器和从触发器输出到与逻辑阵列的
反馈线，利用这种PAL器件还可以很方便地构成各种时序逻辑电路。
8.3.1 PAL的基本电路结构
图8.3.1所示电路是PAL器件当中最简单的一种电路结构形式，它仅包
含一个可编程的与逻辑阵列和一个固定的或逻辑阵列，没有附加其他的输出
电路。
与逻辑阵列 或逻辑阵列
I?-
乘积项 Y?
I?-
乘积项 Y?
I?-
乘积项 Y?
I?一
乘积项 Y?
图8.3.1 PAL器件的基本电路结构
由图8.3.1可见，在尚未编程之前，与逻辑阵列的所有交叉点上均有熔丝接
通。编程时将有用的熔丝保留，将无用的熔丝熔断，即得到所需的电路。图
8.3.2是经过编程后的一个PAL器件的结构图，它所产生的逻辑函数为
8.3 可编程阵列逻辑(PAL) 393
II.+.II.
(8.3.1)
I?·
Y?
I?-
Y?
I?-
Y?
I?-
Y?
图8.3.2 编程后的PAL电路
目前常见的PAL器件中，输入变量最多的可达20个，与逻辑阵列乘积项最
多的有80个，或逻辑阵列输出端最多的有10个，每个或门输人端最多的达16
个。为了扩展电路的功能并增加使用的灵活性，在许多型号的PAL器件中还增
加了各种形式的输出电路。
8.3.2 PAL的几种输出电路结构和反馈形式
根据PAL器件输出电路结构和反馈方式的不同，可将它们大致分成专用输
出结构、可编程输入/输出结构、寄存器输出结构、异或输出结构、运算选通反馈
结构等几种类型。
一、专用输出结构
图8.3.1给出的PAL电路就属于这种专用输出结构，它的输出端是一个
与或门。在有些PAL器件中，输出端还采用了与或非门结构或者互补输出结构。
图8.3.3示出了互补输出的电路结构。专用输出结构的共同特点是所有设置的
输出端只能用作输出使用。下面将会看到，在另外一些输出结构的PAL器件
中，输出端在一定的条件下还可以当作输入端使用。
这种专用输出结构的PAL器件只能用来产生组合逻辑函数。PAL10H8、
394 第八章 可编程逻辑器件
PAL14H4、PAL10L8、PAL14LA、PAL16C1 等都是专用输出结构的器件。其中
PAL10H8和PAL14H4的输出端是与或门结构，
以高电平作输出信号(高电平有效);PAL10L8
和PAL14L4的输出端是与或非门结构，以低电
平作输出信号(低电平有效);PAL16C1的输出 Y
端是互补输出的或门结构，同时输出一对互补的
信号。
二、可编程输入/输出结构
可编程输入/输出结构(简称可编程I/O结
构)的电路结构图如图8.3.4所示。它的输出端
图8.3.3 具有互补输出的
专用输出结构
是一个具有可编程控制端的三态缓冲器，控制端由与逻辑阵列的一个乘积项给
出。同时，输出端又经过一个互补输出的缓冲器反馈到与逻辑阵列上。
在图8.3.4所示的编程情况下，当I?=I?=1时，上面一个缓冲器G,的控制
端C?=1,I/O?处于输出工作状态。对下面一个缓冲器G?而言，它的控制端C?
恒等于零，G?处于高阻态，因此可以将I/O?作为变量输入端使用。这时加到
I/O?上的输入信号经G?接到与逻辑阵列的输入端(图中的第6、7列)。
0123 45 67 C?
-1/O?
G?
I?- C?
1/O?
G?
I?-
G?
图8.3.4 PAL的可编程输入/输出结构
属于这种输出结构的器件有PAL16L8、PAL20L10等。
在有些可编程I/0结构的 PAL器件
中，在与或逻辑阵列的输出和三态缓冲器
之间还设置有可编程的异或门，如图
S
-Y
XOR
8.3.5所示。通过对异或门一个可编程输
入端的编程可以控制输出的极性。当 图8.3.5 带有异或门的
XOR=0时，Y与S同相；而当XOR=1时， 可编程输入/输出结构
Y与S反相。在用PAL设计组合逻辑电路
时经常会遇到求反函数的情况。例如，所设计的与或逻辑函数的乘积项数多于
8.3 可编程阵列逻辑(PAL)395
或门的输入端个数，而它的反函数包含的乘积项数少于或门的输入端数目时，可
以先通过对与逻辑阵列编程产生反函数，然后再利用对异或门编程求反，最后得
到所求的函数。
三、寄存器输出结构
PAL的寄存器输出结构如图8.3.6所示，它在输出三态缓冲器和与-或逻
辑阵列的输出之间串进了由D触发器组成的寄存器。同时，触发器的状态又经
过互补输出的缓冲器反馈到与逻辑阵列的输入端。
CLK OE
FF? D1D
>C1
2
2
I?- Q
Q FF?
料料 D?1D
C1
Q? Q2
22 I?-
Q?
图8.3.6 PAL的寄存器输出结构
利用这种输出结构不仅可以存储与-或逻辑阵列输出的状态，而且能很方
便地组成各种时序逻辑电路。例如，将与逻辑阵列按图8.3.6所示的情况编程，
则得到D?=I?,D?=Q?。因此，两个触发器和与-或逻辑阵列一起组成了移位
寄存器。
属于寄存器输出结构的PAL器件有PAL16R4、PAL16R6、PAL16R8等。
四、异或输出结构
异或输出结构型PAL的电路结构如图8.3.7所示。它的电路结构与寄存
器输出结构类似，只是在与-或逻辑阵列的输出端又增设了异或门。
利用这种电路结构不仅便于对与-或逻辑阵列输出的函数求反，还可以实
现对寄存器状态进行保持的操作。例如，在图8.3.7所示的编程情况下，当I?=
0时D?=Q?,所以Qi=Q?,在时钟信号到来时触发器的状态保持不变。当I?=
1时D?=Q,所以Qi=Q。
对于下面一个触发器，当I?=0时D?=Y?=Q?I?+Q'I;而当I?=1时D?=
Y2=(Q?I?+Q{I)';即得到Y?的反函数。
属于这种输出结构的器件有PAL20X4、PAL20X8及PAL20X10等。
五、运算选通反馈结构
在异或输出结构的基础上再增加一组反馈逻辑电路，就构成了如图8.3.8
396 第八章 可编程逻辑器件
CLK OE
FF? D?1D
C1
e
-Q
I?- e1
e FF? D?1D Q?]
Y? C1
-Q
I?-
图8.3.7 PAL的异或输出结构
所示的运算选通反馈结构。
CLK OE
A
1D
Q
-A'
C1
B
A'
图8.3.8 PAL的运算选通反馈结构
反馈选通电路分别给出了输入变量B和反馈变量A产生的(A+B)、(A+
B')、(A'+B)、(A'+B')4个反馈量，并接至与逻辑阵列的输入端。通过对与逻
辑阵列的编程，能产生A和B的16种算术运算和逻辑运算的结果。图8.3.9给
出了产生这16种运算的编程情况。
属于运算选通反馈结构的器件有PAL16X4、PAL16A4等。
8.3.3 PAL的应用举例
在这一小节里我们将通过两个例子进一步深入说明PAL的工作原理以及
用它设计逻辑电路的过程。在实际的设计工作中，只要把设计任务抽象成逻辑
函数形式以后，余下的工作都是使用EDA软件在计算机上完成的，而不需要像
下面的例子中那样用手工方法完成。
8.3 可编程阵列逻辑(PAL)397
-1
-A'+B'AA+B
-B
A'·B-A田BA+B
A A·B' 0
-A·B
49.BB'—A+B′
B· A+B
A+B'
A'+B
A'+B'
A'-
图8.3.9 产生16种算术、逻辑运算的编程情况
【例8.3.1】 用PAL器件设计一个数值判别电路。要求判断4位二进制数
DCBA 的大小属于0~5、6~10、11~15三个区间的哪一个之内。
解：若以Y。=1表示DCBA 的数值在0~5之间；以Y?=1表示DCBA的数
值在6~10之间；以Y?=1表示DCBA的数值在11~15之间，则得到表8.3.1中
的函数真值表。
表8.3.1 例8.3.1的函数真值表
十进 二进制数 Y? Y, Y? 十进
制数
二进制数
A B C D C D B A
Y。 制数
Y?Y?
0 0 0 0 0
0 0 0 1
0 0 1 0
0 0 1 1
0 1 0 0
0 1 0 1
0 1 1 0
0 1 1 1
8 0 0 1
1 0 0 9
1 0 0 10
1 0 0 11
1 0 0 12
1 0 0 13
0 1 0 14
0 1 0 15
0 1 0 0
1 0 0 1
1 0 1 0
1 0 1 1
1 1 0 0
1 1 0 1
1 1 1 0
1 1 1 1
0 1 0
1 0 1 0
2 0 1 0
3 0 0 1
4 0 0 1
5 0 0 1
6 0 0 1
7 0 0 1
从真值表写出Y?、Y?、Y?的逻辑函数式，经化简后得到
c (8.3.2)
398 第八章 可编程逻辑器件
这是一组有4个输入变量、3个输出的组合逻辑函数。如果用一片PAL
器件产生这一组逻辑函数，就必须选用有4个以上输入端和3个以上输出端
的器件。而且由式(8.3.2)可以看到，至少还应当有一个输出包含3个以上
乘积项。
根据上述理由，选用PAL14H4比较合适。PAL14H4有14个输入端、4个输
出端。每个输出包含4个乘积项。图8.3.10是按照式(8.3.2)编程后的逻
辑图。
输入(0~31)
0~34~78~1112131617 20~23 24~2728~31
D
1
C
2
B· 3 19
A· 4 18
6～9
17
Y?
5
乘积项(0-63) 2～2 森 菜 米
16
Y?
3～3 粜 15
Y?
6
古～子 14
7 13
8 12
9 11
图8.3.10 PAL14H4按式(8.3.2)编程后的逻辑图
图中画“×”的与门表示编程时没有利用。由于未编程时这些与门的所有
输入端均有熔丝与列线相连，所以它们的输出恒为0。为简化作图起见，所有输
入端交叉点上的“×”就不画了，而用与门符号里面的“×”来代替。
8.3 可编程阵列逻辑(PAL)399
【例8.3.2】用PAL设计一个4位格雷码计数器，并要求所设计的计数器
具有置零和对输出进行三态控制的功能。
解：根据格雷码的计数顺序可以列出在一系列时钟信号作用下4位格雷
码的变化顺序表，如表8.3.2所示。
如果用PAL器件设计这个计数器，则所用的器件中至少应包含4个触发器
和相应的与-或逻辑阵列。从手册上可以查到，PAL16R4可以满足上述要求。
由图8.3.12可见，PAL16R4的电路中有4个触发器，而且触发器的输出端设置
有三态缓冲器。它有8个变量输入端，除了4个寄存器输出端以外还有4个可
编程I/O端。
因为输出缓冲器是反相器，所以4个触发器Q端的状态与表8.3.2中Y的
状态相反。因此，Q?Q?Q?Q?的状态转换顺序应如表8.3.3所示。这也就是
Q?Q?Q?Q。的状态转换表。
表8.3.2 4位格雷码的计数顺序表 表8.3.3 PAL器件中触发器的状态转换表
CLK Y? Y? Y Y。 C(进位) CLK
0 0 0 0
0 0 0 1
0 0 1 1
0 0 1 0
0 1 1 0
0 1 1 1
0 1 0 1
0 1 0 0
1 1 0 0
1 1 0 1
1 1 1 1
1 1 1 0
1 0 1 0
1 0 1 1
1 0 0 1
1 0 0 0
0 0 0 0
Q? Q? Q: Q。
1 1 1 1
1 1 1 0
1 工 0 0
1 1 0 1
1 0 0 1
1 0 0 0
1 0 1 0
1 0 1 1
0 0 1 1
0 0 1 0
0 0 0 0
0 0 0 1
0 1 0 1
0 1 0 0
0 1 1 0
0 1 1 1
1 1 1 1
C'(进位)
0 0 0 1
1 0 1 1
2 0 2 1
3 0 3 1
4 0 4 1
5 0 5 1
6 0 6 1
7 0 7 1
8 0 8 1
9 0 9 1
10 0 0 1
11 0 11 1
12 0 12 1
13 0 13 1
14 0 14 1
15 1 15 0
16 0 16 1
根据表8.3.3画出4个触发器次态的卡诺图，如图8.3.11所示。经化简后
得到各个触发器的状态方程为
400 第八章 可编程逻辑器件
Q?2? Q?2。
00 01 11 10 Q?Q?22。
00 01 11 10
00 0 0 0 0 00 0 1 0 0
01 0 0 1 0 01 1 1) 1 1
11 1 1 1 1 11 1 0 1 1
10 1 10 0 0 0 0
Q3=Q?Q{+Q?Q??2?2, Q=Q?2??Q?+Q32'2。
Q?Q?Q?2。
00 01 11 10 Q?Q?2,2。
00 01 11 10
00 0 0 1 0 00 1 1 0
01 1 0 1 1 01 0 0 1
11 0 0 1 0 11 1 1) 0
10 1) 0 1 1 10 0
0
1
0
0 1 1)
Q*=Q?e,+Q?Q2??Q?2% Q=Q32?2'+Q32?21+Q?2?2{+Q?Q?2?
图8.3.11 例8.3.2输出状态的卡诺图
+Q?Q?Ql+Q?Q?Q?
(8.3.3)
从上式即可写出每个触发器的驱动方程，即D端的逻辑函数式。同时，考
虑到要求具有置零功能，故应在驱动方程中加入一项R。当置零输入信号R=1
时，在时钟信号到达后将所有的触发器置1,反相后的输出得到Y?Y?Y?Y。=
0000。于是得到驱动方程为
十3Y2Y1十3Y2Yi十A
(8.3.4)
进位输出信号的逻辑函数式为
C'=(Q3Q?Q,Qo)' (8.3.5)
按照式(8.3.4)和式(8.3.5)编程后PAL16R4的逻辑图如图8.3.12所示。
8.3 可编程阵列逻辑(PAL)401
图中1脚接时钟输入，亦即计数输入；11脚接输出缓冲器的三态控制信号OE';2
脚接置零信号R,正常计数时R应处于低电平；17、16、15、14脚分别为输出Y?、
Y?、Y、Y?;18脚为C'输出端。若从Y?Y?Y?Y。=0000开始计数，则输入16个时钟
信号时C!从低电平跳回到高电平，给出一个正跳变的进位输出信号。
CLK·1
R-2
3
4
5
6
7
8
9
0~3
0:
7
8:～
15
16-
:
23
24:
1:
31
32-
2:
39
40-
47
48:
21
55-
56-
1:
63-
4~7 8~11 12~15 16~19 20~2324~27 28~31
料 米- * 米
速 料
米 辣 ID
C1
2s
2
料 菜 拌 ID
C1
e2
e2
拌
ID
C1
e:
何
料 料 1D
C1
e:
图8.3.12 例8.3.2中编程后的PAL16R4的逻辑图
23[
Q?
Q
2。
19
18
17
16
15
14
13
12
11
C
Y?
Y?
Y?
Y。
402 第八章 可编程逻辑器件
以上所讲的设计工作都可以在开发系统上自动进行。只要按照编程软件规
定的格式输入逻辑真值表，后面的工作都由计算机去完成。
复习思考题
R8.3.1 PAL和FPLA在电路结构上有哪些不同之处?
8.4 通用阵列逻辑(GAL)
PAL器件的出现为数字电路的研制工作和小批量产品的生产提供了很大的
方便。但是，由于它采用的是双极型熔丝工艺，一旦编程以后不能修改，因而不
适应研制工作中经常修改电路的需要。采用CMOS可擦除编程单元的PAL器
件克服了不可改写的缺点，然而PAL器件输出电路结构的类型繁多，仍给设计
和使用带来一些不便。
为了克服PAL器件存在的缺点，Lattice 公司于1985年首先推出了另一种
新型的可编程逻辑器件——通用阵列逻辑GAL。GAL采用电可擦除的CMOS
(E2CMOS)制作，可以用电压信号擦除并可重新编程。GAL器件的输出端设置
了可编程的输出逻辑宏单元OLMC(系Output Logic Macro Cell的缩写)。通过
编程可将OLMC设置成不同的工作状态，这样就可以用同一种型号的GAL器件
实现PAL器件所有的各种输出电路工作模式，从而增强了器件的通用性。
8.4.1 GAL的电路结构
现以常见的GAL16V8为例，介绍GAL器件的一般结构形式和工作原理。
图8.4.1是GAL16V8的电路结构图。它有一个32×64位的可编程与逻辑
阵列，8个OLMC,10个输入缓冲器、8个三态输出缓冲器和8个反馈/输入缓
冲器。
与逻辑阵列的每个交叉点上设有E2CMOS编程单元，这种编程单元的结构
和工作原理与7.2.3节中所讲的E2PROM的存储单元相同。图8.4.2是用三个
编程单元构成的与门。假定编程后T?、T?的浮置栅上没有带负电荷，而T?的浮
置栅上存储了足够的负电荷，则T?、T?导通而T?截止。因此，A、B和P之间是
编程连接，而C和P之间没有连接，于是得到P=A·B。
组成或逻辑阵列的8个或门分别包含于8个OLMC中，它们和与逻辑阵列
8.4 通用阵列逻辑(GAL)403
1
0~3 4~7 8~11 12~15 16~1920~23 24~2728~31 CLK
0
19
OLMC
7 (19)
2
8
2
18
OLMC
15· (18)
3
16:
17
OLMC
23 (17)
4
24
16
31
OLMC
(16)
5
32
15
OLMC
39 (15)
6
40
14
OLMC
O-
47 (14)
7
48
13
OLMC
55 (13)
8
56
OLMC 回 12
63 (12)
9
0~3 4~7 12~15 20~23 28~31 8~11 16~19 24~27 11
图8.4.1 GAL16V8的电路结构图
的连接是固定的。
OE
404 第八章 可编程逻辑器件
A' B' C'
P
T? T? T? A B C
-P
T? T? T?
P=A·B
导通 导通 截止
图8.4.2 由3个编程单元构成的与门
在GAL16V8 中除了与逻辑阵列以外还有一些编程单元。编程单元的地址
分配和功能划分情况如图8.4.3所示。因为这并不是编程单元实际的空间布局
图，所以又将图8.4.3称为行地址映射图。
ScLK
Spr 移位寄存器 Spo
PT63 PT32 PT31 PTO 0
行
31
地 32
33
59
址60
与逻辑阵列
电子标签
与逻辑阵列
电子标签
保留地址空间
结构控制字 82位
61加密单元
62[口保留
63
·
整体擦除
图8.4.3 GAL16V8 编程单元的地址分配
第0~31行对应与逻辑阵列的编程单元，编程后可产生0~63共64个乘
积项。
第32行是电子标签，供用户存放各种备查的信息。如器件的编号、电路的
名称、编程日期、编程次数等。
第33~59行是制造厂家保留的地址空间，用户不能使用。
8.4 通用阵列逻辑(GAL)405
第60行是结构控制字，共有82位，用于设定8个OLMC的工作模式和64
个乘积项的禁止。
第61行是一位加密单元。这一位被编程以后，将不能对与逻辑阵列做进一
步的编程或读出验证，因此可以实现对电路设计结果的保密。只有在与逻辑阵
列被整体擦除时，才能将加密单元同时擦除。但是电子标签的内容不受加密单
元的影响，在加密单元被编程后电子标签的内容仍可读出。
第63行是一位整体擦除位。对这一位单元寻址并执行擦除命令，则所有编
程单元全被擦除，器件返回到编程前的初始状态。
对GAL的编程是在开发系统的控制下完成的。在编程状态下，编程数据由
第9脚串行送入GAL器件内部的移位寄存器中。移位寄存器有64位，装满一
次就向编程单元地址中写入一行。编程是逐行进行的。
8.4.2 输出逻辑宏单元(OLMC)
图8.4.4是输出逻辑宏单元的结构框图。OLMC中包含一个或门、一个D
触发器和由4个数据选择器及一些门电路组成的控制电路。
CLK OE
比叫 等尸
Vcc- 01
00 MUX G? ACO AC1(n)
G?
0 0 0
1
M
UX 8
来自
与逻辑
1
M
口× IO(n)
C1
阵列 1D
XOR(n)
反馈
F10-
M11·
U0-1
X0-0
ACO* AC1(m)*
AC1(n)
来自邻级
输出(m)
CLK TOE
图8.4.4 OLMC的结构框图
图中的ACO、AC1(n)、XOR(n)都是结构控制字中的一位数据，通过对结构
控制字编程，便可设定OLMC的工作模式。GAL16V8 结构控制字的组成如图
8.4.5所示，其中的(n)表示OLMC的编号，这个编号与每个OLMC连接的引脚
406 第八章 可编程逻辑器件
号码一致。
图8.4.4中的或门有8个输入端，它们来自与逻辑阵列的输出，在或门的输
出端能产生不超过8项的与或逻辑函数。
—82位 —
PT63~PT32 PT31~PTO
32位 4位 1位 8位
AC1(n)
1位
ACO
4位
XOR(n)
32位
乘积项禁止XOR(n)|SYN 乘积项禁止
12~15
(n)
12～19
(n)
16~19
(n)
图8.4.5 GAL16V8 结构控制字的组成
异或门用于控制输出函数的极性。当XOR(n)=0时，异或门的输出和或
门的输出同相；当XOR(n)=1时，异或门的输出和或门的输出相位相反。
输出电路结构的形式受4个数据选择器控制。输出数据选择器OMUX是2
选1数据选择器，它根据ACO和AC1(n)的状态决定 OLMC是工作在组合输出
模式还是寄存器输出模式。当G?的输出为0时，异或门输出的与或逻辑函数直
接经OMUX送到输出端的三态缓冲器；而G?的输出为1时，触发器的状态经
OMUX送到输出三态缓冲器。因此，G?输出为0时是组合逻辑输出，G?输出为
1时是寄存器输出。
乘积项数据选择器PTMUX也是2选1数据选择器，它根据ACO、AC1(n)的
状态决定来自与逻辑阵列的第一乘积项是否作为或门的一个输入。当G?输出
为1时，第一乘积项经过PTMUX加到或门的输入；而G,输出为0时，第一乘积
项不作为或门的一个输入。
三态数据选择器 TSMUX是4选1数据选择器，用来控制输出端三态缓冲器
的工作状态。它根据ACO、AC1(n)的状态从Vcc、地、OE和来自与逻辑阵列的第
一乘积项当中选择一个作为输出三态缓冲器的控制信号，如表8.4.1所示。
表8.4.1 TSMUX的控制功能表
ACO AC1(n) TSMUX的输出 输出三态缓冲器工作状态
0 0 Vcc 工作态
0 1 地电平 高阻态
1 0 OE
OE=1为工作态
OE=0为高阻态
第一乘积项
取值为1,工作态 1 1
取值为0,高阻态
8.4 通用阵列逻辑(GAL)407
反馈数据选择器 FMUX是8选1数据选择器，但输入信号只有4个。它的
作用是根据ACO、AC1(n)和AC1(m)的状态从触发器的Q'端、I/O(n)端、邻级输
出和地电平中选择一个作为反馈信号接回到与逻辑阵列的输入，如表8.4.2所
示。这里的(m)是相邻 OLMC的编号。由图8.4.1所示GAL16V8的电路结构
图可见，对 OLMC(16)、OLMC(17)、OLMC(18)而言，相邻的 OLMC 分别为
OLMC(17)、OLMC(18)、OLMC(19)。而对OLMC(13)、OLMC(14)、OLMC(15)
而言，相邻的OLMC分别为OLMC(12)、OLMC(13)、OLMC(14)。OLMC(12)和
OLMC(19)的邻级输入分别由11号引脚和1号引脚的输入代替，同时这两个单
元的ACO和AC1(m)又被SYN'和 SYN所取代。SYN是结构控制字中的一位。
表8.4.2 FMUX的控制功能表
ACO* AC1(n) AC1(m)* 反馈信号来源
1 0 × 本单元触发器Q'端
1 1 × 本单元1/0端
0 × 1 邻级(m)输出
0 × 0 地电平
*在OLMC(12)和OLMC(19)中SYN'代替ACO,SYN代替AC1(m)。
OLMC的工作模式有表8.4.3中列出的5种，它们由结构控制字中的SYN、
ACO、AC1(n)、XOR(n)的状态指定。
当SYN=1、ACO=0、AC1(n)=1时，OLMC(n)工作在专用输入模式，简化电
路结构如图8.4.6(a)所示。因为这时输出端的三态缓冲器为禁止态，所以
I/O(n)只能作输入端使用。这时加到I/0(n)上的输入信号作为相邻 OLMC的
“来自邻级输出(m)”信号经过邻级的FMUX接到与逻辑阵列的输入上。
当SYN=1、ACO=0、AC1(n)=0时，OLMC工作在专用组合输出模式；简化
的电路结构如图8.4.6(b)所示。这时输出三态缓冲器处于选通(工作)状态，
异或门的输出经OMUX送到三态缓冲器。因为输出缓冲器是一个反相器，所以
XOR(n)=0时输出的组合逻辑函数为低电平有效，而XOR(n)=1时为高电平有
效。由于相邻OLMC的AC1(m)也是0,故反馈数据选择器的输出为地电平，即
没有反馈信号。
表8.4.3 OLMC的5种工作模式
SYN ACO AC1(n)XOR(n) 工作模式 输出极性
0 1 / 专用输入 /
备 注
1
1和11脚为数据输入，
三态门禁止。
408 第八章 可编程逻辑器件
续表
SYN ACO XOR(n) 工作模式 输出极性 AC1(n)
0 0
0 专用组
合输出
低电平有效
1 高电平有效
1 1
0 反馈组
合输出
低电平有效
1 高电平有效
1 1
0 时序电路中
的组合输出
低电平有效
1 高电平有效
1 0
0 寄存器
输 出
低电平有效
1 高电平有效
备 注
1
1和11脚为数据输入，
三态门被选通。
1
1和11脚为数据输人，三态
门选通信号是第一乘积项，
反馈信号取自I/O端。
0
1脚接CLK,11脚接OE',至
少另有一个 OLMC为寄存
器输出模式。
0 1脚接CLK,11脚接OE'。
当SYN=1、ACO=1、AC1(n)=1时，OLMC工作在反馈组合输出模式，简化
的电路结构如图8.4.6(c)所示。它与专用组合输出模式的区别在于三态缓冲
器是由第一乘积项选通的，而且输出信号经过FMUX又反馈到与逻辑阵列的输
入线上。
当SYN=0、ACO=1、AC1(n)=1时，OLMC(n)工作在时序电路中的组合输
出模式。这时GAL16V8构成一个时序逻辑电路，这个OLMC(n)是时序电路中
的组合逻辑部分的输出，而其余的7个OLMC中至少会有一个是寄存器输出模
式。由图8.4.6(d)可见，在这种工作模式下，异或门的输出不经过触发器而直
接送往输出端。输出三态缓冲器由第一乘积项选通。输出信号经FMUX反馈
到与逻辑阵列上。
因为这时整个GAL16V8是一个时序逻辑电路，故1脚作为时钟信号CLK
的输入端使用，11脚作为输出三态缓冲器的选通信号OE'的输入端使用。这两
个信号供给工作在寄存器输出模式下的那些 OLMC使用。
当SYN=0、ACO=1、AC1(n)=0时，OLMC(n)工作在寄存器输出模式，简化
的电路结构如图8.4.6(e)所示。这时异或门的输出作为D触发器的输入，触发
器的Q端经三态缓冲器送至输出端。三态缓冲器由外加的OE信号控制。反馈
信号来自Q'端。时钟信号由1脚输入，11脚接三态控制信号OE'。
综上所述，只要给GAL器件写入不同的结构控制字，就可以得到不同类型
的输出电路结构。这些电路结构完全可以取代PAL器件的各种输出电路结构。
8.4.3 GAL的输入特性和输出特性
在GAL器件的每个输入端都设置有图8.4.7所示的输入缓冲器电路。图
i
8.4 通用阵列逻辑(GAL)409
CLK OE OLMCn)
NC NC
至另一个
邻级
IO(n)
反馈 NC NC NC
CLK OE 输出(m)
来自邻级
(a)
CLK OLMC(n) OE CLK OLMC(n)
OE
NC VccL NC NC NC
IO(n) VO(n)
来自
与逻辑
阵列
来自
与逻辑
阵列
XOR(n) XOR(n)
反馈 NC NC. NC 反馈
NC
CLK OE 来自邻级
输出(m)
CLK OE 输出(m)
来自邻级
(b) (c)
CLK OE
(至寄存器输出单元)(至寄存器输出单元)
OLMC(n)
CLK OE
OLMC(n)
NC-
来自
与逻辑
阵列
本宏单元
未连
I/O(n) e 1/O(n)
来自
与逻辑
阵列
G
XOR(n) XOR(n)
反馈 NC 反馈 N8:
CLK OE 来自邻级
输出(m)
CLK OE 输出(m)
来自邻级
(d) (e)
图8.4.6 OLMC5种工作模式下的简化电路(图中NC表示不连接)
(a)专用输入模式(b)专用组合输出模式
(c)反馈组合输出模式(d)时序电路中的组合输出模式(e)寄存器输出模式
中的T?、T?、T?、T?组成两级CMOS反相器，它们将输入端的信号A变换为一对
内部标准电平的A和A'信号送往内部电路，并使输入端与内部电路隔离。扩散
电阻R和电容C组成噪声滤波电路。这个电路能有效地抑制加到输入端上的
白噪声型噪声电压。
接在输入端的T?是N沟道增强型MOS管，它和电阻R构成静电保护电路。
T?的栅极接地，在输入电压的正常工作范围内不会导通。由于在制作T?的漏
区采用了特殊的磷注入方式，因而当它的漏源电压达到23 V时将在漏极与源极
间产生非破坏性击穿，在反相器的栅极与地之间形成一个低内阻通路，使输入电
410 第八章 可编程逻辑器件
Vcc
T? T?
输入
R
W
600Ω
A
A T? Cl T? T? 至内部
电路
A'
图8.4.7 GAL的输入缓冲器电路
压的大部分降到电阻R上，从而有效地保护了T?和T?的栅极不被击穿。
由此可见，GAL是一种较为理想的高输入阻抗器件，在正常的输入电压范
围内，输入端的漏电流不超过10μA。而且内部的输入电路还具有滤除噪声和
静电防护功能。
此外，由图8.4.7中还可以看到，由于GAL的输入端没有上拉电阻，而且T?
截止时的内阻极高，所以输入端悬空时它的电平由电容C上的感应电荷决定，
有可能处于高、低电平之间的某个数值。在这种输入电平下反相器的功耗是很
大的。为了降低功耗，同时也为了抑制外界干扰，未使用的输入端不应悬空，可
以接电源或接地。
图8.4.8是GAL的输出缓冲器电路结构图。它除了具备一般三态输出缓
冲器的特点(能驱动较大负载、起隔离作用以及实现对输出的三态控制)以外，
Vcc
G? G?
数据 T? G?
G?
-Vcc
G? T? T?
三态控制 G?
-Vcc
G?
图8.4.8 GAL的输出缓冲器电路
引脚
8.4 通用阵列逻辑(GAL)411
还有两个突出的特点。
第一个特点是输出级采用了单一类型的N沟道增强型MOS管，而不是采用
P沟道管与N沟道管互补的CMOS结构。因此，它不会发生第二章3.3.6节所
讲的CMOS电路的锁定效应。
第二个特点是它的输出具有“软开关特性”。输出级的两个驱动管T?和T?
分别由反相器G?和G?驱动。虽然它们的开关速度都很快，但在制造时有意地
使G?的开关速度较G?的开关速度慢一些(约1.5ns)。因此，当数据输入端由0
跳变为1的过程中T?首先导通，而T?导通在后，从而削弱了动态脉冲电流的峰
值。这就是所说的软开关特性。在负载电流较大时，软开关特性能有效地降低
公共电源线上的电流变化率，也就减小了由于电流变化在电源线和地线寄生电
感上产生的噪声电压。
图8.4.9(a)是GAL器件在输出为高电平时的静态输出特性。在Vcc=5V
的条件下，只要负载电阻不小于200 Ω,便可保证输出的高电平在2.9V以上。
VoH/V VoL/V
4.0 4.0
3.0 3.0
2.0 2.0
等效电阻5Ω
1.0 1.0
loH/mA -100 -75 -50 -25 0 0 50100 150 200 IoL/mA
(a) (b)
图8.4.9 GAL的静态输出特性
(a)输出为高电平时(b)输出为低电平时
输出为低电平时的输出特性如图8.4.9(b)所示。当Vcc=5V、Vo≈0时，
输出电阻仅5Ω左右。
复习思考题
R8.4.1 GAL和PAL有哪些不同之处?
R8.4.2 根据PAL和GAL各自的特点，你认为它们各适用于哪些使用场合?
412 第八章 可编程逻辑器件
8.5 可擦除的可编程逻辑器件(EPLD)
8.5.1 EPLD的基本结构和特点
EPLD是继PAL、GAL之后推出的一种可编程逻辑器件，它采用CMOS和
UVEPROM 工艺制作，集成度比PAL和GAL器件高得多，其产品多半属于高密
度PLD。
图8.5.1是Atmel公司生产的 EPLD产品AT22V10的电路结构框图。它的
基本结构形式和PAL、GAL器件类似，仍由可编程的与逻辑阵列、固定的或逻辑
阵列和输出逻辑宏单元(简称OLMC)组成。AT22V10有两种不同的封装形式，
即双列直插式(DIP)和表面安装式(SMT)。图8.5.1中每个引脚的两个标号中
前一个是DIP封装形式下的标号，后一个是SMT封装形式下的标号。
与PAL和GAL相比，EPLD有以下几个特点。
首先，由于采用了CMOS工艺，所以 EPLD具有CMOS器件低功耗、高噪声
容限的优点。
其次，因为采用了UVEPROM 工艺，以叠栅注入MOS管作为编程单元，所以
不仅可靠性高、可以改写，而且集成度高、造价便宜。这也是选用UVEPROM工
艺制作 EPLD的一个主要原因。目前 EPLD产品的集成度最高已达1万门
以上。
第三个特点是输出部分采用了类似于GAL器件的可编程的输出逻辑宏单
元。EPLD的OLMC不仅吸收了GAL器件输出电路结构可编程的优点，而且还
增加了对OLMC中触发器的预置数和异步置零功能。因此，EPLD的OLMC要
比 GAL中的OLMC有更大的使用灵活性。
此外，为了提高与-或逻辑阵列中乘积项的利用率，有些 EPLD的或逻辑阵
列部分也引入了可编程逻辑结构。
*8.5.2 EPLD的与-或逻辑阵列
在PAL和GAL器件的与-或逻辑阵列中，每个或门输入的一组乘积项数目
是固定的，而且在许多情况下每一组的数目又是相等的。但由于需要产生的
与-或逻辑函数所包含的乘积项各不相同，因而与-或阵列中的乘积项就得不到
充分利用。为了克服这种局限性，在EPLD的与-或逻辑阵列上做了一些改进。
首先，在大多数的EPLD中与-或逻辑阵列每一组乘积项的数目不完全相
等，这样既便于产生不同项数的与或逻辑函数，又有利于提高乘积项的利用率。
0 4 8
(DIP,
SMT)
(1,2)-
(2,3)-
(3,4)-
(4,5)-
(5,6)·
(6,7)-
(7,9)-
(8,10)-
(9,11)-
(10,12)-
(11,13)-
8.5 可擦除的可编程逻辑器件(EPLD)413
输
12 16 20
入24 线
28 32 36 40 异步置零(DIP,
SMT)
(23,27)
D0
OLMC
(22,26)
D
OLMC (21,25)
山 OLMC
(20,24)
S
6
OLMC (19,23)
L6
OLMC (18,21)
SH
OLMC
(17,20)
2
OLMC
(16,19)
D0
OLMC
-(15,18)
18
DNTO
(14,17)
-同步预置
(13,16)
图8.5.1 AT22V10的电路结构框图
I
414 第八章 可编程逻辑器件
其次，在有的EPLD中，将每一组乘积项分作两部分，产生两个与或逻辑函
数，然后通过编程使这两部分既可以单独地
送到输出逻辑电路，又可以组合在一起产生
一个项数更多的与或逻辑函数，如图8.5.2 1
OLMC 所示。Atmel公司生产的ATV750就采用了这 0 种阵列结构。 田 另外一种改进的与一或阵列是图8.5.3
所示的乘积项共享的可编程结构。其中每组
乘积项都分成两部分，通过编程可以将这两
部分相加，产生一个含有8个乘积项的与或 图8.5.2 每组乘积项分为
两部分的可编程结构 逻辑函数，也可以分别为相邻一组所共享，与
相邻一组乘积项共同组成一个项数更多的与或逻辑函数。在图8.5.3给出的情
况下，虽然每一组乘积项本身为8项，但通过对4个编程单元的编程可以产生包
含4、8、12、16项的与或逻辑函数。可见，这种可编程结构能使与逻辑阵列的乘
积项得到充分的利用。采用这种与-或阵列结构的EPLD有，Altera公司的
EP512等。
OLMC
OLMC
图8.5.3 与-或逻辑阵列的乘积项共享结构
*8.5.3 EPLD的输出逻辑宏单元(OLMC)
EPLD的输出电路结构和 GAL相似，也采取了可编程的输出逻辑宏单元
OLMC。通过编程的方法能将OLMC设置成各种不同的工作状态。而且，由于
OLMC
8.5 可擦除的可编程逻辑器件(EPLD)415
增加了对OLMC中触发器的预置和置零功能，因而具有更大的使用灵活性。
不同型号EPLD的OLMC在电路结构上也各不相同，但从预置和置零的工
作方式上可以分为两大类，一类为同步工作方式，另一类为异步工作方式。
例如，AT22V10中的OLMC就属于同步工作方式。图8.5.4是AT22V10的
OLMC电路结构图，它由D触发器、异或门和两个2选1数据选择器MUX1、
MUX2构成。
CLK SP
来自与
逻辑阵列 (8~16项): 1D e
>C1
0
1
田
MUX1 里oR
11O
至与逻
辑阵列 MUX2
1
0
由
OLMC
AR
图8.5.4 AT22V10的OLMC电路结构图
MUX1用于实现输出逻辑组态的选择。当控制MUX1的编程单元输出高电
平时为组合逻辑输出；而当编程单元为低电平时为时序逻辑输出(或称为寄存
器输出)。MUX2用于反馈信号的选择。当控制MUX2的编程单元输出为高电
平时，反馈信号取自触发器；而当编程单元输出为低电平时，反馈信号来自
I/O端。
通过对异或门输入端编程实现对输出极性的选择。当异或门的可编程输入
端接地时，输出高电平有效；当编程输入端为高电平时，输出低电平有效。三态
缓冲器的控制信号由与逻辑阵列的一个可编程的乘积项给出。
由于触发器的异步置零信号AR和同步预置信号SP各由一个可编程的乘
积项提供，这样就可以按照需要编程，以决定在什么情况下将触发器置0或
置1。
在AT22V10中，所有OLMC中触发器的时钟信号CLK、异步置零信号AR 和
同步预置信号SP都是公用的，因此所有OLMC中的触发器无论在置零时还是
在预置时都是同时动作的。
下面再以ATV750为例，说明一下异步工作方式 OLMC的特点。图8.5.5
是ATV750的OLMC电路结构图，它包含两个D触发器FF?和FF?、异或门 XOR
和一个2选1数据选择器 MUX。通过对MUX编程实现组合逻辑输出和寄存器
416 第八章 可编程逻辑器件
输出间的选择；通过对异或门输入端编程实现对输出极性的选择。
至与逻
辑阵列
MUX
1
(4~8项): ID
C1 Q
0 由工 110
田
XOR
来自与逻辑阵列 FF? 由工
FF?
(4~8项) ID
>C1 Q
OLMC CLK1
AR1
CLK2
AR2
OE
SP
图8.5.5 ATV750的OLMC电路结构图
这个电路最突出的特点在于每个触发器的时钟信号CLK、异步置零信号AR
都是独立的，而且分别由与逻辑阵列的一个乘积项给出，是可编程的。因此，这
种类型的EPLD不仅可以用于同步时序逻辑电路的设计，而且可以用于异步时
序逻辑电路的设计。
此外，由于AT750的 OLMC中含有两个触发器，而且每个触发器的状态都
直接反馈到了与逻辑阵列，这就为时序逻辑电路的设计提供了更多的方便和更
大的灵活性。
8.6 复杂的可编程逻辑器件(CPLD)
8.6.1 CPLD的总体结构
近年来迅速发展起来的复杂的可编程逻辑器件CPLD,可以认为是从EPLD
演变而来的。为了提高集成度，同时又保持EPLD传输时间可预测的优点，将若
干个类似于GAL的功能模块和实现互连的开关矩阵集成于同一芯片上，就形成
了所谓的CPLD。CPLD多采用E2CMOS工艺制作。
8.6 复杂的可编程逻辑器件(CPLD)417
同时，为了使用方便，越来越多的CPLD都做成了在系统可编程器件 isp PLD。在ispPLD电路中除了原有的可编程逻辑电路以外，还集成了编程所需的
高压脉冲产生电路以及编程控制电路。因此，编程时不需要使用另外的编程器，
也无需将ispPLD从系统中拨出，在正常的工作电压下即可完成对器件的编程
(写入编程数据或擦除)。
CPLD产品的种类和型号繁多，目前各大半导体器件生产厂商仍在不断推出
CPLD新产品。虽然它们的具体结构形式各不相同，但基本上都由若干个可编程
的逻辑模块、输入/输出模块和一些可编程的内部连线阵列组成。在ispPLD中都
包含有编程电路部分，不过通常在为用户提供的结构框图中都没有画出。
下面我们以Lattice公司生产的在系统可编程器件 ispLSI1032为例，来了解
一下 CPLD的具体结构。
图8.6.1是ispLSI1032的电路结构框图，它由32个通用逻辑模块(Generic
Logic Block,简称GLB)、64个输入/输出单元(I/O Cell,简称IOC)、可编程的内
IOC
RESET'
sOnOn
NO
N1
(输入/输出单元) IV/O48~I/063 之
□
GLB ORP(输出布线区) 慧线 (通用逻
辑模块) D7 D6D5D4D3 D2
C7
A0 C6
A1 C5
A2 GRP
C4
ORP A3 (全局布线区) C3
ORP
A4 C2
A5 C1
A6 C0
A7
BCB1B2B3|B4 B6|B7 B5
输入
总线 ORP
时钟
贫露
CCkKO
大模块
IVO??~I/O?1 N
图8.6.1 ispLSI1032的电路结构框图
NS
0~0,
418 第八章 可编程逻辑器件
部连线区和编程控制电路组成。在全局布线区的四周，形成了4个结构相同的
大模块。图中没有画出编程控制电路这部分。各部分之间的关系和实现的功能
如图8.6.2所示。
传输延迟时间
可预知 高速通道
专用
输入 输入
通用逻辑模块
(32)
64
8
64个
I/O引脚 64
VO
单元
(64)
全局布线区
(GRP)
输出布线区
(ORP)
输出 64 输出
可灵活配置
4个专用时钟
输入 4
时钟
网络
输出引脚
灵活分配
图8.6.2 ispLSI1032的逻辑功能划分框图
*8.6.2 CPLD的通用逻辑模块(GLB)
图8.6.3是通用逻辑模块的电路结构图。由图可见，它由可编程的与逻辑
阵列、乘积项共享的或逻辑阵列和输出逻辑宏单元(OLMC)三部分构成。这种
结构形式与GAL类似，但又在GAL的基础上做了若干改进，在组态时有更大的
灵活性。
首先，它的或逻辑阵列采取了乘积项共享的结构形式。它的输入和输出关
系是可编程的，4个输入F。~F?中任何一个都可以送到4个D触发器当中任何
一个的输入端，每个输入又可以同时送给几个触发器，4个输入还可以再组合成
更大规模的与或逻辑函数送到任何一个触发器的输入端。
此外，除了图8.6.3所示的标准配置模式以外，通过编程还可以将GLB设置
成其他4种连接模式，即高速旁路模式、异或逻辑模式、单乘积项模式和多重模式。
在高速旁路模式中，为了减少传输延迟时间，越过了乘积项共享的编程阵
列，将与-或阵列的输出F。~F?直接与OLMC相接，如图8.6.4(a)所示。
在异或逻辑模式中，乘积项共享或阵列的输出与OLMC之间又串进了异或
门，如图8.6.4(b)所示。异或门的一个输入来自F。~F?,另一个是来自与逻辑
阵列的乘积项。
在单乘积项模式中，每个OLMC的输入取自与逻辑阵列一个单乘积项的输
出，如图8.6.4(c)所示。这种结构模式可以获得最快的信号传输速度。
来自全局布线区
2
3
5
来自专用输入
7
8
9 10 -11 12 13 14 15
1617
乘积项共享的或逻辑阵列
0
F?
43
F?
7
8
F?
12
13
F?
19
与逻辑阵列
乘积项复位一
全局复位
控制功能
CLKO—CLK1—— CLK2— 乘积项时钟—
MUX
M nX
乘积项输出使能——— 图8.6.3 通用逻辑模块(GLB)的电路结构
1D C1 1D C1 1D C1 1D C1
OLMC×4 Q
WnX
0
MDX
Q
Mx
Q
MUX
O? O? O? 至输出使能数据选择器
至全局布线区和输出布线区
8.6复杂的可编程逻辑器件(CP1D) 419
420 第八章 可编程逻辑器件
0
3
F? 1DC1
e Mnx O?
…
:
(a)
0
Q
1D F? 3 C1
:
MUX O?
…
·◆●
(b)
WDx 0
O? e 1D>C1 3
·
:
(c)
图8.6.4 GLB的其他几种组态模式
(a)高速旁路模式(b)异或逻辑模式(c)单乘积项模式
在多重模式中，每个GLB中4个与-或输出电路的结构形式可以分别组成
上述几种不同模式。
这些不同的组态模式增加了GLB组态的灵活性和多样性。
*8.6.3 CPLD的输入/输出单元(IOC)
图8.6.5是输入/输出单元(IOC)的电路结构图，它由三态输出缓冲器、输
入缓冲器、输入寄存器/锁存器和几个可编程的数据选择器组成。触发器有两种
工作方式：当R/L为高电平时，它被设置成边沿触发器；而当R/L为低电平时，
它被设置成锁存器。MUX1用于控制三态输出缓冲器的工作状态，MUX2用于
选择输出信号的传送通道，MUX3用来选择输出极性。MUX4用于输入方式的
选择：在异步输人方式下，输入信号直接经输入缓冲器送到全局布线区的输入
8.6 复杂的可编程逻辑器件(CPLD)421
Vcc Vcc
自OE MUX
MUX1 A以有源
上拉
自输出布线区
自输出布线
MUX2
MUX3
区旁路通道 Pin IO
至全局布线区 MUX4
IOCLKO- 1D Q
IOCLK1
MUX5
MUX6
>C1
R 注：
自全局复位
代表E2CMOS
单元
图8.6.5 输入/输出单元(IOC)的电路结构
端；在同步输入方式下，输入信号加到触发器的输入端，必须等时钟信号IOCLK
到达后才能被存入触发器，并经过输入缓冲器加到全局布线区。MUX5 和
MUX6用于时钟信号的来源和极性的选择。根据这些数据选择器编程状态的组
合，得到各种可能的IOC组态，如图8.6.6所示。
引脚 引脚
Pin Pin
双向IO引脚 输入缓冲器 输出缓冲器
口
引脚
Pin
反相输出缓冲器 又
引脚
Pin IOCLK
三态输出缓冲器
(输出单元)
图8.6.6 IOC的各种组态
引脚
Pin 1D
C1 IOCLK
锁存输入
引脚
Pin 1D
IOCLK C1
寄存器输入
(输入单元)
Q
Q
Pin 引脚
带寄存器输入的
双向IO引脚
Pin 引脚
1D Q
C1
(双向单元)
422 第八章 可编程逻辑器件
ispLSI1032中有一个全局布线区(Global Routing Pool,简称GRP)和4个输
出布线区(Output Routing Pool,简称ORP)。这些布线区都是可编程的矩阵网
络，每条纵线和每条横线的交叉点接通与否受一位编程单元状态的控制。通过
对GRP的编程，可以实现32个GLB间的互相连接以及IOC与GRP的连接。通
过对ORP的编程，可以使每个大模块中任何一个GLB能与任何一个IOC相连。
8.7 现场可编程门阵列(FPGA)
8.7.1 FPGA的基本结构
在前面所讲的几种PLD电路中，都采用了与-或逻辑阵列加上输出逻辑单
元的结构形式。而FPGA的电路结构形式则完全不同，它由若干独立的可编程
逻辑模块组成，用户可以通过编程将这些模块连接成所需要的数字系统。因为
这些模块的排列形式和门阵列(GA)中单元的排列形式相似，所以沿用了门阵列
这个名称。FPGA属于高密度 PLD,其集成度可达百万门/片以上。
图8.7.1是FPGA基本结构形式的示意图，它由三种可编程单元和一个用
于存放编程数据的静态存储器组成。这三种可编程的单元是输入/输出模块
IOB(I/O Block)、可编程逻辑模块CLB(Configurable Logic Block)和互连资源IR
IOB CLB
「印非求非非止 111
布线区
图8.7.1 FPGA的基本结构框图
8.7 现场可编程门阵列(FPGA) 423
(Interconnect Resource)。它们的工作状态全都由编程数据存储器中的数据
设定。
FPGA 中除了个别的几个引脚以外，大部分引脚都与可编程的IOB相连，均
可根据需要设置成输入端或输出端。因此，FPGA器件最大可能的输入端数和
输出端数要比同等规模的EPLD多。
每个CLB中都包含组合逻辑电路和存储电路(触发器)两部分，可以设置成
规模不大的组合逻辑电路或时序逻辑电路。
为了能将这些CLB灵活地连接成各种应用电路，在CLB之间的布线区内配
备了丰富的连线资源。这些互连资源包括不同类型的金属线、可编程的开关矩
阵和可编程的连接点。
静态存储器的存储单元由两个CMOS反相器和一个控制管T组成，如图
8.7.2所示。由于采用了独特的工艺设计，这种存储单元有很强的抗干扰能
力和很高的可靠性。但停电以后存储器中的数据不能保存，因而每次接通电
源以后必须重新给存储器“装载”编程数据。装载的过程是在FPGA内部的一
个时序电路的控制下自动进行的。这些数据通常都需要存放在一片EPROM
当中。
Q
组态
控制
读/写· Q'
数据 T
图8.7.2 FPGA 内静态存储器的存储单元
FPGA的这种CLB阵列结构形式克服了PAL等PLD中那种固定的与-或
逻辑阵列结构的局限性，在组成一些复杂的、特殊的数字系统时显得更加灵活。
同时，由于加大了可编程I/O端的数目，也使得各引脚信号的安排更加方便和
合理。
但FPGA本身也存在着一些明显的缺点。首先，它的信号传输延迟时间不
是确定的。在构成复杂的数字系统时一般总要将若干个CLB组合起来才能实
现。而由于每个信号的传输途径各异，所以传输延迟时间也就不可能相等。这
不仅会给设计工作带来麻烦，而且也限制了器件的工作速度。在CPLD 中就不
存在这个问题。
其次，由于FPGA中的编程数据存储器是一个静态随机存储器结构，所以断
—
424 第八章 可编程逻辑器件
电后数据便随之丢失。因此，每次开始工作时都要重新装载编程数据，并需要配
备保存编程数据的EPROM。这些都给使用带来一些不便。
此外，FPGA的编程数据一般是存放在EPROM中的，而且要读出并送到
FPGA的SRAM中，因而不便于保密。而CPLD中设有加密编程单元，加密后可
以防止编程数据被读出。
可见，FPGA和CPLD各有不能取代的优点，这也正是两种器件目前都得到
广泛应用的原因所在。
*8.7.2 FPGA的IOB和 CLB
现以Xilinx公司生产的XC2064为例，介绍FPGA的IOB和CLB的电路结
构和工作原理。
一、IOB
XC2064是Xilinx公司FPGA器件中结构比较简单的一种，它一共有56个
可编程的I/O端。
由图8.7.3所示的电路结构图可见，每个IOB由输出三态缓冲器G?、触
发器、输人缓冲器G?和两个数据选择器MUX1、MUX2 组成。在图中所用的
数据选择器符号上只标出了数据输入端和数据输出端，省略了地址输入端。
实际上每个2选1数据选择器都应当有一位输入地址代码，每个4选1数据
选择器应当有两位输入地址代码。这些代码都存放在FPGA 内部的编程数据
存储器中。
MUX1 OFF(Vcc) OE' ON
G?
G? 1D Q
MUX2
C1
控衡
输出
IO
输入
I/O CLK
程序控制的数据选择器
图8.7.3 XC2064的IOB电路
8.7 现场可编程门阵列(FPGA)425
输出三态缓冲器的控制信号OE'由MUX1给出。MUX1输出低电平时IOB
工作在输出状态，FPGA 内部产生的信号通过G?送至I/O端。MUX1输出高电
平时G,为高阻态，IOB工作在输人状态。
MUX2用于输入方式的选择。当MUX2的输出选中输入缓冲器G?的输出
时，为异步输入方式，加到I/O端的输入信号立刻就通过G?、MUX2送往FPGA
内部。当MUX2的输出选中触发器的输出时，为同步输入方式。在同步输入方
式下，必须等到时钟信号I/O CLK到达后，加到I/O端的输入信号才能经过
MUX2 送往内部电路。
输入缓冲器G?的阈值电平是可编程的，既可设置为TTL电路的阈值电平
(1.4V),也可以设置为高速CMOS电路的阈值电平(2.2V)。在XC2064中，所
有IOB的时钟信号是公用的。
二、CLB
在XC2064中有64个CLB,排列成8×8的矩阵。每个CLB的电路中包含
组合逻辑电路、存储电路和由一些数据选择器组成的内部控制电路，如图8.7.4
所示。
X
输出
A· G
输入B
C-
D
组合
逻辑
Y
F 1D Q
C1R
CLK
时钟
图8.7.4 XC2064的CLB电路
组合逻辑电路部分是有4个输入端、两个输出端的通用逻辑模块。根
据设计的需要可以将组合逻辑部分设置成3种不同的组态。第一种组态如
图8.7.5(a)所示，通过编程可以产生任何形式的四变量组合逻辑函数。第
二种组态如图8.7.5(b)所示，可以产生两个三变量的任何形式的逻辑函
数。第三种组态如图8.7.5(c)所示，可以产生含有A、B、C、D、Q的五变量
逻辑函数。
426 第八章 可编程逻辑器件
A·
四变量的
任意函数
-F
B·
C
D
Q
G
(a)
B
A·
B
A· 三变量的 C 任意函数 F
C
D
三变量的
任意函数
-F
D
Q -Q A·
B 三变量的 A
Wnx
C 任意函数 G
C
三变量的
任意函数
G
D· D
Q Q
(b) (c)
图8.7.5 XC2064中CLB的3种组态
(a)四变量任意函数(b)两个三变量任意函数(c)五变量逻辑函数
这种通用逻辑模块由N沟道MOS管和CMOS反相器组成，输出与输入间的
逻辑函数关系由一组编程控制信号决定。将编程控制信号与函数对应关系列成
函数表，在编程过程中通过查表即可找出所需的编程数据。
为了说明这种查询表方式的工作原理，下面来分析一个二输入变量的通用
逻辑模块的逻辑功能。图8.7.6所示电路是用NMOS管构成的通用逻辑模
块，A、B是两个输入变量，F为输出逻辑函数，Co、C?、C?、C?是编程控制信
号。在C?C?C?C?的16种不同取值下，得到A和B的16种函数关系，如表
8.7.1所示。
例如，当C?C?C?C?=1100时，若A=1、B=0,则T?和T?导通，F=1;若A=
0、B=1,则T?、T?导通，F=1;若A=B=1或A=B=0,则4条支路皆不导通，
F=0。因此，得到F=AB'+A'B=AOB。
8.7 现场可编程门阵列(FPGA)427
Co- T? T?
C? T? T?
T?
-F
C?- T?
C?-
T? T?
A' B'
A B
图8.7.6 二变量通用逻辑模块的原理图
表8.7.1 二变量通用逻辑模块的函数表
Co C? C? C? F
0 0 0 0 0
0 0 0 1 AB
0 0 1 0 A'B'=(A+B)'
0 0 1 1 AB+A'B'=(A田B)'
0 1 0 0 A'B
0 1 0 1 B
0 1 1 0 A'
0 1 1
1 0 0
1
0
A'+B
AB'
1 0 0 1 A
1 0 1 0 B'
1 0 1 1 A+B'
1 1 0 0 A'B+AB'=A田B
1 1 0 1 A+B
1 1 1 0 A'+B'=(AB)'
1 1 1 1 1
同理，可以找出三变量、四变量通用逻辑模块的这种函数表，并通过查询表
的方式进行设计。三变量通用逻辑模块的函数关系由一组8位代码指定，四变
量通用逻辑模块的函数关系由一组16位代码指定。
CLB中存储电路的结构如图8.7.7所示，它只包含一个触发器(在XC3000和
XC4000系列的FPGA器件中，每个CLB中有两个触发器)。根据设计要求，这个
触发器可以编程为边沿触发的D触发器，也可以编程为电平触发的D型锁存器。
触发器的D端接收组合电路部分的输出F。时钟信号由数据选择器MUX1
428 第八章 可编程逻辑器件
给出，既可以选择片内公共时钟CLK作为时钟信号，工作在同步方式；又可以选
择组合电路的输出G或输入变量C作
为时钟信号，工作在异步方式。而且，
用数据选择器 MUX2 还可以选择用时
钟的上升沿或下降沿(或高电平和低电
平)触发。
A- F
MUX3
F 1DS
C1
R
Q
CLK.C 触发器的异步置位信号由数据选
择器 MUX3给出，异步置位信号可以从
输人变量A和组合电路输出F当中选
择。异步置 零信号由数据选择器
MUX4给出，既可以选组合电路输出G
作为异步置零信号，也可以选输入变量
D作为异步置零信号。
G:MUX1 MUX2
D- G
L MUX4
图8.7.7 XC2064中CLB的存储电路
*8.7.3 FPGA的互连资源
为了能将FPGA 中数目很大的CLB和IOB连结成各种复杂的系统，在布线
区内布置了丰富的连线资源。这些互连资源可以分为三类，即金属线、开关矩阵
SM(Switching Matrices)和可编程连接点PIP(Programmable Interconnect Points)。
在图8.7.8中示出了这些互连资源的布局状况。
水平通用
连线 CLB CLB
SM SM SM
A
B
C
CLK CLBX CLB 水平长线
Y
D
SM SM SM
CLB CLB
垂直通用· SM
连线 垂直-
长线 鑫线
图8.7.8 FPGA内部的互连资源
8.7 现场可编程门阵列(FPGA)429
布线区里的金属线分为水平通用连线、垂直通用连线、水平长线、垂直长线、
全局连线和直接连线等几种。这些金属线经可编程的连接点与CLB、IOB和开
关矩阵相连。其中的通用连线主要用于CLB之间的连接，长线主要用于长距离
或多分支信号的传送，全局连线则用于输送一些公共信号(如公用的RESET'信
号)等。
图8.7.9中给出了开关矩阵和可编程连接点的布置图。开关矩阵的作用如
同一个可以实现多根导线转接的接线盒，通过对开关矩阵编程，可以将来自任何
方向上的一根导线转接至其他方向的某一根导线上。图8.7.9中还列出了开关
矩阵在不同编程情况下的连接状态。
■7…L口古06
口口
A
X
D
Y
口口66
两条垂
直长线 全局网
口
口
口 开关
口 矩阵
口
口 口
OHC
OHO
B
C
A
OH CLK 口 D
口
口
口 口口66 1一- 四条水平
通用连线
口 口 占-}水平长线
开关矩阵间
的五条垂直
通用连线
可编程
连接点
图8.7.9 开关矩阵和可编程连接点
可编程开关矩阵的
八种可能连接方式
8
7
8
Z
8
Z
8
7
1 2
3
4
6 5
1 2
3
4
6 15
1 2
3
4
6 5
1 2
3
4
65
8
7
8
7
8
Z
8
Z
1
6
1
T6
1
6
1
6
2
3
4
15
2
3
4
T5
2
3
4
5
12
3
4
15
430 第八章 可编程逻辑器件
图8.7.10中以粗线示出了经过编程后的一种连线情况，CLB(1)输出X经
过开关矩阵分别送到了CLB(2)的D端、CLB(3)的A端和CLB(4)的C端。
CLB CLB
(2)
D
SM
A
B-
C- CLK
CLB X CLB
(1) Y
DI
SM
A
CLB
(3) C_ CLB
(4)
图8.7.10 利用水平和垂直通用连线和开关矩阵实现连接
此外，为了减少传输延迟时间和简化编程，在相邻的CLB中间还设置了直
接连线，如图8.7.11所示。每个CLB的输出端X可以与下边一个CLB的输入
端A、B和上边一个CLB的输入端C、D直接相连；输出端Y可以和右边一个
CLB的输入端B直接相连。使用这些直接连线连接时不经过开关矩阵和通用
连线，只要对信号接收端的开关点编程就行了。
*8.7.4 编程数据的装载
将编程数据写入FPGA 内部编程数据存储器称为装载。整个装载过程是在
FPGA 内的控制电路操作下自动进行的。下面仍以XC2000系列FPGA为例，说
明装载的过程。
装载过程在接通电源后自动开始，也可以由外加控制信号启动。编程数据
通常存放在一个EPROM中，也可以存放在计算机的存储器中。装载的操作有
不同模式，由模式选择信号M。、M?及M?指定，有主、从模式之分和数据并行输
入、串行输入模式之分。
8.7 现场可编程门阵列(FPGA)431
dCLB CLB
DI
SM
直接连接 A
C
B·
CLK
B
CLB
(1)
X CLB
Y
D
SM
B
A|
CLB CLB
图8.7.11 用直接连线实现连接
图8.7.12(a)是“主并模式”装载的电路图，编程数据事先已存入 EPROM
中。
首先简要介绍一下图中XC2064引脚功能的设置情况。A。~A,是地址代
码输出端.装载开始后从A。~A,便自动地顺序输出地址代码(可以设置成从
0000号地址递增.也可以设置成从 FFFF号地址递减)给EPROM。D。~D,是数
据输入端，接收来自EPROM的编程数据。装载完成后A。~A,和D。~D,都可
作为用户可编程的I/O引脚用。M。、M,和M,给出装载模式选择信号，M。为专
用输入引脚.M,在装载结束后作为用户可编程的I/O引脚使用。如果在装载完
成后需要回读(即读出已经装入 FPGA中的编程数据),则回读的数据将从M,
脚输出。DOUT是数据输出端.在装载过程中.写入数据的同时就把数据又变成
串行数据从 DOUT端输出。在将多片FPGA 同时编程时，DOUT的输出将作为
另一片FPGA的串行数据输入。装载结束后它也是一个用户可编程的I/O端。
HDC和LDC'是两个表示装载数据正在进行的信号，装载过程中HDC始终为高
电平，LDC'始终为低。装载完成后它们也是用户可编程的I/O引脚。
D/P'为装载完成信号端。当装载过程结束.电路进入用户编程设定的工作
状态后.D/P'变成高电平。如果装载完成后再令D/P'由高电平变为低电平.则
432 第八章 可编程逻辑器件
+5V *如果要求回读，
则M,脚上应串
高或低 接5 kQ电阻
M。M?
5k2 PWRDWN
DOUT 至其他的
M? CCLK FPGA
HDC
A??
通用用户
I/O引脚 RCLK A?4 EPROM
A13
A?2
(2*×8或
更大)
其余的
I/O引脚 An
A?0 A10
RESET' RESET A? A?
D? Ag A?
D?
D?
D? XC2064 A? A? D?
A? A? D? As A? D?
D? A? A? D4 D?
D?
A? A? D?
A? A? D? D? A? A? D?
Ao A? D? LDC OE
DONE· D/P' LDC' CS
8
数据总线
(a)
A?~A?s
(输出) 地址
D?~D? N-1字节 EPROM N字节 N+1字节
RCLK'
输出 (CCLK) 8CCLK·
CCLK
(输出)
DOUT
(输出) N-1字节的D? N-1字节的D? N字节的D?
(b)
图8.7.12 XC2064的主并装载模式
(a)电路接法(b)写入数据的时序图
电路将重新初始化，并重新进人装载过程。PWRDWN'是掉电输人信号。当
8.7 现场可编程门阵列(FPGA)433
PWRDWN'变成低电平时，电路停止工作，并使所有输出变为高阻态。这时只要
器件的供电电源不低于2.3V,编程数据存储器中的数据仍能保留，在PWRDWN'
返回高电平以后电路还能恢复原来的工作状态。
RESET'为复位信号。如果在装入数据的过程中RESET'端出现低电平输入
信号，则编程数据存储器将被清除，重新开始装载过程。
CCLK为时钟引脚。在主并模式下它输出时钟信号。这时需要利用外接石
英晶体和器件内部的反相器构成
(Pierce)振荡器，如图8.7.13所示。在
回读时CCLK 是一个输入时钟信号端，
RCLK'是另一个输出时钟信号，它的频率
时钟
缓冲器
片内 片外
W
XTAL1
为CCLK的1/8。当外接动态存储器时，
装载期间作读信号端使用，一般情况下
不用。
XTAL21
R?
在图8.7.14中画出了装载过程的流
程图。接通电源后，内部的复位电路被
触发，开始清除编程数据存储器。在
RESET信号无效的条件下，电路自动检
测M?、M?、M?的状态，以确定装载模式。
W
C?: Y? C?:
R?
图8.7.13 石英晶体振荡器电路
然后启动数据读入操作，从A。~A??顺序输出地址代码给 EPROM,同时从D。~
D,逐个字节读入数据。并行读入的数据在器件内部被转换成串行数据，并且在
DOUT可以同时读出。装载完成后DONE变为高电平，电路开始进入用户逻辑
状态。如果数据读入过程中出现RESET'=0信号，则装载过程停止，并清除编程
存储器，重新开始装载过程。
用户IO引脚带有高阻值上拉电阻
HDC=高 掉电(无HDC、
初始化 LDC'=低 LDC'或上拉)
通电、延迟 PWRDWN
RESET'有效
无效
PWRDWN'
有效
清除编程
数据存储器 RESET
有效? No
检测
模式脚
设定编
程模式 启动 横线
Yes RESET'无效
DONE及RESET'为低电平
工作在用户
逻辑
图8.7.14 装载过程的流程图
除了主并装载模式外，还有主串模式、从串模式、外设模式等，这里就不一一
434 第八章 可编程逻辑器件
介绍了。
以上所做的介绍，只是想通过XC2064的例子使读者对FPGA的数据装载
过程有些初步的了解。在选定某种型号FPGA器件做设计时，还应仔细阅读所
用器件的技术资料。
复习思考题
R8.7.1 FPGA和CPLD在电路结构和工作特性上有何不同?
R8.7.2 为什么用FPGA设计的逻辑电路一般还需要配上一个 EPROM?
8.8 在系统可编程通用数字开关(ispGDS)
在一个由多片ispPLD构成的数字系统中，为了改变电路的逻辑功能，有时
不仅要重新设置每个 ispPLD的组态，而且需要改变它们之间的连接以及它们与
外围电路(例如负载电路、显示器件等)的连接。为满足这一需要，Lattice 公司
生产了在系统可编程通用数字开关(In-System Programmable Generic Digital
Switch,简称 ispGDS)。
现以ispGDS22为例介绍一下它的结构与工作原理。图8.8.1是ispGDS22
的结构框图，它由可编程的开关矩阵和若干输入/输出单元IOC组成。
可编程开关矩阵中的每个交叉点是否接通，由一位编程单元的状态控制。
因此，通过编程的方法可将A列中的任何一个IOC与B列中的任何一个IOC
接通。
IOC的电路结构如图8.8.2所示。当C。被编程为低电平时，电路工作在输
出方式，输出端的三态缓冲器为工作状态。这时数据选择器从4个输入当中选
中一个，经输出三态缓冲器送到输出端。当C?C?=11时，输出的是来自开关矩
阵的信号，而C?C?=10时输出的是反相以后的来自开关矩阵的信号。当C?C?
为01和00时，输出端被分别设置成高电平和低电平输出。
在系统可编程逻辑器件和在系统可编程通用数字开关的应用不仅为数字电
路的设计提供了很大的方便，而且在很大程度上改变了以往从事数字系统设计、
调试、运行的工作方式。
首先，它使硬件的设计工作更加简单、方便了。因为电路的逻辑功能可以由
编程数据设定，而且能在线装入和修改，所以硬件的设计和安装完全可以一次完
8.8 在系统可编程通用数字开关(ispGDS)435
可编程开关矩阵
A0IOC
A1IOC
A2IOC
A3IOC
A4IOC
A5[
A6
IOC
IOC
A7IOC
A8IOC
A9 IOC
A10 IOC
IOC IOC IOC IOC
B10 品 占
IOC
品
IOC IOC 3OI IOC
公 志 品 古 品
B列
图8.8.1 ispGDS22的结构框图
仅在C=时接通
Vcc
01
接开关
矩阵
10
11
00
IIO
Co
C? C
图8.8.2 ispGDS22的输入/输出单元(IOC)
成。这样就节省了修改硬件电路耗费的人力和物力。而且有时几种不同功能的
逻辑电路可以采用相同的硬件电路，这也减少了许多硬件设计的工作量。
其次，在调试工作中通过写入编程数据很容易将电路设置成各种便于调试
的状态，对电路进行测试，这比通过直接设置硬件电路的状态要方便得多。
用 ispPLD构成的系统在运行操作上也十分方便。在系统工作过程中，随时
可以根据需要改变电路的逻辑功能，不必将器件从电路板上取下即可完成。这
对于那些需要不断升级换代的数字系统极为有利，因为可以在不改动硬件电路
的情况下实现系统的升级换代。利用这种方法还可以通过遥控的方式对那些工
A列
436 第八章 可编程逻辑器件
作在恶劣环境中的数字系统进行测试或修改逻辑功能。
复习思考题
R8.8.1 ispGDS具有什么特别的功能?它有什么用途?
8.9 PLD的编程
随着PLD集成度的不断提高，PLD的编程也日益复杂，设计的工作量也越
来越大。在这种情况下，PLD的编程工作必须在开发系统的支持下才能完成。
为此，一些PLD的生产厂商和软件公司相继研制成了各种功能完善、高效率的
PLD开发系统。其中一些系统还具有较强的通用性，可以支持不同厂家生产的、
各种型号的PAL、GAL、EPLD、CPLD以及FPGA产品的开发。
PLD开发系统包括软件和硬件两部分。
开发系统软件是指PLD专用的编程语言和相应的汇编程序或编译程序。
早期使用的多为一些汇编型软件。这类软件要求以化简后的与或逻辑式输
入，不具备自动化简功能，而且对不同类型PLD的兼容性较差。例如，由MMI
公司研制的PALASM 以及随后出现的FM(Fast-Map)等就属于这一类。
进入20世纪80年代以后，功能更强、效率更高、兼容性更好的编译型开发
系统软件很快地得到了推广应用。其中比较流行的有Data I/O公司研制的
ABEL和 Logical Device公司的CUPL。这类软件输入的源程序采用专用的高级
编程语言(也称为硬件描述语言HDL)编写，有自动化简和优化设计功能。除了
能自动完成设计以外，还有电路模拟和自动测试等附加功能。
20世纪80年代后期又出现了功能更强的开发系统软件。这种软件不仅可
以用高级编程语言输入，而且可以用电路原理图输入。这对于想把已有的电路
(例如用中、小规模集成器件组成的一个数字系统)写人 PLD的人来说，提供了
最便捷的设计手段。例如，Data I/O公司的Synario 就属于这样的软件。
20世纪90年代以来，PLD开发系统软件开始向集成化方向发展。为了给
用户提供更加方便的设计手段，一些生产PLD产品的主要公司都推出了自己的
集成化开发系统软件(软件包)。这些集成化开发系统软件通过一个设计程序
管理软件将一些已经广为应用的优秀PLD开发软件集成为一个大的软件系统，
在设计时技术人员可以灵活地调用这些资源完成设计工作。属于这种集成化的
8.9 PLD的编程 437
软件系统有Altera公司的MAX+plusⅡ、Lattice 公司的ISP Synario、Xilinx公司
的 Foundation等。
所有这些PLD开发系统软件都可以在PC机或工作站上运行。虽然它们对
计算机内存容量的要求不同，但都没有超过目前PC机一般的内存容量。
开发系统的硬件部分包括计算机和编程器。编程器是对PLD进行写入和
擦除的专用装置，能提供写入或擦除操作所需要的电源电压和控制信号，并通过
串行接口从计算机接收编程数据，最终写进PLD中。早期生产的编程器往往只
适用于一种或少数几种类型的PLD产品，而目前生产的编程器都有较强的通
用性。
PLD的编程工作大体上可按如下步骤进行。
第一步，进行逻辑抽象。首先要把需要实现的逻辑功能表示为逻辑函数的
形式——逻辑方程、真值表、状态转换表(图)。
第二步，选定PLD的类型和型号。选择时应考虑到是否需要擦除改写；是
否要求能在系统编程；是组合逻辑电路还是时序逻辑电路；电路的规模和特点
(有多少输入端和输出端，多少个触发器，与或函数中乘积项的最大数目，是否
要求对输出进行三态控制等);对工作速度、功耗的要求；是否需要加密等。
第三步，选定开发系统。选用的开发系统必须能支持选定器件的开发工作。
与PLD器件相比，开发系统的价格要昂贵得多。因此，应该充分利用现有的开
发系统，在系统所能支持的PLD种类和型号中选择适用的器件。
第四步，以开发系统软件能接受的逻辑功能描述方式(例如逻辑图、硬件描
述语言、波形图等)编写计算机输入文件。
第五步，上机运行。将源程序输入计算机，运行相应的编译程序或汇编程
序，产生JEDEC下载文件和其他程序说明文件。进行仿真分析，检查设计结果
是否符合要求，并做必要的修改。
所谓JEDEC 文件是一种由电子器件工程联合会制定的记录PLD编程数据
的标准文件格式。一般的编程器都要求以这种文件格式输入编程数据。
第六步，下载。所谓下载，就是将JEDEC文件由计算机送给编程器，再由编
程器将编程数据写入 PLD中。
第七步，测试。将写好数据的PLD从编程器上取下，用实验方法测试它的
逻辑功能，检查它是否达到了设计要求。
如果选用的是在系统可编程逻辑器件 ispPLD,则向 ispPLD中下载数据不需
要使用编程器。计算机根据用户编写的源程序运行开发系统软件，产生相应的
编程数据和编程命令以后，直接通过五线编程接口将编程数据下载到 ispPLD
中，如图8.9.1所示。其中 ispEN'是编程使能信号，ispEN'=1时 ispPLD器件为
正常工作状态；ispEN'=0时所有IOC的输出三态缓冲器均被置成高阻态，并允
438 第八章 可编程逻辑器件
许器件进入编程工作状态。MODE是模式控制信号。SCLK是串行时钟输入，它
为片内接受输入数据的移位寄存器以及控制编程操作的时序逻辑电路提供时钟
信号。SDI是串行数据和命令输入端，SDO是串行数据输出端。
ispPLD器件内部设有控制编程操作的时序逻辑电路，它的状态转换受
MODE和SDI信号控制。计算机运行结果得到的编程数据和命令以串行方式从
SDI送入 ispPLD。在写入数据的同时，又以串行方式将写入的数据从 SDO读出
并送回计算机，以便进行校验和发出下面的数据和命令。
上电
SO
正常操作
HL
HH
诊断： S1
寄存器预置
L× HL
HH
五线编
程接口 编程： S2
移位/装入
L× HL
SDO
SDI
MODE
HH
SCLK
ispEN' L× 编程： S3
读(验证)
HL
HH
ispPLD
L× 编程： S4
写
HL
图8.9.1 ispPLD器件的编程接口 图8.9.2 ispPLD的编程操作流程图
在编程过程中除MODE、SDI、SDO、SCLK 以外的所有引脚均被置成高阻态，与
外接电路隔离。工作状态的转换在内部的程序控制逻辑电路的指挥下自动完成。
图8.9.2中给出了工作状态转换的流程图。
计算机的并行口和 ispPLD之间的连接除了上述的5条信号线以外，还需要
一条地线和一条对 ispPLD所在系统电源电压的监测线，所以实际需要用7根连
接线。
本章小 结 439
章借
PLD是20世纪80年代以后迅速发展起来的一种新型半导体数宇集成电
路，它的最大特点是可以通过编程的方法设置其逻辑功能。本章的重点在于介
绍各种PLD在电路结构和性能上的特点，以及它们都能用来实现哪些逻辑功
能，适用在哪些场合。
到目前为止，已经开发出的PLD有 FPLA、PAL、GAL、EPLD、CPLD以及
FPGA等几种类型，并且广泛地采用了在系统可编程技术。
FPLA和 PAL是较早应用的两种PLD。这两种器件多采用双极型、熔丝工
艺或UVCMOS工艺制作，电路的基本结构是与-或逻辑阵列型。因为FPLA需
要设置比 PAL更多的熔丝，占用更大的硅片面积，所以目前已基本上被PAL所
取代。虽然采用熔丝工艺的器件不能改写，采用UVCMOS工艺的擦除和改写也
不甚方便，但由于采用这两种工艺制作的PAL可靠性好，成本也较低，所以在一
些定型产品中仍然有使用价值。
GAL是继PAL之后出现的一种PLD,它采用E2CMOS工艺生产，可以用电
信号擦除和改写。电路的基本结构形式仍为与-或阵列形式，但由于输出电路
做成了可编程的OLMC结构，能设置成不同的输出电路结构，所以有较强的通
用性。而且，用电信号擦除比用紫外线擦除要方便得多。
FPLA、PAL和GAL的集成度都比较低，一般在千门以下，因此又将它们统
称为低密度PLD。集成度更高的所谓高密度PLD大体上可以分为EPLD、CPLD
和 FPGA 三种类型。
EPLD是采用UVCMOS工艺制作的高密度PLD,集成度可达数千门。它的
电路结构形式类似于GAL,由若干个与-或阵列模块和一些OLMC 组成，可以
构成较大的数字系统。这种结构的优点是信号传输时间较短，而且是可预知的。
CPLD和FPGA是集成度更高的两种可编程逻辑器件，两者在电路结构形式
和工作方式上有所不同。CPLD由若干个大的可编程逻辑模块、输入/输出模块
和可编程的连线阵列组成。每个可编程逻辑模块类似于一个PAL或GAL,相互
间的连接比EPLD更灵活，而且传输延迟时间是确定的。此外，为方便用户使
用，越来越多地都做成了在系统可编程器件。
FPGA采用CMOS-SRAM工艺制作，电路结构为逻辑单元阵列形式。每个
逻辑单元是可编程的，可以组成规模不大的组合或时序电路。单元之间可以灵
活地互相连接，没有与-或阵列结构的局限性。但由于编程数据是存放在器件
内部的静态随机存储器中的，一旦停电后这些编程数据便会丢失，所以每次开始
工作时需要重新装载编程数据。此外，在将逻辑单元连接成复杂的系统时，不同
440 第八章 可编程逻辑器件
的信号传输途径传输延迟时间也不同，这也是设计时必须考虑的一个因素。
各种PLD的编程工作都需要在开发系统的支持下进行。开发系统的硬件
部分由计算机(一般的PC机就可以)和编程器组成，软件部分是专用的编程语
言和相应的编程软件。开发系统的种类很多，性能差别很大，各有一定的适用范
围。因此，在选择PLD的具体型号时必须同时考虑到使用的开发系统能否支持
这种型号PLD的编程工作。
对于在系统可编程逻辑器件(ispPLD),由于将编程控制电路和高压脉冲发
生电路集成于 ispPLD内部，所以编程时不需要使用编程器，并且可以在系统内
完成，不用将器件从电路板上取下。ispPLD的应用进一步提高了数字系统设计
自动化的水平，同时也为系统的安装、调试、修改提供了更大的方便和灵活性。
[题8.1] 试分析图P8.1的与-或逻辑阵列，写出Y?、Y?、Y3与A、B、C、D之间的逻辑函
数式。
A-
Y?
B-
Y?
C-
Y?
D-
图P8.1
[题8.2] 试分析图P8.2的与一或逻辑阵列，写出Y?、Y?与A、B、C、D之间的逻辑关
系式。
[题8.3] 试分析图P8.3中由PAL16L8构成的逻辑电路，写出Y、Y?、Y3与A、B、C、D、
E之间的逻辑关系式。
习题 441
A-
Y?
B-
Y?
C-
D
图P8.2
[题8.4] 用PAL16L8产生如下一组组合逻辑函数。
A'BC'D+A'BCD'+ABC'D'+ABCD+AB'C'D+AB'CD')'
画出与-或逻辑阵列编程后的电路图。PAL16L8的电路图见图P8.3。
[题8.5] 试分析图P8.5给出的用PAL16R4构成的时序逻辑电路，写出电路的驱动方
程、状态方程、输出方程，画出电路的状态转换图。工作时，11脚接低电平。
[题8.6] 用PAL16R4设计一个4位二进制可控计数器。要求在控制信号M?M。=11
时做加法计数；在M?Mo=10时为预置数状态(时钟信号到达时将输入数据D?D?D?D、并行
置入4个触发器中);M?M。=01时为保持状态(时钟信号到达时所有的触发器保持状态不
变);M?Mo=00时为复位状态(时钟信号到达时所有的触发器同时被置1)。此外，还应给出
进位输出信号。PAL16R4的电路图见图 P8.5。
[题8.7] 试说明在下列应用场合下选用哪种类型的PLD最为合适。
1.小批量定型产品中的中规模逻辑电路。
2.产品研制过程中需要不断修改的中、小规模逻辑电路。
3.少量的定型产品中需要的规模较大的逻辑电路。
4.需要经常改变其逻辑功能的规模较大的逻辑电路。
5.要求能以遥控方式改变其逻辑功能的逻辑电路。
!
442 第八章 可编程逻辑器件
1
0 3478 1112 1516 1920 2324 2728 31
A
2
B
菜
C
采 来 柔
米 米 粜
D
米 米 米
E-
(PAL16L8)
图P8.3
3
4
5
6
7
8
9
19
Y?
18
Y?
17
16
15
14
13
12
11
Y?
CLK 1
2
3
4
5
6
7
8
9
习题 443
19
料 籽 料 料
菜
(PAL16R4)
1D
C1
1D
C1
1D
C1
1D
C1
Q
Q
Q
Q
18
17
16
15
14
13
12
11
Y
Q%
Q{
Q?
Q3
图P8.5
第九章
硬件描述语言简介
内容提要
本章简要介绍硬件描述语言。首先简单介绍了硬件描述语言的基本概念和发展与应
用概况，然后介绍了有关Verilog HDL的基本知识，最后给出了几个用Verilog HDL描述逻
辑电路的实例。
9.1 概述
随着半导体技术的发展，数字电路已经由中小规模的集成电路向可编程逻
辑器件(PLD)及专用集成电路(ASIC)转变。数字电路的设计手段也发生了变
化，由传统的手工方式逐渐转变为以 EDA 工具作为设计平台的工作方式。硬件
描述语言(HDL)就是设计人员和EDA工具之间的一种界面。利用硬件描述语
言并借助EDA 工具，可以完成从系统、算法、协议的抽象层次对电路进行建模、
仿真、性能分析直到IC版图或PCB版图生成的全部设计工作。
硬件描述语言主要用于编写设计文件，在EDA 工具中建立电路模型。通过
对电路结构或功能行为的描述，可以在不同的抽象层次对电路进行逐层描述，用
一系列分层次的模块来表示极其复杂的数字电路系统。
硬件描述语言发展至今已有近30年的历史，已经成功地应用于电子电路设
计的各个阶段：建模、仿真、验证和综合等。自20世纪80年代以来，出现了由各
个公司自行开发和使用的多种硬件描述语言，这些语言各自面向特定的设计领
域和层次。但众多的语言使用户无所适从，也降低了电路设计的可移植性和通
用性。因此，急需一种面向设计的多领域、多层次并得到普遍认同的标准硬件描
述语言。VHDL和Verilog HDL语言适应了这种趋势的要求，先后被确定为
9.2 Verllog HDL简介 445
IEEE 标准。
VHDL和Verilog HDL是目前两种最常用的硬件描述语言。除了这两种最
流行的硬件描述语言外，随着系统级FPGA 以及系统芯片的出现，软硬件协调设
计和系统设计变得越来越重要。传统意义上的硬件设计越来越倾向于与系统设
计和软件设计结合。为适应新的情况，硬件描述语言也在迅速发展，不断出现新
的硬件描述语言，如 Superlog、SystemC、Cynlib C++等。
下面简单介绍用Verilog HDL 对逻辑电路进行描述的方法。
9.2 Verilog HDL简介
1983年Gateway Design Automation公司在C语言的基础上，为其仿真器产
品Verilog-XL开发了一种专用硬件描述语言——Verilog HDL。随着Verilog XL成功和广泛的使用，Verilog HDL被众多数字电路设计者所接受。1989年，
Cadence公司收购了GDA公司。1990年，Cadence 公司成立了OVI(Open Verilog
International)组织，以促进Verilog HDL语言的推广和发展。IEEE于1995年制
定了Verilog HDL的IEEE 标准—-Verilog HDL 1364-1995;2001年又发布了
Verilog HDL 1364-2001标准，并在其中加入了Verilog HDL-A标准，使Verilog
有了描述模拟电路的能力。
Verilog HDL从C语言中继承了多种操作符和结构，源文本文件由空白符号
分隔的词法符号流组成。词法符号的类型有空白符、注释、操作符、数字、字符
串、标识符和关键字等，从形式上看和C语言有许多相似之处。
9.2.1 基本程序结构
和其他高级语言一样，Verilog HDL语言采用模块化的结构，以模块集合的
形式来描述数字电路系统。模块(module)是Verilog HDL语言中描述电路的基
本单元。模块对应硬件上的逻辑实体，描述这个实体的功能或结构，以及它与其
他模块的接口。它所描述的可以是简单的逻辑门，也可以是功能复杂的系统。
模块的基本语法结构如下：
module<模块名>(<端口列表>)
<定义>
<模块条目>
endmodule
根据<定义>和<模块条目>的描述方法不同，可将模块分成行为描述模
块、结构描述模块，或者是二者的组合。行为描述模块通过编程语言定义模块的
446 *第九章 硬件描述语言简介
状态和功能。结构描述模块将电路表达为具有层次概念的互相连接的子模块，
其最底层的元件必须是Verilog HDL支持的基元或已定义过的模块。
9.2.2 词法构成
Verilog HDL的词法标识符包括：间隔符与注释符、操作符、数值常量、字符
串、标识符和关键字。
一、间隔符与注释符
间隔符又称空白符，包括空格符、制表符、换行符以及换页符等。它们的作
用是分隔其他词法标识符。另外，在必要的地方插入间隔符可以增强源文件的
可读性。但在字符串中空格符和制表符是有意义的字符。
Verilog HDL有单行注释和多行段注释两种注释形式。单行注释以字符
“//”起始，到本行结束；而段注释则是以“/*”起始以“*/”结束，在段注释中
不允许嵌套，段注释中单行注释标识符“//”没有任何特殊意义。
二、操作符
Verilog HDL中定义了操作符，又称运算符，按照操作数的个数，可以分为一
元、二元和三元操作符；按功能可以大致分为算术操作符、逻辑操作符、比较操作
符等几大类，见表9.2.1。
表9.2.1 Verilog HDL的操作符和简要说明
分类 操作符及功能
加 +
: 减
乘
/ 除
% 整除
*
大于 >
< 小于
>= 不小于
<= 不大于
== 相等
!= 不相等
=== 全等
!== 非全等
简要说明
二元操作符，即有两个操作数。操作数可以是物
算术
理数据类型，也可以是抽象数据类型。
操作符
二元操作符，如果操作数之间的关系成立，返回值
为1;关系不成立，则返回值为0。若某一个操作
数的值不定，则关系是模糊的，返回值是不定
值X。
比较
操作符
9.2 Verilog HDL简介 447
续表
分类 操作符及功能
逻辑与 &&
逻辑或
! 逻辑非
按位非
~
& 按位与
I 按位或
^
按位异或
^~(~^) 按位同或
归约与 &
~& 归约与非
归约或
~1 归约或非
^
归约异或
~^(或^~)归约同或
左移 >>
<< 右移
?:
1,}
简要说明
&&和|为二元操作符；!为一元操作符，即只有
逻辑 一个操作数。
操作符
“~”是一元操作符，其余都是二元操作符。将操
作数按位进行逻辑运算。
位
操作符
一元操作符，对操作数各位的值进行运算。如
“&”是对操作数各位的值进行逻辑与运算，得到
一个一位的结果值。
归约
操作符
移位 二元操作符，对左侧的操作数进行它右侧操作数
操作符 指明的位数的移位，空出的位用0补全。
三元操作符，即条件操作符有三个操作数。
条件 如a? b:c若第1个操作数a是逻辑1,则算子返回
操作符 第2个操作数b;若a是逻辑0,则算子返回第3个
操作数c。
将两个或两个以上用逗号分隔的表达式按位连接
连 接 和 在一起。
复制符 还可以用常数来指定重复的次数，如}a,{2{a,
b}}|等价于|a,a,b,a,b}。
同其他高级语言类似，各类操作符号之间有优先级之分，如下所示。列表顶
部是最高优先级，底部是最低优先级。列在同一行中的操作符具有相同的优先
级。所有操作符(?:除外)在表达式中都是从左向右结合的。圆括号( )用于
改变优先级或使得表达式中运算顺序更加清晰，提高源文件的可读性。
448* 第九章 硬件描述语言简介
& ~&
一
最高优先级
*/%
== !=
& ~&
I~1
&&
二
?: 最低优先级
三、数值常量
Verilog HDL中的数值常量有整型和实型两大类，分为十进制、十六进制、八
进制或二进制。若在前面加上一个正“+”或负“-”号就表示有符号数，否则所
代表的就是无符号数。在数值常量的任意位置可以随意插入下划线“_”以提高
可读性。
Verilog HDL中的整型数值常量就是整数，有两种书写格式：一种是无位宽
的十进制表示法，如-132。第二种是定义位宽和进制的表示法，这种表示方法
通常是无符号数，书写格式是：[size]'base value。其中size是可选项，定义了数
值常量的位数(长度);base代表这个数据的进制，取值范围和相应的进制见表
9.2.2;value是一个数值常量的值，书写格式与进制base 相对应。如4'h6a8c,
它表示一个4位的十六进制数。
表9.2.2 Verilog HDL 中的进制
base进制代码取值 对应的进制
b或B 二进制
o或0 八进制
d或D 十进制
h或H 十六进制
Verilog HDL中的实型数值常量就是浮点数，可以用十进制与科学计数法两
种形式书写。如果采用十进制格式，小数点两边必须都有数字。
Verilog HDL的编程最终是与硬件相对应的。由于硬件电路中信号的逻辑
状态具有特殊性，即不仅有0(低电平)和1(高电平),还有可能是X(未知状态)
9.2 Verilog HDL简介 449
和 Z(高阻态),因此Verilog HDL数值集合有四个基本值：
0:逻辑0或假状态；
1:逻辑1或真状态；
X:逻辑不定态；
Z:高阻态。
四、字符串
字符串是双引号“”括起来的字符序列，必须包含在一行中，不能多行书写。
在表达式或赋值语句中作为操作数的字符串被看作ASCII值序列，即一个字符
串中的每一个字符对应一个8位ASCII值。
五、标识符
标识符是模块、寄存器、端口、连线、示例和 begin -end块等元素的名称，是
赋给对象的唯一的名称。标识符可以是字母、数字、$符和下划线“_”字符的任
意组合序列，必须以字母或下划线“_”开头。在Verilog HDL中，标识符区分大
小写，且字符数不能多于1024。
六、关键词
关键词是Verilog HDL语言内部的专用词。在IEEE 标准——Verilog HDL
1364-1995中规定了102个关键词，都采用小写形式。作为语言本身的保留
字，关键词有其特定和专有的语法作用，用户不能再对它们做新的定义，见
表9.2.3。
always
and
assign
attribute
begin
buf
bufif0
bufif1
case
casex
casez
cmos
deassign
表9.2.3 关 键 词
else
end
endattribute
endcase
endfunction
endmodule
endprimitive
endspecify
endtable
endtask
event
for
force
highzl
if
initial
inout
input
integer
join
large
macromodule
medium
module
nand
negedge
notifl
or
output
parameter
pmos
posedge
primitive
pullo
pull1
pulldown
pullup
rcmos
real
rtranifl
scalared
signed
small
specify
specpram
strength
strongO
strong1
supply0
supply1
table
task
tri
triO
tril
triand
trior
triteg
unsigned
vectored
wait
wand
weak0
weakl
while
450* 第九章 硬件描述语言简介
续表
default forever
fork
function
highzO
nmos
nor
not
notif0
realtime
reg
release
repeat
time
tran
tranifO
tranifl
wire
defparam wor
disable xnor
edge xor
9.2.3 模块的两种描述方式
一、行为描述方式
行为描述方式和其他软件编程语言的描述方式类似，通过行为语句来描述
电路要实现的功能，表示输入与输出间转换的 1 a·
行为，不涉及具体结构。从这个意义上讲，行为 -out
建模是一种“高级”的描述方式。 0 b: outbar
以图9.2.1所示的2选1数据选择器为例，
若用Verilog HDL对它做行为描述，则可写成下
面的程序模块。
sel
Out=sel-a+sel'·b
module mux_2_to_1(a,b,out,outbar, 图9.2.1 2选1数据选择器
sel);
//这是一个2选1数据选择器，名为mux_2_to_1
//定义该模块的输入端口为a,b和 sel input a,b,sel;
//定义该模块的输出端口为out 和outbar output out,outbar;
assign out =sel? a:b; //如果sel=1,将a赋值给out
assign outbar=~out;
endmodule
//如果sel=0,将b赋值给 out
//将out 取反后赋值给 outbar
//模块描述结束
二、结构描述方式
结构描述方式是将硬件电路描述成一个分级子模块相互连的结构。通过对
组成电路的各个子模块间相互连接关系的描述，来说明电路的组成。各个模块
还可以对其他模块进行调用，也就是模块的实例化。其中调用模块成为层次结
构中的上级模块，被调用模块成为下级模块。从结构上而言，任何硬件电路都是
由一级级的不同层次的若干单元组成，因此结构描述方式很适合对电路的这种
层次化结构的描述。在结构描述中，门和MOS开关是电路最低层的结构。在
Verilog HDL中有26个内置的基本单元，又称基元，见表9.2.4.
9.3 用Verilog HDL描述逻辑电路的实例 451
表9.2.4 Verilog HDL中的基元
基元分类 基元
多输入门 and,nand,or,nor,xor,xnor
多输出门 buf,not
三态门 bufif0,bufifl,notif0,notifl
上拉、下拉电阻 pullup,pulldown
MOS开关 cmos,nmos,pmos,rcmos,rnmos,rpmos
双向开关 tran,tranif0,tranifl,rtran,rtranif0,rtranifl
仍以2选1数据选择器为例，若给出它的门级电路原理图如图9.2.2所示，
采用结构描述方式可以写成下面的程序 a
模块。 sel
module muxgate(a,b,out,outbar,sel);i
//这是一个2选1数据选择器，名为mux- selb
gate
a?
a2
out?
out?
O? out
outbar
b-
input a,b,sel;//定义输入端
口为a,b和 sel
图9.2.2 2选1数据选择器的
电路原理图
output out,outbar; //定义输出端口为out 和 outbar
wire out1,out2,selb;//定义内部的两个连接点 out1,out2,selb
and al(out1,a,sel);//调用一个与门 al
not il(selb,sel);//调用一个反相器i1
and a2(out2,b,selb);//调用一个与门 a2
or ol(out,out1,out2);//调用一个或门 ol
assign outbar =～out;
endmodule
9.3 用Verilog HDL描述逻辑电路的实例
在这一节里，我们再通过两个简单的例子来说明用Verilog HDL描述电路逻
辑功能的方法。
【例9.3.1】 用Verilog HDL对图9.3.1所示的4位加法器做逻辑功能
描述。
452 *第九章 硬件描述语言简介
A?B? A?B? A?B? A?B?
CI2
CO
CI∑CO
CI∑CO
CIZ
CO
Ctemp? Ctemp? Ctemp?
CO
S?add? S?add? S?add? S?add4
图9.3.1 例9.3.1的4位加法器
加法器是常用的组合电路之一，本例描述了第4章中用串行进位方法构成
的4位全加器，如图4.3.28所示。
//对4位串行进位加法器的顶层结构的描述
module Four_bit_fulladd(A,B,CI,S,CO);
//4位全加器模块名称和端口名
parameter size =4;
input [size:1]A,B;
output [size:1]S;
input CI;
output CO;
//定义参数
wire [1:size-1]Ctemp
onebit_fulladd
//定义模块内部的连接线
//调用1位全加器
add1(A[1],B[1],CI, S[1],Ctemp[1]),
//实例化，调用1位全加器
add2(A[2],B[2],Ctemp[1],S[2],Ctemp[2]),
//实例化，调用1位全加器
add3(A[3],B[3],Ctemp[2],S[3],Ctemp[3],)
//实例化，调用1位全加器
add2(A[4],B[4],Ctemp[3],S[4],CO);//实例化4
endmodule //结束
上面的程序仅对图9.3.1所示电路进行了顶层描述，在程序中调用1位全
加器 onebit_fulladd。如采用1位全加器，用图9.3.2所示的方式实现，则可以
用下面的程序模块进行描述。
//对1位全加器内部结构的描述
module onebit_fulladd(A,B,CI,Sum,Cout);
//1位全加器模块名称和端口名
9.3 用Verilog HDL描述逻辑电路的实例 453
input A,B,CI;
output Sum,Cout;
XOR? CI- Sum
wire Sum_temp,C_1,C_
2,C_3;
A
B
XOR?
//定义模块内部的连接线
xor AND? XOR1(Sum_temp,A,B),
XOR2(Sum,Sum_temp,CI);
//两次调用异或门实现 Sum =A田B
田CI
OR?
Cout
AND?
and //调用3个与门 AND1, AND
AND2,AND3 图9.3.2 例9.3.1中的1位全加器电路
AND1(C_1,A,B),
AND2(C_2,A,CI),
AND3(C_3,B,CI);
or
OR1(Cout,C_1,C_2,C_3);
//调用或门实现Cout =AB+A(CI)+B(CI)
endmodule //结束
【例9.3.2】 用Verilog HDL描述图9.3.3所示状态转换图实现的逻辑
功能。
第6章所介绍的状态转换图是时序电
路的一种通用模型，在Verilog HDL中可以
直接对状态转换图所描述的有限状态机进
行描述，从而实现对电路的逻辑功能的描
述。下面的程序模块就是用Verilog HDL对
1/0
0/0 in/out
S? S?
0/0
0/0 1/0
图9.3.3所示状态转换图的逻辑功能的
描述。
S?
module fsm(out,in,clock);//模块
名称 fsm,模块端口列表out,in,clock
1/1
output out;//定义输出
input in,clock; //定义输人
reg out; //定义输出变量的类型
图9.3.3 例9.3.2的状态转换图
reg [1:0]currentState,nextState;
454* 第九章 硬件描述语言简介
//状态机的编码位数，在电路实现时对应寄存器个数
always @(in or currentState) begin
//根据输入和现态判断应当有的次态
out =currentState[1]&(~currentState[0]);//判断输出的逻辑值
if(currentState==0)
if(in)nextState =1;
//如现态为0,且输入为1,则推断次态为1
if(currentState==1)
if(in)nextState =2;
//如现态为1,且输入为1,则推断次态为2
else nextstate =0;
if(currentState ==2)begin
if(in)nextState =2;
//如现态为2,且输入为1,则推断次态为2
else nextState =0;//否则推断次态为0
end
end
always @(posedge clock)begin
//接收到时钟的边沿触发信号后，完成状态转换
currentState <=nextState;//状态转换部分
end
endmodule
硬件描述语言是用于描述硬件电路的一种专用计算机编程语言，用它可以
对任何复杂电路进行完整的功能、动态时间参数甚至功耗参数的描述。在本章
中我们仅用Verilog HDL对一些简单的数字电路的逻辑功能进行了描述。目前
得到普遍应用的硬件描述语言主要有Verilog HDL和VHDL两种。多数EDA应
用软件都可以接受这两种语言编写的源文件。
作为一种高级语言，Verilog HDL有严格的语法规定。必须严格按照这些规
定编写出的源文件，才能被应用软件所识读和运行。因受课内学时所限，本章仅
仅向读者初步介绍了一下Verilog HDL的概貌。要全面了解和真正掌握它，还需
进一步地学习，并在实践中加深理解。
习题 455
【题9.1】 用Verilog HDL语言的结构描述方式，描述图P9.1所示电路的逻辑功能。
C-B T
—Result
A-
图P9.1
【题9.2】 用Verilog HDL语言实现对[题4.6]所要设计电路的逻辑功能描述。
【题9.3】用Verilog HDL语言描述一个4选1数据选择器。
【题9.4】用Verilog HDL语言描述一个4位超前进位加法器。
【题9.5】 请根据下面所给的语言描述，画出对应的逻辑电路图。
module binary ToESeg;
wire eSeg,p1,p2,p3,p4;
reg A,B,C,D;
nand
g1(p1,C,~D),
g2(p2,A,B),
g3(p3,~B,~D),
g4(p4,A,C),
g5(eSeg,p1,p2,p3,p4);
endmodule
第十章
脉冲波形的产生和整形
内容提要
本章限于介绍矩形脉冲波形的产生和整形电路。
在脉冲整形电路中，介绍了最常用的两类整形电路——施密特触发器和单稳态触发
器电路。在脉冲振荡电路中，介绍了多谐振荡器电路的几种常见形式——对称式和非对
称式多谐振荡器、环形振荡器以及用施密特触发器构成的多谐振荡器等。在本章的最后，
讨论了广为应用的555定时器和用它构成施密特触发器、单稳态触发器和多谐振荡器的
方法，并给出了用Multisim 7分析脉冲发生器电路的实例。
10.1 概述
获取矩形脉冲波形的途径不外乎两种：一种是利用各种形式的多谐振荡
器电路直接产生所需要的矩形脉冲，另一种则是通过各种整形电路将已有的
周期性变化波形变换为符合要求的矩形脉冲。当然，在采用整形的方法获取
矩形脉冲时，是以能够找到频率和幅度都符合要求的一种已有电压信号为前
提的。
在同步时序电路中，作为时钟信号的矩形脉冲控制和协调着整个系统的工
作。因此，时钟脉冲的特性直接关系到系统能否正常地工作。为了定量描述矩
形脉冲的特性，通常给出图10.1.1中所标注的几个主要参数。这些参数是：
脉冲周期T——周期性重复的脉冲序列中，两个相邻脉冲之间的时间间隔。
f=表示单位时间内脉冲重复的次数。 有时也使用频率
脉冲幅度Vm——脉冲电压的最大变化幅度。
10.2 施密特触发器 457
tr ta
0.9Vm-
0.5Vm Vm
0.1Vm
tw
T
图10.1.1 描述矩形脉冲特性的主要参数
脉冲宽度tw——从脉冲前沿到达0.5V起，到脉冲后沿到达0.5V为止的
一段时间。
上升时间t——脉冲上升沿从0.1 V上升到0.9 Vm所需要的时间。
下降时间t——脉冲下降沿从0.9Vm下降到0.1 Vm所需要的时间。
占空比q——脉冲宽度与脉冲周期的比值，亦即q=tw/T。
此外，在将脉冲整形或产生电路用于具体的数字系统时，有时还可能有一些
特殊的要求，例如脉冲周期和幅度的稳定性等。这时还需要增加一些相应的性
能参数来说明。
10.2 施密特触发器
施密特触发器(Schmitt Trigger)是脉冲波形变换中经常使用的一种电路，它
在性能上有两个重要的特点：
第一，输入信号从低电平上升的过程中电路状态转换时对应的输入电平，与
输入信号从高电平下降过程中对应的输入转换电平不同。
第二，在电路状态转换时，通过电路内部的正反馈过程使输出电压波形的边
沿变得很陡。
利用这两个特点不仅能将边沿变化缓慢的信号波形整形为边沿陡峭的矩形
波，而且可以将叠加在矩形脉冲高、低电平上的噪声有效地清除。
下面我们将会看到，施密特触发器和第五章中所讲过的触发器(Flip-Flop)
是性质完全不同的两种电路。它们的英文名称原本也截然不同，由于最初将
Schmitt Trigger译成中文时用了“施密特触发器”这个名称，并且一直沿用下来
了，所以很容易令初学者产生误解，错误地认为施密特触发器和通常所说的触发
器是同一类电路。
458 第十章 脉冲波形的产生和整形
10.2.1 用门电路组成的施密特触发器
将两级反相器串接起来，同时通过分压电阻将输出端的电压反馈到输入端，
就构成了图10.2.1(a)所示的施密特触发器电路。
R?
W
v?- 1 Vo
R?
v? W
Vo
VA vo
G? G? Vi Ⅱ vó
vó
(a) (b)
图10.2.1 用CMOS反相器构成的施密特触发器
(a)电路图(b)图形符号
VH~2voo,且 假定反相器G,和G?是CMOS电路，它们的阈值电压为
R?<R?。
当v?=0时，因G?、G?接成了正反馈电路，所以vo=Vo≈0。这时G,的输
入vA≈0。
当v?从0逐渐升高并达到vA=VTH时，由于G,进入了电压传输特性的转折
区(放大区),所以vA的增加将引发如下的正反馈过程
vA↑—→vo →vo个
于是电路的状态迅速地转换为vo=VoH≈Vpp。由此便可以求出v?上升过程中
电路状态发生转换时对应的输入电平VT+。因为这时有
A=Vm~R+R,v?
所以 .=RRRrvm=(1+起)vm (10.2.1)
VT+称为正向阈值电压。
当v?从高电平Vpp逐渐下降并达到vA=VTH时，vA的下降会引发又一个正反
馈过程
vA—→vo↑—→vo↓
使电路的状态迅速转换为vo=VoL≈0。由此又可以求出v?下降过程中电路状
—
10.2 施密特触发器 459
态发生转换时对应的输入电平VT_。由于这时有
0A=Vm~V-(Voo-Vr)R?+R?
所以 1-RrR?rm-R
将 VDp=2VTH代入上式后得到
v1=(1-R)vm (10.2.2)
VT_称为负向阈值电压。
我们将VT+与VT_之差定义为回差电压△VT,即
△VT=VT+-VT- (10.2.3)
根据式(10.2.1)和式(10.2.2)画出的电压传输特性如图10.2.2(a)所示。
因为vo和v?的高、低电平是同相的，所以也将这种形式的电压传输特性称为同
相输出的施密特触发特性。
vo v% 2晨vm 2m
0 VTH Vpp U? 0 VTH VoD U?
(a) (b)
图10.2.2 图10.2.1电路的电压传输特性
(a)同相输出(b)反相输出
如果以图10.2.1(a)中的v??为输出端，则得到的电压传输特性将如图
10.2.2(b)所示。由于 v'??v?的高、低电平是反相的，所以将这种形式的电压传
输特性称为反相输出的施密特触发特性。
通过改变R?和R?的比值可以调节VT+、VT_和回差电压的大小。但R?必
须小于R?,否则电路将进入自锁状态，不能正常工作。
【例10.2.1】 在图10.2.1(a)电路中，如果要求VT+=7.5V,△VT=5V,试
求R,、R?和VDp的值。
解：由式(10.2.1)、(10.2.2)和(10.2.3)得到
460 第十章 脉冲波形的产生和整形
=0.5,vm=5V。 从以上两式解出
因此应取VDD=10V。
为保证反相器G?输出高电平时的负载电流不超过最大允许值|IoH(max),应使
RR<Iloc, (10.2.4)
如果G?、G?选用CC4069六反相器中的两个反相器，则由手册中查得当
VDp=10V时|IOH(max)=1.3 mA。将|IoH(max)及Voa(VoH≈Vpp)、VTH值代入式
(10.2.4)求得
R?>1.35=3.85kO
故可取R?=22 kΩ,R?=2R?=11 kΩ。
*10.2.2 集成施密特触发器
由于施密特触发器的应用非常广泛，所以无论是在TTL电路中还是在
CMOS电路中，都有单片集成的施密特触发器产品。
图10.2.3是TTL电路集成施密特触发器7413的电路图①。因为在电路的
二极管与门 施密特电路 电平偏移 输出电路
Vcc
R?
4kQ
R, 14 以 2k& Rs R?S R30。 T以
iB i? T? Vc?
A D? Va1上 ic T? Vc2 T? D?
8CD 工 p-Y
B D? D?中
C D? T? VE ic2 T?
vo
Y
D DA R?480Ω R。 T? 图形符号
R
图10.2.3 带与非功能的TTL集成施密特触发器
① 严格地讲这是一个DTL电路，即输入端为二极管结构而输出端是三极管结构。
V?
10.2 施密特触发器 461
输入部分附加了与的逻辑功能，同时在输出端附加了反相器，所以也将这个电路
称为施密特触发的与非门。在集成电路手册中将它归入与非门一类中。
这个电路包含二极管与门、施密特电路、电平偏移电路和输出电路4个部
分，其中的核心部分是由T?、T?、R?、R?和R4组成的施密特电路。
施密特电路是通过公共发射极电阻耦合的两级正反馈放大器。假定三极管
发射结的导通压降和二极管的正向导通压降均为0.7V,那么当输入端的电压
使得
VBi-vE=VBEI<0.7 V
则T?将截止而T?饱和导通。若vg?逐渐升高并使vBEI>0.7V时，T,进入导通
状态，并有如下的正反馈过程发生
ic↑ ic? →Vc1
VBE1T VE
从而使电路迅速转为T?饱和导通、T?截止的状态。
若vB1从高电平逐渐下降，并且降到vBE1只有0.7V左右时，ic开始减小，于
是又引发了另一个正反馈过程
VB ica →vc↑—→ic?1 kt
使电路迅速返回T,截止、T?饱和导通的状态。
可见，无论T?由导通变为截止还是由截止变为导通，都伴随有正反馈过程
发生，使输出端电压vc?的上升沿和下降沿都很陡。
同时，由于R?>R?,所以T?饱和导通时的vE值必然低于T?饱和导通时的
vE值。因此，T?由截止变为导通时的输入电压VB+高于T?由导通变为截止时
的输入电压VBI_,这样就得到了施密特触发特性。若以VT和VT_分别表示与
VB+和VB_相对应的输入端电压，则VT+同样也一定高于VT。
由图10.2.3可以写出T?截止、T?饱和导通时电路的方程为
+atR(ate)=v (10.2.5)
其中VBE(set)?、VCE(sat)?分别表示T?饱和导通时b-e间和c-e间的压降。假定
iR?≈ic?,则可从式(10.2.5)求出
-RYVa-R-R+R?(R,+(Ya-Vcm) (10.2.6)
-R(Ya-R-R+R)(R)+K-Vam) (10.2.7)
462 第十章 脉冲波形的产生和整形
将图10.2.3中给定的参数代入式(10.2.6)和式(10.2.7),并取VBE(sat)=
0.8V,VCE(sat)=0.2V,于是得到
ic?≈2.2 mA
iBz≈1.3 mA
VE?=R?(ig?+ic?)≈1.7V
VBI+=VE?+0.7V≈2.4 V
另一方面，当vBI从高电平下降至仅比R?上的压降高0.7V以后，T,开始脱
离饱和，vcE开始上升。至vcE?大于0.7V以后，T?开始导通并引起正反馈过程，
因此转换时R?上的压降为
=(Vac-Pcm)R+R (10.2.8)
将vcE=0.7V、R?=2 kΩ、R?=0.48 kΩ代入上式计算后得到
vE≈0.8V
VBI-=vE?+0.7V≈1.5V
因为整个电路的输入电压v?等于vB?减去输入端二极管的压降VD,故得
VT+=VBI+-VD≈1.7 V
VT-=VBI--VD≈0.8V
△VT=VT+-VT-≈0.9V
为了降低输出电阻以提高电路的驱动能力，在整个电路的输出部分设置了
倒相级和推拉式输出级电路。
由于T?导通时施密特电路输出的低电平较高(约为1.9V),若直接将vc?
与T?的基极相连，将无法使T?截止，所以必须在vc?与T?的基极之间串进电平
偏移电路。这样就使得vc?≈1.9 V时电平偏移电路的输出仅为0.5V左右，保
证T?能可靠地截止。 vo/V
图10.2.4为集成施密特触发器7413的
电压传输特性。对每个具体的器件而言，它
的VT+、VT_都是固定的，不能调节。
4
3
2
图10.2.5是CMOS 集成施密特触发器
1
CC40106的电路图。电路的核心部分是由
T?~T?组成的施密特触发电路。如果没有 0 0.5 1.0 1.5 2.0 V?/V
T?和T?存在，那么T?、T?、T4和T?仅仅是一 图10.2.4 集成施密特触发器
个反相器，无论输入信号v?从高电平降低时 7413的电压传输特性
v?=2vo附近。 还是从低电平升高时转换电平均在
10.2 施密特触发器 463
施密特电路 整形级 缓冲级
Vop
T? T? T? TI
T? T?
v?- 镍护 Vo1 Vo
Ts T?
T? T? Vbo T??
T1o
图10.2.5 CMOS集成施密特触发器CC40106
接入T?和T?以后的情况就不同了。设P沟道MOS 管的开启电压为
VGS(th)p,N沟道MOS管的开启电压为VCS(h)N。当v?=0时T,、T?导通而T?、T?截
止，这是显而易见的。此刻vo为高电平(vo≈VDD),它使T?截止、T?导通并工
作在源极输出状态。因此，Ts源极的电位vss较高，vss≈VDD-VGS(h)N。
在v?逐渐升高的过程中，当 v?>VGS(th)N以后，T?导通。但由于vss很高，即使
1>2vop,T,仍不会导通。当v?继续升高，直到T?、T?的栅源电压Ivcs:1、vcs?1
减小到T、T?趋于截止时，T,和T?的内阻开始急剧增大，从而使 vo和vss开始
下降，最终达到v?-vss≥VGS(h)N,于是T?开始导通并引起如下的正反馈过程
vol↓—→ vss↓→Vcs↑—→Rons(T?的导通内阻)↓
从而使Ts迅速导通并进入低压降的电阻区。与此同时，随着vo的下降T?导
通，并进而使T、T?截止，vo:下降为低电平。
因此，在Voo>>VGS(h)N+IVGS(h)pl的条件下，v?上升过程的转换电平VT+要
2voo 比 高得多。而且，VDp越高VT+也随之升高。
同理，在Vop>>VGS(tb)N+IVGS(th)p1的条件下，v?下降过程中的转换电平VT_
2voo 要比 低得多，其转换过程与v?上升时的情况类似，读者可自行分析。
T?~T??组成的整形电路是两个首尾相连的反相器。在vo?上升和下降的过
程中，通过两级反相器的正反馈作用，使输出电压波形进一步得到改善。T和
T??组成输出缓冲级，它不仅提高了电路的带负载能力，还起到了将内部电路与
464 第十章 脉冲波形的产生和整形
负载隔离的作用。
图10.2.6给出了CC40106的电压传输特性以及Vpp对VT+和V_影响的关
系曲线。由于集成电路内部器件参数差异较大，所以VT+、VT_的数值有较大的
分散性。图10.2.6(b)中的曲线说明，VT+、VT_不仅受Vpp的影响，而且在VDp确
定时VT+、VT_值对不同器件可能不完全一样。
vo/V
15 Vop=15V 15
10 10Vi 10
5
5V 5
0 5 10 15 v?/V 0 5 10 15Vpp/V
(a) (b)
图10.2.6 集成施密特触发器CC40106的特性
(a)电压传输特性(b)Vpp对 VT+、VT_的影响
10.2.3 施密特触发器的应用
一、用于波形变换
利用施密特触发器状态转换过程中的正反馈作用，可以将边沿变化缓慢的
周期性信号变换为边沿很陡的矩形脉
Ⅱ Vr ·Vo 冲信号。
在图10.2.7的例子中，输入信号
是由直流分量和正弦分量叠加而成的，
只要输入信号的幅度大于VT+,即可在
施密特触发器的输出端得到同频率的
矩形脉冲信号。
v?
VT+
VT-
0 t
vo
二、用于脉冲整形
在数字系统中，矩形脉冲经传输后
往往发生波形畸变，图 10.2.8中给出
了几种常见的情况。
图10.2.7 用施密特触发器实现波形变换 当传输线上电容较大时，波形的上
升沿和下降沿将明显变坏，如图10.2.8(a)所示。当传输线较长，而且接收端的
0 t
10.2 施密特触发器 465
阻抗与传输线的阻抗不匹配时，在波形的上升沿和下降沿将产生振荡现象，如图
10.2.8(b)所示。当其他脉冲信号通过导线间的分布电容或公共电源线叠加到
矩形脉冲信号上时，信号上将出现附加的噪声，如图10.2.8(c)所示。
无论出现上述的哪一种情况，都可以通过用施密特触发器整形而获得比较
理想的矩形脉冲波形。由图10.2.8可见，只要施密特触发器的VT+和VT_设置
得合适，均能收到满意的整形效果。
vI vo F Vr Vo
v? v?
VT+ VT VT+
-VT O
Vo t o
Vok
t
0 t o t
(a) (b)
v? Ⅱ Vo
v?
VT+
-VT-
0
Vo
t
0 t
(c)
图10.2.8 用施密特触发器对脉冲整形
三、用于脉冲鉴幅
由图10.2.9可见，若将一系列幅度各异的脉冲信号加到施密特触发器的输
入端，只有那些幅度大于VT+的脉冲才会在输出端产生输出信号。因此，施密特
触发器能将幅度大于VT+的脉冲选出，具有脉冲鉴幅的能力。
此外，利用施密特触发器的滞回特性还能构成多谐振荡器，具体内容将在本
章10.4节中介绍。
466 第十章 脉冲波形的产生和整形
v? T Vo
vr
VT+
V-
0 t
Vo
0 t
图10.2.9 用施密特触发器鉴别脉冲幅度
复习思考题
R10.2.1 能否用施密特触发器存储1位二值代码?为什么?
R10.2.2 在图10.2.1所示的施密特触发器电路中，为什么要求R?<R??
R10.2.3 反相输出的施密特触发器的电压传输特性和普通反相器的电压传输特性有
什么不同?
10.3 单稳态触发器
单稳态触发器(Monostable Multivibrator,又称One-shot)的工作特性具有如
下的显著特点：
第一，它有稳态和暂稳态两个不同的工作状态；
第二，在外界触发脉冲作用下，能从稳态翻转到暂稳态，在暂稳态维持一段
时间以后，再自动返回稳态；
第三，暂稳态维持时间的长短取决于电路本身的参数，与触发脉冲的宽度和
幅度无关。
由于具备这些特点，单稳态触发器被广泛应用于脉冲整形、延时(产生滞后
于触发脉冲的输出脉冲)以及定时(产生固定时间宽度的脉冲信号)等。
10.3 单稳态触发器 467
10.3.1 用门电路组成的单稳态触发器
单稳态触发器的暂稳态通常都是靠RC电路的充、放电过程来维持的。根
据RC电路的不同接法(即接成微分电路形式或积分电路形式),又将单稳态触
发器分为微分型和积分型两种。
一、微分型单稳态触发器
图10.3.1是用CMOS 门电路和RC微分电路构成的微分型单稳态触发器。
对于CMOS 门电路，可以近似地 VpD 认为VoH≈VDD、VoL≈0,而且通常VTH
SR
~2voo Ca G? 。在稳态下 v?=0、vp=VDD,故 G? vd Vo1 UI
vo=0、vo=VDp,电容C上没有电压。 RaS C
Vo
UD
当触发脉冲v?加到输人端时，在
R。和C。组成的微分电路输出端得到
很窄的正、负脉冲va。当va上升到
VTH以后，将引发如下的正反馈过程
图10.3.1 微分型单稳态触发器
—→v??—→v。↑ a—
使 vo?迅速跳变为低电平。由于电容上的电压不可能发生突跳，所以v??也同时
跳变至低电平，并使v。跳变为高电平，电路进入暂稳态。这时即使 va回到低电
平，vo的高电平仍将维持。
与此同时，电容C开始充电。随着充电过程的进行 v??逐渐升高，当升至
v?p=VTH时，又引发另外一个正反馈过程
v12↑—→vo↓—→vo?↑
如果这时触发脉冲已消失(vd已回到低电平),则vo?、v?迅速跳变为高电
平，并使输出返回vo=0的状态。同时，电容C通过电阻R和门G?的输入保护
电路向VDp放电，直至电容上的电压为0,电路恢复到稳定状态。
根据以上的分析，即可画出电路中各点的电压波形，如图10.3.2所示。
为了定量地描述单稳态触发器的性能，经常使用输出脉冲宽度tw、输出脉
冲幅度Vm、恢复时间te、分辨时间t。等几个参数。
由图10.3.2可见，输出脉冲宽度tw等于从电容C开始充电到v??上升至
VrH的这段时间。电容C充电的等效电路如图10.3.3所示。图中的RoN是或非
门 G,输出低电平时的输出电阻。在RoN<<R的情况下，等效电路可以简化为
简单的RC串联电路。
468 第十章 脉冲波形的产生和整形
根据对RC电路过渡过程的分析可知，在电容充、放电过程中，电容上的电
压vc从充、放电开始到变化至某一数值 V1
VTH所经过的时间可以用下式计算
=RCln"C-vO o
Va
t
(10.3.1)
其中 vc(0)是电容电压的起始值，vc(一)
是电容电压充、放电的终了值。
0 t
由图10.3.2 的 波形图可见，图 Vo1 10.3.1电路中电容电压从0充至VH的
时间即tw。将 vc(0)=0、vc(∞)=Vpp代
入式(10.3.1)得到 ol
Vp t
=RCinv-o -Vm
=RCln2=0.69 RC ol
vo t
(10.3.2) tw tw
输出脉冲的幅度为 ol
Vm=VoH-VoL≈VDD(10.3.3)
t
在v。返回低电平以后，还要等到电 图10.3.2 图10.3.1电路的电压波形图
容C放电完毕电路才恢复为起始的稳态。一般认为经过3~5倍于电路时间常
数的时间以后，RC电路已基本达到稳态。图10.3.1电路中电容C放电的等效
电路如图10.3.4所示。图中的D?是反相器G?输入保护电路中的二极管。如
果D?的正向导通电阻比R和门G?的输出电阻Ron小得多，则恢复时间为
tre≈(3~5)R。NC (10.3.4)
分辨时间t。是指在保证电路能正常工作的前提下，允许两个相邻触发脉冲
之间的最小时间间隔，故有
VpD VoD
SR
SR
G? G? Up
RoN C VI2
C
图10.3.3 图10.3.1电路中电容C充电的等效电路
—
10.3 单稳态触发器 469
ta=tw+tre (10.3.5)
微分型单稳态触发器可以用窄脉冲触发。在 va的脉冲宽度大于输出脉冲
宽度的情况下，电路仍能工作，但是输出脉冲的下降沿较差。因为在v。返回低
电平的过程中va输入的高电平还存在，所以电路内部不能形成正反馈。
VDD
RoN RS
D?
C
Un
R
vo v? Vo1 VAG? G?
G?
C:
G?
图10.3.4 图10.3.1电路中电
容C放电的等效电路
图10.3.5 积分型单稳态触发器
二、积分型单稳态触发器
图10.3.5是用TTL与非门和反相器以及RC积分电路组成的积分型单稳
态触发器。为了保证vo?为低电平时vA在VTH以下，R的阻值不能取得很大。这
个电路用正脉冲触发。
稳态下由于v?=0,所以vo=VoH,VA=vo=VoH。
当输入正脉冲以后，vo?跳变为低电
平。但由于电容C上的电压不能突变，
所以在一段时间里vA仍在VTH以上。因
此，在这段时间里G?的两个输入端电压
同时高于V,使vo=VoL,电路进入暂稳
态。同时，电容C开始放电。
V14
tTR-
0
Vo1
t
0
VA
然而这种暂稳态不能长久地维持下
去，随着电容C的放电vA不断降低，至vA -VTH
ol t =VTH后，v。回到高电平。待v?返回低电 Vo
平以后，vo?又重新变成高电平VoH,并向 tw tw
电容C充电。经过恢复时间tr(从v?回 o t
到低电平的时刻算起)以后，vA恢复为高
电平，电路达到稳态。电路中各点电压的 图10.3.6 图10.3.5电路的电压波形图
t
波形如图10.3.6所示。
由图10.3.6可知，输出脉冲的宽度等于从电容C开始放电的一刻到vA下
470 第十章 脉冲波形的产生和整形
降至VTH的时间。为了计算 tw,需要画出电容C放电的等效电路，如图10.3.7
(a)所示。鉴于vA高于VTH期间G?的输入电流非常小，可以忽略不计，因而电
容C放电的等效电路可以简化为(R+R。)与C串联。这里的R。是G?输出为
低电平时的输出电阻。
Vcc VoL
G? R? G?
R+Ro
R
W
VA VA
Ro C
VoL 不工工 C
(a)
VA
VoH
VH
0
tw t
(b)
图10.3.7 图10.3.5电路中电容C的放电回路和vA的波形
(a)放电回路(b)vA的波形
将图10.3.7(b)曲线给出的vc(0)=VoH、vc()=Vo代入式(10.3.1)即
可得到
=(R+R。)ChnVo-Vom (10.3.6)
输出脉冲的幅度为
Vm=VoH-VoL (10.3.7)
恢复时间等于vo?跳变为高电平后电容C充电至V所经过的时间。若取
充电时间常数的3~5倍时间为恢复时间，则得
tre≈(3~5)(R+R? (10.3.8)
其中R??G?输出高电平时的输出电阻。这里为简化计算而没有计入 G,输入
电路对电容充电过程的影响，所以算出的恢复时间是偏于安全的。
10.3 单稳态触发器 471
这个电路的分辨时间应为触发脉冲的宽度tTR和恢复时间之和，即
ta=tTR+tre (10.3.9)
与微分型单稳态触发器相比，积分型单稳态触发器具有抗干扰能力较强的
优点。因为数字电路中的噪声多为尖峰脉冲的形式(即幅度较大而宽度极窄的
脉冲),而积分型单稳态触发器在这种噪声作用下不会输出足够宽度的脉冲。
积分型单稳态触发器的缺点是输出波形的边沿比较差，这是由于电路的状
态转换过程中没有正反馈作用的缘故。此外，这种积分型单稳态触发器必须在
触发脉冲的宽度大于输出脉冲宽度时方能正常工作。
如果想使图10.3.5所示的积分型单稳态电路在窄脉冲的触发下能够正常
工作，可以采用图10.3.8所示的改进电路。不难看出，这个电路是在图10.3.5
电路的基础上增加了与非门 G?和输出至G?的反馈连线而形成的。该电路用负
脉冲触发。
VI
R
W vo
G? Vo3 Vo1 VA G? G? c:
图10.3.8 窄脉冲可以触发的积分型单稳态触发器
当负触发脉冲加到输入端时，使vo?变为高电平、vo变为低电平，电路进入暂
稳态。由于vo反馈到了输入端，所以虽然这时负触发脉冲很快消失了，在暂稳
态期间vo?的高电平也将继续维持。直到RC电路放电到vA=VTH以后，vo才返
回高电平，电路回到稳态。
10.3.2 集成单稳态触发器
鉴于单稳态触发器的应用十分普遍，在TTL电路和CMOS电路的产品中，
都生产了单片集成的单稳态触发器器件。
使用这些器件时只需要很少的外接元件和连线，而且由于器件内部电路一
般还附加了上升沿与下降沿触发的控制和置零等功能，使用极为方便。此外，由
于将元、器件集成于同一芯片上，并且在电路上采取了温漂补偿措施，所以电路
的温度稳定性比较好。
一、TTL集成单稳态触发器
图10.3.9是TTL集成单稳态触发器74121简化的原理性逻辑图。它是在普
通微分型单稳态触发器的基础上附加以输入控制电路和输出缓冲电路而形成的。
门 G?G?、G,和外接电阻Rex、外接电容Ce组成微分型单稳态触发器。如
472 第十章 脉冲波形的产生和整形
Vcc
|9
B
5
G?
Vis G? WRext Rim
Vo6 Cx
A4 4! G? G 10 仁0
Q
G?
3
G?
G?
Q' 6
vo G?
1
v6
G?
图10.3.9 集成单稳态触发器74121简化的逻辑图
果把G?和G?合在一起视为一个具有施密特触发特性的或非门，则这个电路与
图10.3.1所讨论过的微分型单稳态触发器基本相同。它用门G?给出的正脉冲
触发，输出脉冲的宽度由Rex和Cex的大小决定。
门G?~G?组成的输入控制电路用于实现上升沿触发或下降沿触发的控
制。需要用上升沿触发时，触发脉冲由B端输入，同时A,或A?当中至少要有一
个接至低电平。当触发脉冲的上升沿到达时，因为门G?的其他三个输入端均处
于高电平，所以vs也随之跳变为高电平，并触发单稳态电路使之进入暂稳态，输
出端跳变为vo=1、v=0。与此同时，v??低电平立即将门G?和G?组成的锁
存器置零，使v?返回低电平。可见，v?5的高电平持续时间极短，与触发脉冲的宽
度无关。这就可以保证在触发脉冲宽度大于输出脉冲宽度时输出脉冲的下降沿
仍然很陡。因此，74121具有边沿触发的性质。
在需要用下降沿触发时，触发脉冲则应由A?或A?输入(另一个应接高电
平),同时将B端接高电平。触发后电路的工作过程和上升沿触发时相同。
表10.3.1是74121的功能表，图10.3.10是74121在触发脉冲作用下的波
形图。
表10.3.1 集成单稳态触发器74121的功能表
输 人 输 出
A? A? B vo v%
0 × 1 0 1
× 0 1 0 1
10.3 单稳态触发器 473
续表
输 入 输 出
A? A? B vo
× 0 0
1 × 0
1 L
1 1 L
1
× 5
0 5 几
v'%
× 1
1 1
1
U
7 厂
0
×
A?
o
A?
t
olB
t
ol
vo t
tw tw tw ol t
图10.3.10 集成单稳态触发器
74121的工作波形图
输出缓冲电路由反相器G?和G,组成，用于提高电路的带负载能力。
根据门 G?输出端的电路结构和门G,输入端的电路结构可以求出计算输出
脉冲宽度的公式
tw≈RextCextIn2=0.69RextCext (10.3.10)
通常R。的取值在2~30 kΩ之间，Cex的取值在10 pF~10μF之间，得到的
tw范围可达20 ns~200 ms。
另外，还可以使用74121内部设置的电阻R取代外接电阻Rex,以简化外
部接线。不过因Ri的阻值不太大(约为2 kΩ),所以在希望得到较宽的输出脉
474 第十章 脉冲波形的产生和整形
冲时，仍需使用外接电阻。图10.3.11示出了使用外接电阻和内部电阻时电路
的连接方法。
Vcc Vcc
Cext Rext
W
Cext
10 11 19 14
3
U?
CextRext Rint Vcc
Cxt
A?
A? 74121 Vo
B
vó
GND
3
4
6
4
10 11 9 14
Cext Rext Rint Vcc
Cext
A? 74121 Vo
A?
B
vó
GND
6
5 1 v? 5 1
1 7 7
(a) (b)
图10.3.11 集成单稳态触发器74121的外部连接方法
(a)使用外接电阻Rex(下降沿触发)(b)使用内部电阻Ri(上升沿触发)
目前使用的集成单稳态触发器有不可重复触发型和可重复触发型两种。不
可重复触发的单稳态触发器一旦被触发进入暂稳态以后，再加入触发脉冲不会
影响电路的工作过程，必须在暂稳态结束以后，它才能接受下一个触发脉冲而转
入暂稳态，如图10.3.12(a)所示。而可重复触发的单稳态触发器就不同了，在
电路被触发而进入暂稳态以后，如果再次加入触发脉冲，电路将重新被触发，使
输出脉冲再继续维持一个tw宽度，如图10.3.12(b)所示。
74121、74221、74LS221都是不可重复触发的单稳态触发器。属于可重复触
发的单稳态触发器有74122、74LS122、74123、74LS123等。
有些集成单稳态触发器上还设置有复位端(例如74221、74122、74123
VI v?
o
vo
o
t
o
Vok
tw
t
0
tw
(a) (b)
图10.3.12 不可重复触发型与可重复触发型单稳态触发器的工作波形
(a)不可重复触发型(b)可重复触发型
t
t
10.3 单稳态触发器 475
等)。通过在复位端加入低电平信号能立即终止暂稳态过程，使输出端返回
低电平。
*二、CMOS 集成单稳态触发器
现以CC14528为例介绍一下 CMOS单稳态触发器的工作原理。
图10.3.13是CC14528的逻辑图。由图可见，除去外接电阻Rex和外接电
容Cex以外，CC14528本身包含三个组成部分：门G?、G??、G??和T?(P沟道)、T?
(N沟道)组成的三态门；门G?~G,组成的输入控制电路；门G13~G??组成的输
出缓冲电路。A为下降沿触发输入端，B为上升沿触发输入端，R'为置零输人
端，v。和v'??两个互补输出端。
VoD VoD
T? R' Rext GH G?2 三态门 vo G??
G??
G?5 G?6
输出缓冲电路
-vó G?0 Cex
T? vo
G? V04
G? G?
G? G? G?
G? G? Vo7
A-
B- 控制电路 Gs
图10.3.13 集成单稳态触发器CC14528的逻辑图
电路的核心部分是由积分电路(Rex和Cex)、三态门和三态门的控制电路构
成的积分型单稳态触发器。
在没有触发信号时(A=1、B=0)电路处于稳态，门 G?的输出vo4肯定停在
高电平。倘若接通电源后G?和G?组成的锁存器停在了vo?等于低电平的状态，
由于电容上的电压vc在开始接通电源瞬间也是低电平，所以门 G。输出低电平
并使G,输出为高电平、G?输出为低电平。于是vo?被置成高电平。如果接通电
源后vo?已为高电平，则由门 G?和G,组成的锁存器一定处于vo?为低电平的状
态，故G?的输出为高电平，vo?的高电平状态将保持不变。
由于这时G?输出为低电平而G??输出为高电平，因而T,和T?同时截止，
476 第十章 脉冲波形的产生和整形
Cex通过Rx被充电，最终稳定在vc=VDD,所以输出vo=0、v=1。
在采用上升沿触发时，从B端加入正的触发脉冲(A保持为高电平),G?和
G?组成的锁存器立即被置成vo?=0的状态，从而使G?的输出变为高电平，T?
导通，Cext开始放电。当vc下降到G?3的转换电平VTH?3时，输出状态改变，成为
vo=1,v?,电路进入暂稳态。
但这种状态不会一直持续下去，当vc进一步下降，降至G,的阈值电压VTH9
时，G,的输出变成低电平，并通过G,、G?将vo?置成高电平，于是T?截止，Cex又
重新开始充电。当vc充电到VTH?3时，输出端返回vo=0、v=1的状态。Cex继
续充电至Voo以后，电路又恢复为稳态。
图10.3.14中给出了vc和
v。在触发脉冲作用下的工作波
形。由图可见，输出脉冲宽度
tw等于vc从VTH?3下降到VTH9
的放电时间与vc再从VTH?充电
到VTH?3的充电时间之和。为了
获得较宽的输出脉冲，一般都
将VTH?3设计得较高而将VTH?设
计得较低。
A
o
B
t
o
vc t
VTH13
VTH9
o
Vo
tw
t
tw 在要求用下降沿触发时，
应从A端输入负的触发脉冲，
同时令B端保持在低电平。
0 t
图10.3.14 集成单稳态触发器CC14528的工作波形
利用R'端置零时，应在R'端加入低电平信号，这时T?导通、T?截止，Cext通
过T,迅速充电到VDD,使vo=0。
输出脉冲宽度仍可用式(10.3.10)计算，即
tw≈0.69 RxCext
复习思考题
R10.3.1 单稳态触发器输出脉冲的宽度(即暂稳态持续时间)由哪些因素决定?与触
发脉冲的宽度和幅度有无关系?
R10.3.2 比较一下图10.3.1的微分型单稳态触发器和图10.3.5的积分型单稳态触发
器，它们各有何优、缺点?
10.4 多谐振荡器 477
10.4 多谐振荡器
多谐振荡器(Astable Multivibrator)是一种自激振荡器，在接通电源以后，不
需要外加触发信号，便能自动地产生矩形脉冲。由于矩形波中含有丰富的高次
谐波分量，所以习惯上又将矩形波振荡器称为多谐振荡器。
10.4.1 对称式多谐振荡器
图10.4.1所示电路是对称式多谐振荡器的典型电路，它是由两个反相器
G?、G?经耦合电容C?、C?连接起来的正反馈振荡回路。
为了产生自激振荡，电路不能有
稳定状态。也就是说，在静态下(电路
没有振荡时)它的状态必须是不稳定
C?
G? G?
Vo VI
的。由图10.4.2所示反相器的电压传
输特性上可以看出，如果能设法使G,、
G?工作在电压传输特性的转折区或线
性区，则它们将工作在放大状态，即电
Vn1 Vo2
C
W
RF?
W
RF?
图10.4.1 对称式多谐振荡器电路
A.=A>1。 压放大倍数 这时只要G,或G?的输入电压有极微小的扰动，就会
被正反馈回路放大而引起振荡，因此图10.4.1电路的静态将是不稳定的。
为了使反相器静态时工作在放大状态，必须给它们设置适当的偏置电压，它
的数值应介于高、低电平之间。这个偏置电压可以通过在反相器的输入端与输
出端之间接入反馈电阻R,来得到。
vo/VA
3.0 Vcc G?
2.0 vo
V?
1.0 △vo P
T?
0 0.5 1.0 1.5 V?/V
-△v? RF
图10.4.2 TTL反相器(7404)的
电压传输特性
图10.4.3 计算TTL反相器静态
工作点的等效电路
478 第十章 脉冲波形的产生和整形
由图10.4.3可知，如果忽略门电路的输出电阻，则利用叠加定理可求出输
入电压为
R?+R(Vac-Vne)+R?+Rn" (10.4.1)
这就是从外电路求得的 v。与v?的关系。该式表明，vo与v?之间是线性关系，其
斜率为
=RRK
而且vo=0时与横轴相交处的v?值为
01R+R(Vac-VB)
这条直线与电压传输特性的交点就是反相器的静态工作点。只要恰当地选取RF
值，定能使静态工作点P位于电压传输特性的转折区，如图10.4.2中所示。计算
结果表明，对于74系列的门电路而言，RF的阻值应取在0.5~1.9 kΩ之间。
下面具体分析一下图10.4.1所示电路接通电源后的工作情况。
假定由于某种原因(例如电源波动或外界干扰)使vn有微小的正跳变，则必
然会引起如下的正反馈过程
vnT—→vo?→vI?—→vo?T
使vo迅速跳变为低电平、vo?迅速跳变为高电平，电路进入第一个暂稳态。同时
Vec VEi
多R 人人RE1
VOH2
VoLI- Un Vp
C? C?
W
VoL
RF?
(a)
C? VoH
C?
Vn Vou VoH2 V
Rp
RF VoL
(b)
图10.4.4 图10.4.1电路中电容的充、放电等效电路
(a)C?充电的等效电路(b)C?放电的等效电路
10.4 多谐振荡器 479
电容C?开始充电而C?开始放电。图10.4.4中画出了C?充电和C?放电的等
效电路。图(a)中的RE和VE?是根据戴维宁定理求得的等效电阻和等效电压
源，它们分别为 Ra=R,+Rn
n=Von+R,R(Vac-Von-Vm)
(10.4.2)
(10.4.3)
因为C?同时经R?和R?两条支路充电，所以充电速度较快，v??首先上升到
G?的阈值电压VTH,并引起如下的正反馈过程
vp↑—Wo2↓—→vn↓—→vo1
从而使vo?迅速跳变至低电平而vo迅速跳变至高电平，电路进入第二个暂稳态。
同时，C?开始充电而C,开始放
电。由于电路的对称性，这一过程
和上面所述C,充电、C?放电的过
程完全对应，当vπ上升到VTH时电
路又将迅速地返回vo?为低电平而
Vn
VTH
0
VIK t
vo?为高电平的第一个暂稳态。因Vo1
此，电路便不停地在两个暂稳态之
间往复振荡，在输出端产生矩形输
出脉冲。电路中各点电压的波形
0
V12
t
如图10.4.5所示。
从上面的分析可以看到，第一
个暂稳态的持续时间T?等于v?n从
VTH
O
Vik
t
C,开始充电到上升至VTH的时间。
由于电路的对称性，总的振荡周期
必然等于T?的两倍。只要找出C?
充电的起始值、终了值和转换值，
Vo2
ol t
图10.4.5 图10.4.1电路中各点电压的波形
就可以代入式(10.3.1)求出T?值了。
考虑到TTL门电路输入端反向钳位二极管的影响，在vp产生负跳变时只能
下跳至输入端负的钳位电压VIK,所以 C?充电的起始值为vp(0)=VIK。假定
VoL≈0,则C?上的电压vc,也就是vp。于是得到vc,(0)=VIK,vc,(0)=VE?,转换
电压即VH,故得到
T?=RnCin-Vu (10.4.4)
在Rp?=Rm=RF、C?=C?=C的条件下，图10.4.1电路的振荡周期为
480 第十章 脉冲波形的产生和整形
T=2T?=2R?ClnV-m (10.4.5)
式中的RE和V由式(10.4.2)和式(10.4.3)给出。
如果G?、G?为74LS系列反相器，取VoH=3.4V、VIK=-1V、VTH=1.1V,
在R,<<R,的情况下式(10.4.5)可近似地简化为
T≈2R,ClnYom-Vn~1.3R,C (10.4.6)
以供近似估算振荡周期时使用。
【例10.4.1】 在图10.4.1所示的对称式多谐振荡器电路中，已知RF=R?=
1 kΩ,C?=C?=0.1μF。G?和G?为74LSO4中的两个反相器，它们的VoH=3.4V,
VIK=-1V,VTH=1.1V,R?=20 kΩ。取Vcc=5V。试计算电路的振荡频率。
解：由式(10.4.2)和式(10.4.3)求出RE、VE值分别为
R=R?+R=0.95 ko
a=Von+R+R(Vc-Von-Vnm)=3.44V
将R=0.95kΩ、VE=3.44 V、C=0.1 μF、VIk=-1V、VTH=1.1V代入式
(10.4.5)得到
T=2R?ChnY-Vm
=(2×0.95×10-In?.44-1.1)s
=1.22×10-?s
故振荡频率为 f=÷=8.2kHz
10.4.2 非对称式多谐振荡器
如果仔细研究一下图10.4.1所示的对称式多谐振荡器电路就不难发现，这
个电路还能进一步简化。因为静态时
G?工作在电压传输特性的转折区，所
以只要把它的输出电压直接接到G?
的输入端，G?即可得到一个介于高、低
电平之间的静态偏置电压，从而使G?
的静态工作点也处于电压传输特性的
Rp G?
C
G?
VI1 Vo1 V12
Vo2
W
Rp
图10.4.6 非对称式多谐振荡器电路
10.4·多谐振荡器 481
转折区上。因此，可以把C,和R?去掉。只要在反馈环路中保留电容C?,电路
就仍然没有稳定状态，而只能在两个暂稳态之间往复振荡。这样就得到了图
10.4.6所示的非对称式多谐振荡器电路。
现以使用CMOS反相器组成的非对称式多谐振荡器为例，说明一下它的工
作原理。
首先必须保证静态时G?和G?工作在电压传输特性的转折区，以获得较大
的电压放大倍数。由图10.4.6可见，因为在G?的输入端与输出端之间跨接了
电阻Rp,而CMOS门电路的输入电流在正常的输人高、低电平范围内几乎等于
零，所以R,上没有压降，G?必然工作在vo?=v?的状态。因此，表示vo?=vn的直
线与电压传输特性的交点就是G?的静态工作点，如图10.4.7所示。通常VTH=
2vo,这时静态工作点P刚好处在电压传 Vo
vor=vn=2voD 输特性转折区的中点，即 Vpp
的地方。因为vo1=Vn2,所以这时G?的静
态工作点也在电压传输特性的中点。由于
流过R,的静态电流基本等于零，所以对
RF阻值的选择没有严格的限制。
vo P
然而这种静态是不稳定的。假定由于
某种原因使v?有极微小的正跳变发生，则
必将引起如下的正反馈过程
0
2vo
vj
Vn ↑—→Vn↓→vo?1
图10.4.7 图10.4.6电路中CMOS反
相器静态工作点的确定
使 vo?迅速跳变为低电平而vo?迅速跳变为高电平，电路进入第一个暂稳态。同
时，电容C开始放电，放电的等效电路如图10.4.8(a)所示。其中的RoN(N)和
RoN(P)分别表示N沟道MOS管和P沟道MOS管的导通内阻。
随着电容C的放电v?逐渐下降，当降到v=VTH时，又有另一个正反馈过程
发生，即
Vn →v12 —→vo?
使vo?迅速跳变为高电平而vo?迅速跳变为低电平，电路进入第二个暂稳态。同
时电容C开始充电，充电的等效电路如图10.4.8(b)所示。
这个暂稳态同样也不能持久，随着电容C的充电，vn不断升高，当升至vn=
VTH时电路又重新转换为第一个暂稳态。因此，电路便不停地在两个暂稳态之间
振荡。图10.4.9中画出了电路中各点的电压波形。
482 第十章 脉冲波形的产生和整形
DD
C
G
RoNP)
VDDL
人之
RoNP)
C
Vn M
Rp
Un
RoNOp
G? R?+RoNc)
W
Rp
(a)
pp
VDDL
hONP)
G?
C
G? 多Rp+Rone)
Vn
vn W
Rp
C
工州 RoNOp RONC)
W
RF
(b)
图10.4.8 图10.4.6电路中电容的充、放电等效电路
(a)放电的等效电路(b)充电的等效电路
假若G,输入端串接的保护电阻Rp足够大，则vn高于VDp+Vpr或低于-VDF
时G?的输入电流可以忽略不计。 T? T? vn
在RF远大于RON(N)和RON(P)的条件 Vm+VoD
下，根据式(10.3.1)可以近似地求
得图10.4.8(b)中电容C的充电时 VTH
0 间T?为 t
--VTH-VDD
T?≈R?CIn--
(10.4.7) =R,Cln3
Vor
o t
同时，根据电路分析理论可知，
在RC电路充、放电过程中电阻两端
的电压从过渡过程开始到变为某一
数值VH所经过的时间可用下式
计算
Vo21
o t
图10.4.9 图10.4.6电路的工作波形图
10.4 多谐振荡器 483
=RCIn"e-O (10.4.8)
其中vR(一)、vR(0)分别为电阻两端电压的终了值和起始值。
由图10.4.8(a)及图10.4.9可见，v从VTH+VDD下降至VTH的时间也就是
电容C的放电时间T?。由式(10.4.8)得到
T?~R?CIn°-(O-m+Ym)
=RCln3 (10.4.9)
故图10.4.6电路的振荡周期为
T=T?+T?≈2 RFCln3=2.2 RFC (10.4.10)
用TTL反相器同样也能组成如图10.4.6所示的非对称型多谐振荡器。但
需注意的是，在输入电压低于VTH时反相器的输入电流不能忽略不计，所以电容
充、放电时的等效电路略显复杂一些，而且输出电压波形的占空比不等于50??
【例10.4.2】在图10.4.6所示的非对称式多谐振荡器电路中，已知G1、
G?为CMOS反相器 CC4007,输出电阻小于200 Ω。若取VDD=10 V,Rp=
30 kΩ,Rp=4.3 kΩ,C=0.01 μF,试求电路的振荡频率。
解：由于反相器输出电阻RoN(N)、RoN(P)远小于Rp,且Rp又较大，所以可用
式(10.4.10)计算电路的振荡周期，得到
T≈2.2RpC=(2.2×4.3×103×10-8)s
=9.46×10-?s
故电路的振荡周期为
f=-~10.6 kHz
10.4.3 环形振荡器
利用闭合回路中的正反馈作用可以产生自激振荡，利用闭合回路中的延迟
负反馈作用同样也能产生自激振荡，只要负反馈信号足够强。
环形振荡器就是利用延迟负反馈产生振荡的。它是利用门电路的传输延迟
时间将奇数个反相器首尾相接而构成的。
图10.4.10所示电路是一个最简单的环
形振荡器，它由三个反相器首尾相连而组
成。不难看出，这个电路是没有稳定状态
的。因为在静态(假定没有振荡时)下任何
一个反相器的输入和输出都不可能稳定在
VI2 UI3
VIn Vo
G? G? G?
图10.4.10 最简单的环形振荡器
484 第十章 脉冲波形的产生和整形
高电平或低电平，而只能处于高、低电平之间，所以处于放大状态。
假定由于某种原因vn产生了微小的正跳变，则经过G?的传输延迟时间td
之后v?2产生一个幅度更大的负跳变，再经过G?的传输延迟时间td使v13得到更
大的正跳变。然后又经过G?的传输延迟时间t。在输出端v。产生一个更大的负
跳变，并反馈到G?的输入端。因此，经过3tpd的时间以后，v又自动跳变为低电
平。可以推想，再经过3t以后v又将跳变为高电平。如此周而复始，就产生了
自激振荡。 vn
图10.4.11是根据以上分析得到的图 (Vo)
10.4.10电路的工作波形图。由图可见，振
荡周期为T=6td。
-tpd
0
Vr2
t
基于上述原理可知，将任何大于、等于3
的奇数个反相器首尾相连地接成环形电路，
都能产生自激振荡，而且振荡周期为
t中
ol VB
t
T=2ntpd (10.4.11)
其中n为串联反相器的个数。 7p
0
用这种方法构成的振荡器虽然很简单，
但不实用。因为门电路的传输延迟时间极
短，TTL电路只有几十纳秒，CMOS电路也不
T-
t
图10.4.11 图10.4.10电路
的工作波形图
过一二百纳秒，所以想获得稍低一些的振荡频率是很困难的，而且频率不易调
节。为了克服上述缺点，可以在图10.4.11电路的基础上附加RC延迟环节，组
成带 RC延迟电路的环形振荡器，如图10.4.12(a)所示。然而由于RC电路每
次充、放电的持续时间很短，还不能有效地增加信号从G?的输出端到G?输入端
的传输延迟时间，所以图10.4.12(a)不是一个实用电路。
R
W
UI2 Vo2 U3
vo VI
G? G? C: G? G G?
W
R
W
Rs
Vo
G?
(tpd2) C
(a) (b)
图10.4.12 带RC延迟电路的环形振荡器
(a)原理性电路(b)实用的改进电路
为了进一步加大RC电路的充、放电时间，在实用的环形振荡器电路中将电
容C的接地端改接到G?的输出端上，如图10.4.12(b)所示。例如当v??处发生
10.4 多谐振荡器 485
负跳变时，经过电容C使v??首先跳变到一个负电平，然后再从这个负电平开始
对电容C充电，这就加长了v??从开始充电到上升为VTH的时间，等于加大了v??到
v?3的传输延迟时间。
通常RC电路产生的延迟时间远远大于门电路本身的传输延迟时间，所以
在计算振荡周期时可以只考虑RC电路的作用而将门电路固有的传输延迟时间
忽略不计。
另外，为防止v?3发生负突跳时流过反相器G?输入端钳位二极管的电流过
大，还在G?输入端串接了保护电阻Rs。电路中各点的电压波形如图10.4.13
所示。
Vn
(Vo)
0
Vn t
0
Vo2 t
0
V13 t
VH+(Von-Von)
VTH
0 t
Vm-(VoR-Vo)
图10.4.13 图10.4.12(b)电路的工作波形
图10.4.14中画出了电容C充、放电的等效电路。图中忽略了反相器的输
出电阻。利用式(10.3.1)和式(10.4.8)求得电容C的充电时间T?和放电时间
T?各为
T?=R?CInY-LV--Von-Yo (10.4.12)
T?=RCnm+m-Va
=RCnYontm-2 (10.4.13)
486 第十章 脉冲波形的产生和整形
Vcc VE
SR? SRB
Vou VoH--M
R
VI3 W
Rs
VI3
C
G?
C VoL
(a)
Vc
S
G?
R?
VoH
C
VoH VoL2- U13 U13
R Rs R
C VoL
(b)
图10.4.14 图10.4.12(b)电路中电容C的充、放电等效电路
(a)充电时的等效电路(b)放电时的等效电路
其中
Ve=Von+(Vcc-Vn-Vom)R,+R?+R?
R=R+R?+R
(10.4.14)
(10.4.15)
若R?+Rs>>R,VoL≈0,则VE≈VoH,RE≈R,这时式(10.4.12)和式
(10.4.13)可简化为
r≈Rchn2vom-m
T?~RcnYa+Ym
(10.4.16)
(10.4.17)
故图10.4.12(b)电路的振荡周期近似等于
T=T?+T?~Rcn(2vo-vm.Von+Ym (10.4.18)
假定VoH=3V、VTH=1.4V,代入上式后得到
T≈2.2 RC (10.4.19)
式(10.4.19)可用于近似估算振荡周期。但使用时应注意它的假定条件是否满
足，否则计算结果会有较大的误差。
10.4 多谐振荡器 487
10.4.4 用施密特触发器构成的多谐振荡器
前面已经讲过，施密特触发器最突出的特点是它的电压传输特性有一个滞
回区。由此我们想到，倘若能使它的输入电压在VT+与VT_之间不停地往复变
化，那么在输出端就可以得到矩形脉冲波了。
实现上述设想的方法很简单，只要将施密特触发器的反相输出端经RC积
分电路接回输入端即可，如图10.4.15所示。
当接通电源以后，因为电容上的初始电压为零，所以输出为高电平，并开始
经电阻R向电容C充电。当充到输入电压为v?=VT+时，输出跳变为低电平，电
容C又经过电阻R开始放电。
当放电至v?=VT_时，输出电位又跳变成高电平，电容C重新开始充电。如
此周而复始，电路便不停地振荡。v?和vo的电压波形如图10.4.16所示。
U1
Vt+
R
-VT ol
vI vo T? T?
t
Vo
:C
0 t
图10.4.15 用施密特触发器构成
的多谐振荡器
图10.4.16 图10.4.15电路的电压波形图
若使用的是CMOS 施密特触发器，而且VoH≈Vpp,VoL≈0,则依据图
10.4.16的电压波形得到计算振荡周期的公式为
T=T?+T?=RCinY-vr+RCIn
R?
M
=RCl(-v) R?
(10.4.20)
Uv? Ⅱ Vo
通过调节R和C的大小，即可改变振荡周期。此
外，在这个电路的基础上稍加修改就能实现对输出脉冲
占空比的调节，电路的接法如图10.4.17所示。在这个
电路中，因为电容的充电和放电分别经过两个电阻R?和
R?,所以只要改变R?和R,的比值，就能改变占空比。
C
图10.4.17 脉冲占空比
可调的多谐振荡器
488 第十章 脉冲波形的产生和整形
如果使用TTL施密特触发器构成多谐振荡器，在计算振荡周期时应考虑到
施密特触发器输入电路对电容充、放电的影响，因此得到的计算公式要比式
(10.4.20)稍微复杂一些。
【例10.4.3】 已知图 10.4.15电路中的施密特触发器为CMOS电路
CC40106,VDp=10V,R=10kΩ,C=0.01 μF,试求该电路的振荡周期。
解：由图10.2.5(a)所示CC40106的电压传输特性上查到VT+=6.3V,
VT-=2.7V。将VT+、VT_及给定的VDD、R、C数值代入式(10.4.20)后得到
T=RCln(m-V)
=[10?×10??×1n(3.7×2.7)]s=0.153 ms
10.4.5 石英晶体多谐振荡器
在许多应用场合下都对多谐振荡器的振荡频率稳定性有严格的要求。例
如，在将多谐振荡器作为数字钟的脉冲源使用时，它的频率稳定性直接影响着计
时的准确性。在这种情况下，前面所讲的几种多谐振荡器电路难以满足要求，因
为在这些多谐振荡器中振荡频率主要取决于门电路输人电压在充、放电过程中
达到转换电平所需要的时间，所以频率稳定性不可能很高。
不难看到：第一，这些振荡器中门电路的转换电平VTH本身就不够稳定，容
易受电源电压和温度变化的影响；第二，这些电路的工作方式容易受干扰，造成
电路状态转换时间的提前或滞后；第三，在电路状态临近转换时电容的充、放电
已经比较缓慢，在这种情况下转换电平微小的变化或轻微的干扰都会严重影响
振荡周期。因此，在对频率稳定性有较高要求时，必须采取稳频措施。
目前普遍采用的一种稳频方法是在多谐振荡器电路中接入石英晶体，组成
石英晶体多谐振荡器。图10.4.18给出了石英晶体的符号和电抗的频率特性。
将石英晶体与对称式多谐振荡器中的耦合电容串联起来，就组成了如图
10.4.19所示的石英晶体多谐振荡器。
由石英晶体的电抗频率特性可知，当外加电压的频率为f。时它的阻抗最
小，所以把它接入多谐振荡器的正反馈环路中以后，频率为f。的电压信号最容
易通过它，并在电路中形成正反馈，而其他频率信号经过石英晶体时被衰减。因
此，振荡器的工作频率也必然是f。
由此可见，石英晶体多谐振荡器的振荡频率取决于石英晶体的固有谐振频率
fo,而与外接电阻、电容无关。石英晶体的谐振频率由石英晶体的结晶方向和外形
尺寸所决定，具有极高的频率稳定性。它的频率稳定度(△f?/fo)可达10-1?~10-1,
10.5 555定时器及其应用 489
X
电感性· 和符
C
0
fo …0
f G? G?
电容性
vo
C
电容性 W W
Rp R
图10.4.18 石英晶体的电抗频率特性和符号 图10.4.19 石英晶体多谐振荡器
足以满足大多数数字系统对频率稳定度的要求。具有各种谐振频率的石英晶体
已被制成标准化和系列化的产品出售。
在图10.4.19所示电路中，若取TTL电路7404用作G,和G?两个反相器，
Rp=1 kΩ,C=0.05μF,则其工作频率可达几十兆赫。
在非对称式多谐振荡器电路中，也可以接入石英晶体构成石英晶体多谐振
荡器，以达到稳定频率的目的。电路的振荡频率同样也等于石英晶体的谐振频
率，与外接电阻和电容的参数无关。
复习思考题
R10.4.1 在什么条件下电路中的正反馈会使电路产生振荡?在什么条件下电路中的
负反馈会使电路产生振荡?
R10.4.2 这一节所介绍的振荡器电路当中哪几种是利用正反馈作用产生振荡的?哪
几种是利用延迟负反馈产生振荡的?
R10.4.3 为什么石英晶体能稳定振荡器的振荡频率?
R10.4.4 你能总结出画充、放电等效电路时处理 TTL和CMOS门电路输人端等效电路
的原则吗?
10.5 555定时器及其应用
10.5.1 555定时器的电路结构与功能
555定时器是一种多用途的数字-模拟混合集成电路，利用它能极方便地
i
490 第十章 脉冲波形的产生和整形
构成施密特触发器、单稳态触发器和多谐振荡器。由于使用灵活、方便，所以
555定时器在波形的产生与变换、测量与控制、家用电器、电子玩具等许多领域
中都得到了应用。
正因为如此，自从Signetics公司于1972年推出这种产品以后，国际上各主
要的电子器件公司也都相继地生产了各自的555定时器产品。尽管产品型号繁
多，但所有双极型产品型号最后的3位数码都是555,所有CMOS产品型号最后
的4位数码都是7555。而且，它们的功能和外部引脚的排列完全相同。为了提
高集成度，随后又生产了双定时器产品556(双极型)和7556(CMOS型)。
图10.5.1是国产双极型定时器 CB555的电路结构图。它由比较器C?和
C?、SR锁存器和集电极开路的放电三极管Tp三部分组成。
Vcc Rb
4
Vco VRiI
5
G? +c Vci e'
VI1·
(TH) 6
UI2- 2
W5kΩ
(TR) VR +c? Vc2 G? Q
G? G?
3
Vo
VOD
从5kQTp
(DISC) 7
1
图10.5.1 CB555的电路结构图
v?是比较器C?的输入端(也称阈值端，用TH标注),vp是比较器 C?的输入
端(也称触发端，用TR'标注)。C?和C?的参考电压(电压比较的基准)VR?和
VR?由Vcc经三个5kΩ电阻分压给出。在控制电压输入端Vco悬空时，VR?=
3Vcc,Vm=3vcc。如果Vc外接固定电压，则VR=Vco,Vn=2Vco。
R′是置零输入端。只要在R′端加上低电平，输出端 v。便立即被置成低电
平，不受其他输入端状态的影响。正常工作时必须使Rp处于高电平。图中的
数码1~8为器件引脚的编号。
由图10.5.1可知，当v>VRi、v?>VR?时，比较器C?的输出vc=0、比较器
C?的输出vcz=1,SR锁存器被置0,To导通，同时 v。为低电平。
当vn<VRi、v1?>VR?时，vc=1、vc?=1,锁存器的状态保持不变，因而T。和
8
$5kQ
10.5 555 定时器及其应用 491
输出的状态也维持不变。
当v<VR?、vp<VR?时，vc=1、vc?=0,故锁存器被置1,v。为高电平，同时
Tp截止。
当vn>VR?、V?<VR?时，vc=0、vc?=0,锁存器处于Q=Q'=1的状态，vo处
于高电平，同时T,截止。
这样我们就得到了表10.5.1所示的CB555的功能表。
表10.5.1 CB555的功能表
输 入 输 出
R′ Vn Vp Vo
×
3vcc
<3va
<3vcc
>3vc
X
3vc
>3vac
<号Vcc
<3Vac
低低
不变
高高
T,状态
0
1
导通
导通
1 不变
1
1
截止
截止
为了提高电路的带负载能力，还在输出端设置了缓冲器G?。如果将vop端
经过电阻接到电源上，那么只要这个电阻的阻值足够大，v。为高电平时vop也一
定为高电平，vo为低电平时vop也一定为低电平。555定时器能在很宽的电源电
压范围内工作，并可承受较大的负载电流。双极型555定时器的电源电压范围·
为5~16V,最大的负载电流达200 mA。CMOS型7555定时器的电源电压范围
为3~18V,但最大负载电流在4 mA 以下。
可以设想，如果使vc?和vc?的低电平信号发生在输入电压信号的不同电平，
那么输出与输入之间的关系将为施密特触发特性；如果在v??加入一个低电平触
发信号以后，经过一定的时间能在vc输入端自动产生一个低电平信号，就可以
得到单稳态触发器；如果能使vc和vc?的低电平信号交替地反复出现，就可以得
到多谐振荡器。
下面将具体说明如何实现以上这些设想。
10.5.2 用555定时器接成的施密特触发器
将555定时器的v?和v??两个输入端连在一起作为信号输入端，如图10.5.2
所示，即可得到施密特触发器。
由于比较器C?和C?的参考电压不同，因而SR锁存器的置0信号(vc?=0)
和置1信号(vc?=0)必然发生在输入信号v?的不同电平。因此，输出电压v。由
492 第十章 脉冲波形的产生和整形
Vcc
8 4
S
VRiI 5
vI· tc Q
Vn Vci[ 6
VI2 2
年
0.01μF: VR?
州
+c2 vc Q
3
Vo
Tp
7
19
图10.5.2 用555定时器接成的施密特触发器
高电平变为低电平和由低电平变为高电平所对应的v?值也不相同，这样就形成
了施密特触发特性。
为提高比较器参考电压VR?和VR?的稳定性，通常在Vco端接有0.01 μF左
右的滤波电容。
首先我们来分析vr从0逐渐升高的过程：
当v?<3Vcc时，vc1=1、vc? =0,Q=1,故vo=VOH;
3Vcc<v?<3Vcc 当 时，vci=Vc?=1,故vo=VoH保持不变；
v?>3vcc以后，vc?=0、vcz=1,Q=0,故 Vo 当
vo=VoL。因此，V=3Vec
3vc 其次，再看v?从高于 开始下降的过程：
当3Vce<v?<3Vcc时，vc?=Vc?=1,故vo=
VoL不变； 0
3Vcc 3Voc
v?
当v?<3Vcc以后，vc?=1、Vc?=0,Q=1,故
vo=Von。因此，V=3Vcc
图10.5.3 图10.5.2电路
的电压传输特性
10.5 555定时器及其应用 493
由此得到电路的回差电压为
△V=V?.-Vn-=3vcc
图10.5.3是图10.5.2电路的电压传输特性，它是一个典型的反相输出施
密特触发特性。
如果参考电压由外接的电压Vco供给，则不难看出这时VT+=Vco,VT=
Vc,△V?=vco。通过改变Vco值可以调节回差电压的大小。
10.5.3 用555定时器接成的单稳态触发器
若以555定时器的v?p端作为触发信号的输入端，并将由T。和R组成的反
相器输出电压vop接至v端，同时在v?对地接入电容C,就构成了如图10.5.4所
示的单稳态触发器。
Vcc
RS
8 4
VR了 5 +cUc1 e'
0.01 μF 6
vI 2
≤
VR2 +c? Vc2 Q
3
Vo
vc Vop TD
7
C: 1
图10.5.4 用555定时器接成的单稳态触发器
如果没有触发信号时 v?处于高电平，那么稳态时这个电路一定处于vc=
Vc?=1、Q=0,vo=0的状态。假定接通电源后锁存器停在Q=0的状态，则Tp
导通 vc≈0。故vc?=Vc?=1,Q=0及vo=0的状态将稳定地维持不变。
如果接通电源后锁存器停在Q=1的状态了，这时TD一定截止，Vcc便经R
vc=3Vccl 向C充电。当充到 时，vc变为0,于是将锁存器置0。同时，T。导通，
电容C经Tp迅速放电，使vc≈0。此后由于vc?=Vc?=1,锁存器保持0状态不
——
494 第十章 脉冲波形的产生和整形
变，输出也相应地稳定在vo=0的状态。
因此，通电后电路便自动地停在vo=0的稳态。
I
当触发脉冲的下降沿到达，使v??跳变到Vcc以下时，使vc2=0(此时vc=
1),锁存器被置1,v。跳变为高电平，电路进入暂稳态。与此同时T。截止，Vcc经
R开始向电容C充电。
当充至vc=3vc时，vc变成0。如果此时输入端的触发脉冲已消失，v?回
到了高电平，则锁存器将被置0,于是v?
输出返回vo=0的状态。同时Tp又变
为导通状态，电容C经T,迅速放电，直
至vc≈0,电路恢复到稳态。图10.5.5 0 t
vo 画出了在触发信号作用下vc和v。相应
的波形。
输出脉冲的宽度tw等于暂稳态的
持续时间，而暂稳态的持续时间取决于
外接电阻R和电容C的大小。由图
Vc0 t
3Vcc
10.5.5可知，tw等于电容电压在充电
3vcc 过程中从0上升到 所需要的时
间，因此得到
o t
图10.5.5 图10.5.4电路的电压波形图
=Rc
=RCln3=1.1 RC (10.5.1)
通常R的取值在几百欧姆到几兆欧姆之间，电容的取值范围为几百皮法到
几百微法，tw的范围为几微秒到几分钟。但必须注意，随着tw的宽度增加它的
精度和稳定度也将下降。
10.5.4 用555定时器接成的多谐振荡器
既然用555定时器能很方便地接成施密特触发器，那么我们就可以先把它
接成施密特触发器，然后利用前面10.4.4节讲过的方法，在施密特触发器的基
础上改接成多谐振荡器。
在10.4.4节中曾经讲到，只要把施密特触发器的反相输出端经RC积分电路
接回到它的输入端，就构成了多谐振荡器。因此，只要将555定时器的v和vp,连
在一起接成施密特触发器，然后再将 vo经RC积分电路接回输入端就可以了。
10.5 555定时器及其应用 495
为了减轻门G?的负载，在电容C的容量较大时不宜直接由G?提供电容的
充、放电电流。为此，在图10.5.6电路中将T,与R?接成了一个反相器，它的输
出vop与v。在高、低电平状态上完全相同。将 vop经R?和C组成的积分电路接
到施密特触发器的输入端同样也能构成多谐振荡器。
Vcc
R? 8 4
VRi之人 G?
5 +cVcl e'
R? w
C:
vc!R? cVcz 3
Vo
G? Q G? G?
S
voD
[7
Tp
0.01μF NM
1
图10.5.6 用555定时器接成的多谐振荡器
根据10.4.4节中的分析得知，电容上的电压vc将在VT+与VT_之间往复振
荡，vc和 vo的波形将如图10.5.7所示。
Vc
_--Vc 专cc
0 t
vol T
T? T?
0 t
图10.5.7 图10.5.6电路的电压波形图
由图10.5.7中vc的波形求得电容C的充电时间T?和放电时间T?各为
T,=(R,+R?)Cln-Y
=(R?+R?)Cln2 (10.5.2)
496 第十章 脉冲波形的产生和整形
T?=R?Chn°-v
=R?Cln2 (10.5.3)
故电路的振荡周期为
T=T?+T?=(R?+2R?)Cln2 (10.5.4)
振荡频率为
f=÷=(R?+2R,)CIn? (10.5.5)
通过改变R和C的参数即可改变振荡频率。用CB555组成的多谐振荡器
最高振荡频率约500 kHz,用CB7555组成的多谐振荡器最高振荡频率也只有
1 MHz。因此用555定时器接成的振荡器在频率范围方面有较大的局限性，高频
的多谐振荡器仍然需要使用高速门电路接成。
由式(10.5.2)和式(10.5.3)求出输出脉冲的占空比为
=7=R?+2R (10.5.6)
上式说明，图10.5.6电路输出脉冲的占空比始终大于50??为了得到小
于或等于50??占空比，可以采用如图10.5.8所示的改进电路。由于接入了
二极管D?和D?,电容的充电电流和放电电流流经不同的路径，充电电流只流经
R?,放电电流只流经R?,因此电容C的充电 Vcc
时间变为
T?=R?Cln2 之
而放电时间为
R?
以
T?=R?Cln2
故得输出脉冲的占空比为 D? R?
平
6 a
R?+R (10.5.7) D?本 2
以
若取R,=R?,则q=50??
+c?
C
图10.5.8电路的振荡周期也相应地变成
T=T?+T?=(R?+R?)Cln2(10.5.8)
州
7
1
【例10.5.1】试用CB555定时器设计
一个多谐振荡器，要求振荡周期为1 s,输出
脉冲幅度大于3V而小于5V,输出脉冲的
q=3。 占空比
图10.5.8 用555定时器组成的
占空比可调的多谐振荡器
解：由CB555的特性参数可知，当电源电压取为5V时，在100 mA的输
10.6 用Multisim 7分析脉冲电路 497
出电流下输出电压的典型值为3.3V,所以取Vcc=5V可以满足对输出脉冲幅
度的要求。若采用图10.5.6电路，则据式(10.5.6)可知
R+2R=3
故得到R?=R?。 +5V
又由式(10.5.4)知
T=(R,+2 R?)Cln2=1
若取C=10 μF,则代入上式得到
3R,Cln2=1
47 kQ
2kQ R?=3CIn?a 8 7 6 5
47kΩ CB555
1 2 3 4
0.01μF
3×103×0.69Q=48kΩ 10μF:
因R?=R2,所以取两只47 kΩ的
电阻与一个2 kΩ的电位器串联，即得
vo
到图10.5.9所示的设计结果。 图10.5.9 例10.5.1设计的多谐振荡器
复习思考题
R10.5.1 在图10.5.2用555定时器接成的施密特触发器电路中，用什么方法能调节回
差电压的大小?
R10.5.2 在图10.5.4用555定时器接成的单稳态触发器电路中，若触发脉冲宽度大于
单稳态持续时间，电路能否正常工作?如果不能，则电路应做何修改?
R10.5.3 在图10.5.4用555定时器接成的单稳态电路中，对触发脉冲的幅度有什么
要求?
R10.5.4 在图10.5.6用555定时器接成的多谐振荡器电路中，如果用 v。端代替vop端
接到R?C电路输入端，去掉R?,电路能否正常工作?
*10.6 用Multisim 7分析脉冲电路
Multisim 7不仅具有分析组合逻辑电路和时序逻辑电路的功能，还可以用于
分析各种脉冲产生和整形电路。下面通过一个简单的例子，说明如何使用
Multisim 7分析脉冲发生器电路。
498 第十章 脉冲波形的产生和整形
【例10.6.1】 分析图10.6.1所示用555定时器接成的多谐振荡器，求出
输出电压的波形和振荡频率。
VDp=5V
51 kQ S
7
47 kQ S
6
2
4 8
Rp VDD
DISC
OUT TH
TR' 555
Vco
GND
3
Vo
910 nF:
5
910nF 1
图10.6.1 例10.6.1的脉冲发生器电路
解：启动Multisim 7程序，我们从混合器件库(MIXED)中的定时器件
(Timer)中取555定时器，从工具栏中找出电阻R、电容C、地以及电源V信号。
将555定时器接成多谐振荡器，如图10.6.2所示。
VDD XSC1
5V
51kOhm_5 A1 A B
R1
47kOhm_58
R2
C1
910nF C2
910nF
VCC
RST OUT
DIS
THR
TRI
CON
GND
555_VIRTUAL
图10.6.2 用Multisim 7构建图10.6.1的电路
本章小 结 499
利用Multisim 7中的示波器对输出波形的周期进行观测，得Vc和Vo的波
形如图10.6.3所示。用示波器中的时间线进行测量，得到波形的周期 T=
92.13 ms。
Oscilloscope-XSC1
T1 T2
Time Channel_A Channel_B
1.325s 0.000V 1.703V
Reverse
1.417 s 0.000V 1.671V Save
T2-T1 92.129 ms 0.000V -31.997 mV GND C
Timebase ChannelA ChannelB Trigger
Scale |50 ms/Div Scale 500 mVDiv Scale2 VDiv Edge 5E C
Xposition 0 Yposition 0
DC
Yposition -1.8 Level 0 V
YT Add| BA AB AC 0 DC -G AC Sing.|Nor. Auto BE
图10.6.3 用Multisim 7中的示波器观测图10.6.1的波形
根据10.5.4节的理论分析，这个电路振荡周期的计算公式为式(10.5.4)。
将图10.6.1的电路参数代入式(10.5.4)计算，得到
T=T?+T?=(R?+2R?)C?In 2≈92 ms
可见，用Multisim 7得到的分析结果与理论计算结果完全符合。
本章小结
在这一章里我们介绍了用于产生矩形脉冲的各种电路，其中一类是脉冲整
形电路，它们虽然不能自动产生脉冲信号，但能将其他形状的周期性信号变换为
所要求的矩形脉冲信号，达到整形的目的。
施密特触发器和单稳态触发器是最常用的两种整形电路。因为施密特触发
500 第十章 脉冲波形的产生和整形
器输出的高、低电平随输入信号的电平改变，所以输出脉冲的宽度是由输入信号
决定的。由于它的滞回特性和输出电平转换过程中正反馈的作用，所以输出电
压波形的边沿得到明显的改善。单稳态触发器输出信号的宽度则完全由电路参
数决定，与输入信号无关。输入信号只起触发作用。因此，单稳态触发器可以用
于产生固定宽度的脉冲信号。
另一类是自激的脉冲振荡器，它们不需要外加输入信号，只要接通供电电
源，就自动产生矩形脉冲信号。本章介绍的多谐振荡器电路从工作原理上可以
分为两种类型：一种是利用闭合回路的正反馈产生振荡的。对称式多谐振荡器、
非对称式多谐振荡器以及石英晶体多谐振荡器都属于这一种。第二种是靠闭合
回路的延迟负反馈作用产生振荡的。环形振荡器和用施密特触发器组成的振荡
器都属于这一种。
555定时器是一种用途很广的集成电路，除了能组成施密特触发器、单稳态
触发器和多谐振荡器以外，还可以接成各种应用电路。读者可参阅有关书籍并
且根据需要自行设计出所需要的电路。
在分析单稳态触发器和多谐振荡器时，我们采用的是波形分析法。在分析
一些简单的脉冲电路时，这种方法物理概念清楚，简单实用。现将这种分析方法
的步骤归纳如下：
(1)分析电路的工作过程，定性地画出电路中各点电压的波形，找出决定电
路状态发生转换的控制电压。
(2)画出控制电压充、放电的等效电路，并将得到的电路化简。
(3)确定每个控制电压充、放电的起始值、终了值和转换值。
(4)计算充、放电时间，求出所需的计算结果。
可以看出，这种分析方法的关键在于能否通过对电路工作过程的分析正确
地画出电路各点的电压波形。为此，必须正确理解电路的工作原理。
在分析用常见的器件组成的典型脉冲电路时，也可以借助于计算机辅助分
析的手段。在一些实用的计算机辅助分析软件(例如Multisim 7)中已编制了这
些器件的数学模型和电路的分析程序。但无论是建立器件的数学模型还是开发
分析程序，都是以充分了解电路的工作原理为基础的。
此外，还可以用集成运算放大器构成多谐振荡器，这部分内容将在模拟电子
技术基础课程中讨论。
[题10.1] 若反相输出的施密特触发器输入信号波形如图P10.1所示，试画出输出信
号的波形。施密特触发器的转换电平VT+、VT_已在输入信号波形图上标出。
习题 501
V?
v T Vo -VT+
-VT-
0 t
图P10.1
[题10.2] 在图10.2.1所示的用CMOS反相器组成的施密特触发器电路中，若R?=
50kΩ,R?=100 kΩ,Vo=5 V,V=2voo,,试求电路的输入转换电平VT+、V_以及回差电压
△VT。
[题10.3] 在图P10.3(a)所示的施密特触发器电路中，已知R?=10 kΩ,R?=30 kΩ。
G,和G?为CMOS反相器，VDD=15V。
(1)试计算电路的正向阈值电压VT+、负向阈值电压VT-和回差电压△VT。
(2)若将图P10.3(b)给出的电压信号加到图P10.3(a)电路的输入端，试画出输出电压
的波形。
R? V?/V
15 R? 10 V?W Vo 5
G? G? 0 t
(a) (b)
图P10.3
[题10.4] 图P10.4是用CMOS反相器接成的压控施密特触发器电路，试分析它的转
换电平VT+、VT_以及回差电压△VT与控制电压Vco的关系。
G? G?
R? V- Vo
R?
v?—-W Vo
R? G? G?
vó
Vco W
D G?
图P10.4 图P10.5
[题10.5] 图P10.5是具有电平偏移二极管的施密特触发器电路，试分析它的工作原
理，并画出电压传输特性。G?、G?、G?均为TTL电路。
502 第十章·脉冲波形的产生和整形
[题10.6] 在图P10.6所示的整形电路中，输入电压 v?的波形如图中所示，假定它的低
电平持续时间比R、C电路的时间常数大得多。
(1)试画出输出电压vo的波形。
(2)能否用图P10.6中的电路作单稳态触发器使用?试说明理由。
VDD v?
R -Vpp
v?
C
VA Ⅱ Vo
0 t
图P10.6
[题10.7] 在图10.3.1给出的微分型单稳态触发器电路中，已知R=51 kΩ,C=
0.01μF,电源电压Vop=10 V,试求在触发信号作用下输出脉冲的宽度和幅度。
[题10.8] 在图10.3.5所示的积分型单稳态触发器电路中，若G?和G?为74LS系列
门电路，它们的VoH=3.4 V,VoL≈0,VTH=1.1V,R=1kΩ,C=0.01 μF,试求在触发信号作
用下输出负脉冲的宽度。设触发脉冲的宽度大于输出脉冲的宽度。
[题10.9] 图P10.9是用TTL门电路接成的微分型单稳态触发器，其中R.阻值足够
大，保证稳态时vA为高电平。R的阻值很小，保证稳态时vn为低电平。试分析该电路在给定
触发信号 v?作用下的工作过程，画出vA、01、v?和v。的电压波形。Ca的电容量很小，它与R
组成微分电路。
VI
vr vA Vo1 Up Vo VoH
C
SRa
G? C
SR G?
0 t
图 P10.9
[题10.10] 在图P10.9所示的微分型单稳态触发器电路中，若G?和G?为74系列TTL
门电路，它们的VoH=3.2V,VoL≈0,VTH=1.3 V,R=0.3kΩ,C=0.01μF,试计算电路输出负
脉冲的宽度。
[题10.11] 图P10.11是用两个集成单稳态触发器74121所组成的脉冲变换电路，外
接电阻和外接电容的参数如图中所示。试计算在输入触发信号 v?作用下vo;o?输出脉冲的
宽度，并画出与v?波形相对应的vo?、o?的电压波形。v?的波形如图中所示。
[题10.12] 在图10.4.1所示的对称式多谐振荡器电路中，若Rp=Rp=1kΩ,C?=C?
=0.1 μF,G?和G?为74LS04(六反相器)中的两个反相器，G?和G?的Vo=3.4V,VT=
1.1V,VIk=-1.5V,R?=20 kΩ,求电路的振荡频率。
[题10.13] 图P10.13是用CMOS反相器组成的对称式多谐振荡器。若Rp=R?=
习题503
+5V-
0.13μF 22 kΩ
M
0.13μF 11kΩW
Ra Vcc
Cex
A? 74121 Vo
A?
B
V6
GND
Cx
Vo1
Ct Ra Vcc
Cext
A? 74121 Vo
A?
B
V6
GND
Vo2
vi 1
V? VoH
05015 20 25 30 t/ms
图P10.11
10 kΩ,C?=C?=0.01 μF,Rp=R=33 kΩ,试求电路的振荡频率，并画出vn、Vo?、V12、V?2各点
的电压波形。
C?
G?
Vn W
Vo1 Vp W
G?
V02
Rpi C? Rp
W W
RF1 Rp2
图P10.13
[题10.14] 在图10.4.6所示的非对称式多谐振荡器电路中，若G?、G?为CMOS反相
器，Rp=9.1 kΩ,C=0.001 μF,Rp=100kΩ,Vop=5V,VTH=2.5V,试计算电路的振荡频率。
[题10.15] 如果将图10.4.6所示非对称式多谐振荡器中的G?和G?改用TTL反相
器，并将Rp短路，试画出电容C充、放电时的等效电路，并求出计算电路振荡频率的公式。
[题10.16] 图P10.16是由五个同样的与非门接成的环形振荡器。今测得输出信号的
重复频率为10 MHz,试求每个门的平均传输延迟时间。假定所有与非门的传输延迟时间相
同，而且 tpHL=tpLH=tpd。
vo
G? G? G? G?
图P10.16
G?
504 第十章 脉冲波形的产生和整形
[题10.17] 在图10.4.12(b)所示的环形振荡器电路中，若给定R=200 Ω,Rs=100 Ω,
C=0.01 μF,G?、G?和G?为74系列TTL门电路(VoH=3V,Vo≈0,VTH=1.3 V),试计算电
路的振荡频率。
[题10.18] 在图10.4.17电路中，已知 CMOS 集成施密特触发器的电源电压Vop=
15V,VT+=9V,VT-=4V,试问：
(1)为了得到占空比为q=50??输出脉冲，R?与R?的比值应取多少?
(2)若给定R?=3 kΩ,R?=8.2 kΩ,C=0.05μF,电路的振荡频率为多少?输出脉冲的
占空比又是多少?
[题10.19] 在图10.5.2所示用555定时器接成的施密特触发器电路中，试求：
(1)当Vcc=12V,而且没有外接控制电压时，VT+、VT_及△VT值。
(2)当Vcc=9V、外接控制电压Vco=5V时，VT+、VT、△VT各为多少。
[题10.20] 图P10.20是用555定时器组成的开机延时电路。若给定C=25 μF,R=
91 kΩ,Vcc=12V,试计算常闭开关S断开以后经过多长的延迟时间v。才跳变为高电平。
Vcc
Vcc R?S
8 4
7
3
S C
R?S
vo
555
4 8
6
555 3
2
1 5
6
2
Vo C: 51
SR :0.01μF v?
图P10.23 图P10.20
[题10.21] 试用555定时器设计一个单稳态触发器，要求输出脉冲宽度在1~10s的
范围内可手动调节。给定555定时器的电源为15V。触发信号来自TTL电路，高低电平分
别为3.4V和0.1V。
[题10.22] 在图10.5.6所示用555定时器组成的多谐振荡器电路中，若R?=R?=
5.1 kΩ,C=0.01 μF,Vcc=12V,试计算电路的振荡频率。
[题10.23]图P10.23是用555定时器构成的压控振荡器，试求输入控制电压 v?和振
荡频率之间的关系式。当v?升高时频率是升高还是降低?
[题10.24] 图P10.24是一个简易电子琴电路，当琴键 S,~S。均未按下时，三极管T接
近饱和导通，vE约为0V,使555定时器组成的振荡器停振。当按下不同琴键时，因R?~R。
的阻值不等，扬声器发出不同的声音。
若RB=20 kΩ,R?=10 kΩ,Re=2 kΩ,三极管的电流放大系数β=150,Vcc=12V,振荡器
外接电阻、电容参数如图所示，试计算按下琴键S,时扬声器发出声音的频率。
[题10.25]图P10.25是用两个555定时器接成的延迟报警器。当开关S断开后，经
习题 505
4
7
8
6 555 3
2
5 1
Vcc=+12V
R? R?S SR。 RE 10 kQ
VE
100μF
山s 的 EA
Sn
10kQS +l
T
C.
0.1μF RB
W
图P10.24
过一定的延迟时间后扬声器开始发出声音。如果在延迟时间内S重新闭合，扬声器不会发出
声音。在图中给定的参数下，试求延迟时间的具体数值和扬声器发出声音的频率。图中的
G?是CMOS反相器，输出的高、低电平分别为VoH≈12V,VoL=0V。
Vcc=+12V
1MQ多
8 4
100μF 4 8
5kΩ
7
3 十
3
555
6
G? 555 5k2
6
2 2
S C: 土 1 1
0.01μF
10μF
图 P10.25
[题10.26] 图P10.26是救护车扬声器发音电路。在图中给出的电路参数下，试计算
扬声器发出声音的高、低音频率以及高、低音的持续时间。当Vcc=12 V时，555定时器输出
的高、低电平分别为11 V和0.2V,输出电阻小于100 Ω。
R.
4
Vcc=+12V
R?
10 kQ
R?
150kΩ
4 8
7
3
555
6
2
5 1
C?
Vo2
+
30μF
8Ω
C: 10μF
100S
8
7
6
2
555
土
4
1
3
Voi
以
10kQS
Rs
100 kQ
R?
10kΩ
C?: 0.01μF
图P10.26
第十一章
数-模和模-数转换
内容提要
本章系统讲授数-模转换(将数字量转换成相应的模拟量)和模-数转换(将模拟量
转换成相应的数字量)的基本原理和常见的典型电路。
在数-模转换电路中，分别介绍了权电阻网络数-模转换器、倒T形电阻网络数-模
转换器、权电流型数-模转换器、开关树形数-模转换器以及权电容网络数-模转换器。
在模-数转换电路中，首先介绍了模-数转换的一般原理和步骤，然后分别讲述取样
-保持电路和模-数转换器的主要类型。
在讲述各种转换电路工作原理的基础上，还着重讨论了转换精度与转换速度问题。
11.1 概述
由于数字电子技术的迅速发展，尤其是计算机在自动控制、自动检测以及许
多其他领域中的广泛应用，用数字电路处理模拟信号的情况也更加普遍了。
为了能够使用数字电路处理模拟信号，必须将模拟信号转换成相应的数字
信号，方能送入数字系统(例如微型计算机)进行处理。同时，往往还要求将处
理后得到的数字信号再转换成相应的模拟信号，作为最后的输出。我们将前一
种从模拟信号到数字信号的转换称为模一数转换，或简称为A/D(Analog to
Digital)转换，将后一种从数字信号到模拟信号的转换称为数-模转换，或简称
为D/A(Digital to Analog)转换。同时，将实现A/D转换的电路称为A/D转换器，
简写为ADC(系Analog-Digital Converter的缩写);将实现D/A转换的电路称为
D/A转换器，简写为DAC(系 Digital-Analog Converter的缩写)。
为了保证数据处理结果的准确性，A/D转换器和D/A转换器必须有足够的
11.2 D/A转换器 507
转换精度。同时，为了适应快速过程的控制和检测的需要，A/D转换器和 D/A
转换器还必须有足够快的转移速度。因此，转换精度和转换速度乃是衡量A/D
转换器和D/A转换器性能优劣的主要标志。
目前常见的D/A转换器中，有权电阻网络D/A转换器，倒T形电阻网络D/
A转换器、权电流型D/A转换器、权电容网络D/A转换器以及开关树型D/A转
换器等几种类型。
A/D转换器的类型也有多种，可以分为直接A/D转换器和间接A/D转
换器两大类。在直接A/D转换器中，输入的模拟电压信号直接被转换成相
应的数字信号；而在间接A/D转换器中，输入的模拟信号首先被转换成某
种中间变量(例如时间、频率等),然后再将这个中间变量转换为输出的数
字信号。
此外，在D/A转换器数字量的输入方式上，又有并行输入和串行输入两种
类型。相对应地在A/D转换器数字量的输出方式上也有并行输出和串行输出
两种类型。
考虑到D/A转换器的工作原理比A/D转换器的工作原理简单，而且在有
些A/D转换器中需要用D/A转换器作为内部的反馈电路，所以在下一节中首
先讨论 D/A转换器。
11.2 D/A转换器
11.2.1 权电阻网络D/A转换器
在第一章中我们已经讲过，一个多位二进制数中每一位的1所代表的数值
大小称为这一位的权。如果一个n位二进制数用Dn=dn_1dn-2…d?d。表示，则
从最高位(Most Significant Bit,简写为MSB)到最低位(Least Significant Bit,简写
为LSB)的权将依次为2"-1、2"-2、…、21、2°。
图11.2.1是4位权电阻网络D/A转换器的原理图，它由权电阻网络、4个
模拟开关和1个求和放大器组成。
S?、S?、S?和S。是4个电子开关，它们的状态分别受输入代码d?、d?、d?和d?
的取值控制，代码为1时开关接到参考电压VREF上，代码为0时开关接地。故d;
=1时有支路电流I,流向求和放大器，d;=0时支路电流为零。
求和放大器是一个接成负反馈的运算放大器。为了简化分析计算，可以把
运算放大器近似地看成是理想放大器——即它的开环放大倍数为无穷大，输入
508 第十一章 数-模和模-数转换
RF(R/2)
W
i
V
23R≤22RS2R RS N
A
大
Vo
S。 95 hs O ?5 I?
VREF
d? d? d? d?
(LSB) (MSB)
图11.2.1 权电阻网络D/A转换器
电流为零(输入电阻为无穷大),输出电阻为零。当同相输入端V.的电位高于
反相输入端V_的电位时，输出端对地的电压v。为正；当V_高于V+时，v。为负。
当参考电压经电阻网络加到V_时，只要V_稍高于V+,便在 v。产生很负的
输出电压。v。经Rp反馈到V_端使V_降低，其结果必然使V_≈V+=0。
在认为运算放大器输入电流为零的条件下可以得到
vo=-RFiz
=-RF(I?+I?+I?+I?) (11.2.1)
由于V_≈0,因而各支路电流分别为
=Rd I?=RF,d?=0时I?=0) (d?=1时
=2Ra
=2
1=2
将它们代入式(11.2.1)并取Rp=R/2,则得到
=-2d;23+d?2+d,z'1+d。2°) (11.2.2)
对于n位的权电阻网络D/A转换器，当反馈电阻取为R/2时，输出电压的
计算公式可写成
=-2(d-,2?1+d?°?2+…+d,2'+d。2°)
11.2 D/A转换器 509
=-D。 (11.2.3)
上式表明，输出的模拟电压正比于输入的数字量Dn,从而实现了从数字量
到模拟量的转换。
=-22-1Vap,故v。的最大变化 当 Dn=0时vo=0,当D。=11…11时
范围是0~-22-1Var。
从式(11.2.3)中还可以看到，在VREF为正电压时输出电压vo始终为负值。
要想得到正的输出电压，可以将VREF取为负值。
这个电路的优点是结构比较简单，所用的电阻元件数很少。它的缺点是各
个电阻的阻值相差较大，尤其在输入信号的位数较多时，这个问题就更加突出。
例如当输入信号增加到8位时，如果取权电阻网络中最小的电阻为R=10kΩ,
那么最大的电阻阻值将达到2?R=1.28MΩ,两者相差128倍之多。要想在极为
宽广的阻值范围内保证每个电阻都有很高的精度是十分困难的，尤其对制作集
成电路更加不利。
为了克服这个缺点，在输入数字量的位数较多时可以采用图11.2.2所示的双
级权电阻网络。在双级权电阻网络中，每一级仍然只有4个电阻，它们之间的阻值
之比还是1:2:4:8。可以证明①,只要取两级间的串联电阻Rs=8R,即可得到
=-2(d,2?+d?2?+d??+…+d,z'+d,2°)
=D.
R2
W
Rs=8R
W
A vo
8R S4R 2RR S8RS4RS2RSR
S? S? S? S? S? S? S6 S?
VREF
do d d? d? d4 ds d? d?
(LSB) (MSB)
图11.2.2 双级权电阻网络D/A转换器
① 参见参考文献[10]的第5.3节。
510 第十一章 数-模和模-数转换
可见，所得结果与式(11.2.3)相同。由于电阻的最大值与最小值相差仍为
8倍，所以图11.2.2仍不失为一种可取的方案。
11.2.2 倒T形电阻网络 D/A转换器
为了克服权电阻网络D/A转换器中电阻阻值相差太大的缺点，又研制出了
如图11.2.3所示的倒T形电阻网络D/A转换器。由图可见，电阻网络中只有
R、2R两种阻值的电阻，这就给集成电路的设计和制作带来了很大的方便。
(LSB) (MSB)
do d? d? d? R
iz V
A vo
V+
S? S? S? S?
2RS2R2R多情2R 2R位
R
?1 W
18
R
W
14
R
W
了2 VREF I
图11.2.3 倒T形电阻网络D/A转换器
由图11.2.3可知，因为求和放大器反相输入端V_的电位始终接近于零，所
以无论开关S?、S?、S,、S。合到哪一边，都相当于接到了“地”电位上，流过每个支
路的电流也始终不变。在计算倒T形电阻网络中各支路的电流时，可以将电阻
网络等效地画成图11.2.4所示的形式。(但应注意，V_并没有接地，只是电位
与“地”相等，因此这时又将V_端称为“虚地”点。)不难看出，从AA、BB、CC、DD
每个端口向左看过去的等效电阻都是R,因此从参考电源流入倒T形电阻网络
的总电流为I=VREF/R,而每个支路的电流依次为I/2、I/4、I/8和I/16。
A B C D
i V≈0
2R:S 2RS I/162R /8 w 2R 1/4 2RS
I/2
R R
W
R
W
I
VREF
/16 I/8 I/4 I2
A B C D
图11.2.4 计算倒T形电阻网络支路电流的等效电路
11.2 D/A转换器 511
如果令d;=0时开关S;接地(接放大器的V+),而d,=1的S;接至放大器
的输入端V_,则由图11.2.3可知
=2d?+4d?+d+16d
在求和放大器的反馈电阻阻值等于R的条件下，输出电压为
vo=-Riz
(dz3+d?22+d,2'+d2°) (11.2.4)
对于n位输入的倒T形电阻网络D/A转换器，在求和放大器的反馈电阻阻
值为R的条件下，输出模拟电压的计算公式为
=-(d-2?1+d-2?2+…+d,z'+d2°)
=2D。 (11.2.5)
上式说明输出的模拟电压与输入的数字量成正比。而且式(11.2.5)和权
电阻网络D/A转换器输出电压的计算公式(11.2.3)具有相同的形式。
图11.2.5是采用倒T形电阻网络的单片集成 D/A转换器CB7520
(AD7520)的电路原理图。它的输人为10位二进制数，采用CMOS电路构成的
模拟开关。
Vpp14
(LSB) do d? d? d? d? ds d? d? d? (MSB) d?
13 12 11 10 9 8 7 6 5 4
W
R
16(R)
1(oun)
2(om2) 十
A vo
S? S? S? S? S? Ss S? S? S? S?
S2R S2RR
W
S2RR
S2RR
S2RR
S2RR
W W W W
S2RR
W
S2RR
W
2R
W
S2RR
W
2R
20 kΩ 15
10kQ CB7520
VREF
3
GND
图11.2.5 CB7520(AD7520)的电路原理图
图11.2.6是CMOS模拟开关的电路原理图。为了降低开关的导通内阻，开
关电路的电源电压设计在15V左右。
512 第十一章 数一模和模-数转换
使用CB7520时需要外加运算放大器。运算放大器的反馈电阻可以使用
CB7520内设的反馈电阻R(如图11.2.5所示),也可以另选反馈电阻接到Iu与
vo之间。外接的参考电压VREF必须保证有足够的稳定度，才能确保应有的转换
精度。
Ioutl
Iout2
VDpp
d;
S;
S2R Vss
R R
图11.2.6 CB7520中的CMOS模拟开关电路
11.2.3 权电流型D/A转换器
在前面分析权电阻网络D/A转换器和倒T形电阻网络D/A转换器的过程
中，都把模拟开关当作理想开关处理，没有考虑它们的导通电阻和导通压降。而
实际上这些开关总有一定的导通电阻和导通压降，而且每个开关的情况又不完
全相同。它们的存在无疑将引起转换误差，影响转换精度。
解决这个问题的一种方法就是采用图11.2.7所示的权电流型 D/A转换
器。在权电流型D/A转换器中，有一组恒流源。每个恒流源电流的大小依次为
前一个的1/2,和输入二进制数对应位的“权”成正比。由于采用了恒流源，每个
支路电流的大小不再受开关内阻和压降的影响，从而降低了对开关电路的要求。
VREr(-)
(LSB) do
(MSB) d? d? d?
iz
Rp
W
+
A
S? 6
S? S? S?
位
图11.2.7 权电流型 D/A转换器
i
vo
11.2 D/A转换器 513
恒流源电路经常使用图11.2.8所示的电路结构形式。只要在电路工作时
保证VB和VEE稳定不变，则三极管的集电极 I? 电流即可保持恒定，不受开关内阻的影响。
电流的大小近似为 I, VB
~Re (11.2.6) Re
当输入数字量的某位代码为1时，对应的
开关将恒流源接至运算放大器的输入端；当
输入代码为0时，对应的开关接地，故输出电
压为
VEE
图11.2.8 权电流型D/A
转换器中的恒流源
vo=iRF
=R,(a,+2a,+a+2a)
-(d,23+dz22+d,2'+d2°) (11.2.7)
可见，v。正比于输入的数字量。
在相同的VB和VEE取值下，为了得到一组依次为1/2递减的电流源就需要
用到一组不同阻值的电阻。为减少电阻阻值的种类，在实用的权电流型D/A转
换器中经常利用倒T形电阻网络的分流作用产生所需的一组恒流源，如图
11.2.9所示。
=RR=1
VREF一 RRVt
WW
VR-
-VEE
d
io
TR
A
T?
S?
陆T?
S?14
T?
S?8
T?
S? 16
Tc
+
…的 IREF IIE3 闫 Iez I?e IEo Lec
RS 2R 2RS 心 2RS
W
2R:S 2R R R R
W W
图11.2.9 利用倒T形电阻网络的权电流型D/A转换器
(MSB) d? d? (LSB)
do Rp
W
+
A? vo
IBo
偏置电流
514 第十一章 数一模和模-数转换
由图11.2.9可见，T?、T?、T?、T。和Tc的基极是接在一起的，只要这些三极
管的发射结压降VBE相等，则它们的发射极处于相同的电位。在计算各支路的
电流时，可以认为所有2R电阻的上端都接到了同一个电位上，因而电路的工作
状态与图11.2.4中的倒T形电阻网络的工作状态一样。这时流过每个2R电阻
的电流自左而右依次减少1/2。为保证所有三极管的发射结压降相等，在发射
极电流较大的三极管中按比例地加大了发射结的面积，在图中用增加发射极的
数目来表示。图中的恒流源IBo用来给TR、Tc、T。~T?提供必要的基极偏置
电流。
运算放大器A,、三极管TR和电阻RR、R组成了基准电流发生电路。基
准电流IREF由外加的基准电压VREF和电阻RR决定。由于T?和TR具有相同
的VBE而发射极回路电阻相差一倍，所以它们的发射极电流也必然相差一
倍，故有
nr=2s=R=1 (11.2.8)
将式(11.2.8)代入式(11.2.7)中得到
d,22'+d,22+d,2'+d2°) (11.2.9)
对于输入为 n位二进制数码的这种电路结构的D/A转换器，输出电压的计
算公式可写成
22+d22…+4,2'+da°)
RaD。 (11.2.10)
采用这种权电流型 D/A转换电路生产的单片集成 D/A 转换器有
DAC0806、DAC0807、DAC0808等。这些器件都采用双极型工艺制作，工作速度
较高。
图11.2.10是DAC0808的电路结构框图，图中do~d,是8位数字量的输入
端，I。是求和电流的输出端。VR+和VR_接基准电流发生电路中运算放大器的
反相输入端和同相输入端。COMP供外接补偿电容之用。Vcc和VEE为正、负电
源输入端。
用DAC0808 这类器件构成D/A转换器时需要外接运算放大器和产生基准
电流用的RR,如图11.2.11所示。在VREF=10V、RR=5kΩ、R=5kΩ的情况下，
根据式(11.2.10)可知输出电压为
11.2 D/A转换器 515
2RvaD=0D。 (11.2.11)
当输入的数字量在全0和全1 之间变化时，输出模拟电压的变化范围为
0~9.96V。
LSB MSB
do d? d? d3 d? d? d? d?
5 6 7 8 9 10 11 12
模拟开关
倒T形电阻网络 偏置电路
基准 A 电流源 T
W
4
Io
2
GND
VR+ 14 13
VR- 15
Vcc
16
COMP
3
VEE
图11.2.10 DAC0808的电路结构框图
Vcc=+5V
(LSB) 13
dod?
5
DAC0808
14 5kΩ
W
数字量输入 d?-
6
7
VREF
15
RR
5 kQ
d? 8
W
2
d? 9
5kS
W-
d?
d?
d?-
10 4 Rp
1112
A 模拟量 vo
16
输出
(MSB) 3
:0.01 μF
VEe=-15V
图11.2.11 DAC0808的典型应用
*11.2.4 开关树形 D/A转换器
开关树形D/A转换器电路由电阻分压器和接成树状的开关网络组成。图
516 第十一章 数-模和模-数转换
11.2.12是输入为3位二进制数码的开关树形 D/A转换器电路结构图。
图中这些开关的状态分别受3位输入代码状态的控制。当d?=1时S?接
通而S20断开；当d?=0时S?0接通而S?断开。同理，S?和S?0两组开关的状态由
d?的状态控制，S?和S。两组开关由d。的状态控制。由图可知
=2a+2d+d
d22+d,2'+d2°) (11.2.12)
VREF do
(LSB)dó pi di
R
vm
(MSB) d? d
———-
veRSo S
SR S
R
8Vmp So S21
录ve言R S
S?o
vo
录VRSo
VmRSo
SR So Su
S?0
S10 So
图11.2.12 开关树形 D/A转换器
对于输入为 n位二进制数的D/A转换器则有
o=d-,2?1+d?°?2+…+d,21+d。2°)(11.2.13)
这种电路的特点是所用电阻种类单一，而且在输出端基本不取电流的
情况下，对开关的导通内阻要求不高。这些特点对于制作集成电路都是有
利的。它的缺点是所用的开关太多。
*11.2.5 权电容网络D/A转换器
权电容网络D/A转换器也是一种并行输入的D/A转换器，它是利用电容
11.2 D/A转换器 517
分压的原理工作的。图11.2.13是4位权电容网络D/A转换器电路的原理图，
其中C?(及C'???C?、C?、C?的电容量依次按2的乘方倍数递增。开关S?、S?、S?
和S?的状态分别由输入数字信号do、d?、d?和d?控制。当d;=1时S;接到参考
电压VREF一边；而当d:=0时S;接地。
Sp
vo
2℃x 2C 21Cx
Co 22Cx 2C: C?
S。 S? S? S?
VREF
d? d? d? d?
(LSB) (MSB)
图11.2.13 权电容网络D/A转换器
转换开始前先令所有的开关(S。~S?、Sp)接地，使全部电容器充分放电。然
后断开Sp,将输入信号并行地加到输入端do~d?。 VREF
假定输入信号为d?d?d?d?=1000,则S?将C?接至 C?=23Cx: VREF一边，而S?、S?、S。将C?、C1、C。接地，等效电路
可以画成图11.2.14所示的形式。这时C?与(C?
+C+Co+C'。)构成了一个电容分压器，输出电压
为
vo
C?+C?+C?+C?3Cx:
=c+C?+C,+C+c%Y
=cCm (11.2.14)
图11.2.14 输入为1000时
图11.2.13的等效电路
式中的C,表示全部电容器电容量的总和。
根据同样的道理，可以得到输入数字信号为任何状态时输出模拟电压的一
般表达式
=4,Cs+d?C?+d,C?+doCv
518 第十一章 数-模和模-数转换
C、d22+d22+d2'+da2°)vm
==d,2'+d?22+d,2'+d2°) (11.2.15)
上式表明，输出的模拟电压与输入的数字量成正比。
通过上面的分析还可以看到权电容网络D/A转换器的几个重要特点：
第一，输出电压的精度只与各个电容器电容量的比例有关，而与它们电容量
的绝对值无关。
第二，输出电压 vo的稳态值不受开关内阻及参考电压源内阻的影响，因而
降低了对开关电路及参考电压源的要求。
第三，稳态下权电容网络不消耗功率。
在MOS集成电路中电容器不仅容易制作，而且可以通过精确控制电容器的
尺寸严格地保持各电容器之间电容量的比例关系。因此，在采用MOS工艺制造
D/A转换器时，权电容网络D/A转换器也是一种常用的方案。
权电容网络D/A转换器的主要缺点是在输入数字量位数较多时各个电容
器的电容量相差很大，这不仅会占用很大的硅片面积影响集成度，而且由于电容
充、放电时间的增加也降低了电路的转换速度。
这种转换器的精度主要受电容量比例的误差以及电容器漏电的影响。为了
减小负载电路对权电容网络的影响，在输出端vo处应设置高输入阻抗的隔离放
大器。
11.2.6 具有双极性输出的D/A转换器
因为在二进制算术运算中通常都将带符号的数值表示为补码的形式，所以
希望D/A转换器能够将以补码形式输入的正、负数分别转换成正、负极性的模
拟电压。
现以输入为3位二进制补码的情况为例，说明转换的原理。3位二进制补
码可以表示从+3到-4之间的任何整数，它们与十进制数的对应关系以及希望
得到的输出模拟电压如表11.2.1所示。
在图11.2.15所示的D/A转换电路中，如果没有接入反相器G和偏移电阻
RB,它就是一个普通的3位倒T形电阻网络D/A转换器。在这种情况下，如果
将输入的3位代码看作无符号的3位二进制数(即绝对值),并且取VREF =
-8V,则输入代码为111时输出电压vo=7V,而输入代码为000时输出电压vo
=0V,如表11.2.2中间一行所示。将表11.2.1与表11.2.2对照一下便可发
现，如果将表11.2.2中间一列的输出电压偏移-4V,则偏移后的输出电压恰好
同表11.2.1所要求得到的输出电压相符。
11.2 D/A转换器 519
表11.2.1 输入为3位二进制补码时 表11.2.2 具有偏移的D/A
要求D/A转换器的输出 转换器的输出
补码输人 对应的
十进制数
要求的 绝对值输入
+3
+2
+1
0
-1
-2
-3
-4
无偏移时
的输出
+7V
+6V
+5V
+4V
+3V
+2V
+1V
0
偏移-4V后
d? d? d? 输出电压 d? d? d? 的输出
0 1 1 +3V 1 1 1 +3V
0 1 0 +2V 1 1 0 +2V
0 0 1 +1V 1 0 1 +1V
0 0 0 0 1 0 0 0
1 1 1 -1V 0 工 1 -1V
1 1 0 -2V 0 1 0 -2V
1 0 1 -3V 0 0 1 -3V
1 0 0 -4V 0 0 0 -4V
然而，前面讲过的D/A转换器电路输出电压都是单极性的，得不到正、负极
性的输出电压。为此，在图11.2.15的D/A转换电路中增设了由RB和VB组成
的偏移电路。为了使输入代码为100时的输出电压等于零，只要使IB与此时的
i、大小相等即可。故应取
R=2=2R (11.2.16)
Vg(+)
(LSB) d? d? (MSB) d? IB RB R
G W
A
+
Vo
S? S? S?
2R: 2RS 2RS 2R:S12
R
W
R
W
I
VREF(-8V)
图11.2.15 具有双极性输出电压的D/A转换器
图中所标示的i、s和I的方向都是电流的实际方向。
假若再将表11.2.1和表11.2.2最左边一列代码对照一下还可以发现，只
要把表11.2.1中补码的符号位求反，再加到偏移后的D/A转换器上，就可以得
到表11.2.1所需要的输入与输出的关系了。为此，在图11.2.15中是将符号位
经反相器G反相后才加到D/A转换电路上去的。
通过上面的例子不难总结出构成双极性输出D/A转换器的一般方法：只要
520 第十一章 数-模和模-数转换
在求和放大器的输入端接入一个偏移电流，使输入最高位为1而其他各位输入
为0时的输出vo=0,同时将输入的符号位反相后接到一般的 D/A转换器的输
入，就得到了双极性输出的D/A转换器。
11.2.7 D/A转换器的转换精度与转换速度
一、D/A转换器的转换精度
在D/A转换器中通常用分辨率和转换误差来描述转换精度。
分辨率用输入二进制数码的位数给出。在分辨率为 n位的D/A转换器中，
从输出模拟电压的大小应能区分出输入代码从00…00到11…11全部2"个不
同的状态，给出2”个不同等级的输出电压。因此，分辨率表示D/A转换器在理
论上可以达到的精度。
另外，也可以用D/A转换器能够分辨出来的最小电压(此时输入的数字代
码只有最低有效位为1,其余各位都是0)与最大输出电压(此时输入数字代码
所有各位全是1)之比给出分辨率。例如，10位D/A转换器的分辨率可以表
示为
0-11023~0.001
然而，由于D/A转换器的各个环节在参数
和性能上和理论值之间不可避免地存在着差
异，所以实际能达到的转换精度要由转换误差
来决定。由各种因素引起的转换误差是一个综
合性指标。转换误差表示实际的D/A转换特
性和理想转换特性之间的最大偏差，如图
15/16
模拟量输出 Avo
11.2.16所示。图中的虚线表示理想的D/A转
换特性，它是连结坐标原点和满量程输出(输
入为全1时)理论值的一条直线。图中的实线
表示实际可能的D/A转换特性。转换误差一
般用最低有效位的倍数表示。例如，给出转换
误差为1/2LSB,就表示输出模拟电压与理论值
之间的绝对误差小于、等于当输入为00…01时
的输出电压的一半。
0
0000 1111
数字量输入
图11.2.16 D/A转换器的转换
特性曲线
此外，有时也用输出电压满刻度FSR(系Full Scale Range 的缩写)的百分数
表示输出电压误差绝对值的大小。
造成D/A转换器转换误差的原因有参考电压VREF的波动、运算放大器的零
点漂移、模拟开关的导通内阻和导通压降、电阻网络中电阻阻值的偏差以及三极
11.2 D/A转换器 521
管特性的不一致等等。
由不同因素所导致的转换误差各有不同的特点。现以图11.2.3所示的倒T
形电阻网络D/A转换器为例，分别讨论这些因素引起转换误差的情况。
根据式(11.2.4)可知，如果VREF偏离标准值△VREF,则输出将产生误差电压
vor=-2(d323+d?22+d?2'+do2°)△VRP (11.2.17)
这个结果说明，由VREF的变化所引起的误差和输入数字量的大小是成正比的。
因此，将由△VREE引起的转换误差称为比例系数误差。图11.2.17中以虚线表示
出了当△VREF一定时v。值偏离理论值的情况。
当输出电压的误差系由运算放大器的零点漂移所造成时，误差电压△vo?的
大小与输入数字量的数值无关，输出电压的转换特性曲线将发生平移(移上或
移下),如图11.2.18中的虚线所示。我们将这种性质的误差称为漂移误差或平
移误差。
15/16 15/16
13/16 13/16
11/16 11/16
9/16 △vo
9/16 △vo2
7/16 7/16
5/16 5/16
3/16 3/16
1/16 1/16
0000 0011 0110 1001 1100 1111 0000 0011 0110 1001 1100 1111
图11.2.17 比例系数误差 图11.2.18 漂移误差
由于模拟开关的导通内阻和导通压降都不可能真正等于零，因而它们的存
在也必将在输出产生误差电压△vo3。需要指出的是，每个开关的导通压降未必
相等，而且开关在接地时和接VREF时的压降也不一定相同，因此△vo3既非常数也
不与输入数字量成正比。这种性质的误差称为非线性误差。由图11.2.19可
见，这种误差没有一定的变化规律。
产生非线性误差的另一个原因是倒T形电阻网络中电阻阻值的偏差。由
于每个支路电阻的误差不一定相同，而且不同位置上的电阻的偏差对输出电压
的影响也不一样，所以在输出端产生的误差电压△vo4与输入数字量之间也不是
522 第十一章 数-模和模-数转换
线性关系。
由图11.2.19中还可以看到，非线
性误差的存在有可能导致 D/A转换特
性在局部出现非单调性(即输入数字量
不断增加的过程中v。发生局部减小的
现象)。这种非单调性的转换特性有时
会引起系统工作不稳定，应力求避免。
在选用D/A转换器器件时应注意，如果
某一产品的说明指出它是一个具有9位
单调性的10位 D/A转换器，那么它只
保证在最高9位被运用时转换特性是单
调的。
15/16
13/16
11/16
9/16
7/16 △vo?或
△vo3或
△vo?
5/16 △vo4
3/16
1/16
0000 0011 0110 1001 11001111
因为这几种误差电压之间不存在固 图11.2.19 非线性误差
定的函数关系，所以最坏的情况下输出总的误差电压等于它们的绝对值相加，即
(11.2.18) △voI= I△vo+I△vo?1+ I△vo?I+I△vo?
以上的分析还说明，为了获得高精度的D/A转换器，单纯依靠选用高分辨
率的D/A转换器器件是不够的，还必须有高稳定度的参考电压源VREF和低漂移
的运算放大器与之配合使用，才可能获得较高的转换精度。
目前常见的集成D/A转换器器件有两大类，一类器件的内部只包含电阻网
络(或恒流源电路)和模拟开关，而另一类器件内部还包含了运算放大器以及参
考电压源的发生电路。在使用前一类器件时必须外接参考电压和运算放大器，
这时应注意合理地确定对参考电压源的稳定度和运算放大器零点漂移的要求。
【例11.2.1】 在图11.2.5所示的倒T形电阻网络D/A转换器中，外接参
LSB,试计算 考电压VRer=-10V。为保证VRe偏离标准值所引起的误差小于
VREF的相对稳定度应取多少。
LSB 解：首先计算对应于 输入的输出电压是多少。由式(11.2.5)可
知，当输人代码只有LSB=1而其余各位均为0时的输出电压为
=-2(d-,2?1+d?°?2+…+d,z'1+d2°)
-2
11.2 D/A转换器 523
2LSB 故与 相对应的输出电压绝对值为
2×2er=2a
其次再来计算由于VREF变化△VREF所引起的输出变化△vo。由式(11.2.5)
可知，在n位输入的D/A转换器中，由△VREF引起的输出电压变化应为
。=-2d-2"?1+da-2?1+…+d,21+d2°)
而且在输入数字量最大时(所有各位全为1)△v。最大。这时的输出电压变化量的
绝对值为
△v。l=2-1IAVaeI=221IAVap
LSB 根据题目要求，△v。必须小于、等于 对应的输出电压，于是得到
A。I≤2m
211△Vapl≤2m
故得到参考电压VREF的相对稳定度为
ae≤×22-~2=0.05%
而允许参考电压的变化量仅为
AVapI≤2a×2-~5mV
以上所讨论的转换误差都是在输入、输出已经处于稳定状态下得出的，所以
属于静态误差。此外，在动态过程中(即输入的数码发生突变时)还有附加的动
态转换误差发生。假定在输入数码突变时有多个模拟开关需要改变开关状态，
则由于它们的动作速度不同，在转换过程中就会在输出端产生瞬时的尖峰脉冲
电压，形成很大的动态转换误差。
为彻底消除动态误差的影响，可以在D/A转换器的输出端附加取样-保
持电路(详见11.3.2节),并将取样时间选在过渡过程结束之后。因为这时输
出电压的尖峰脉冲已经消失，所以取样结果可以完全不受动态转换误差的
影响。
二、D/A转换器的转换速度
通常用建立时间te来定量描述 D/A转换器的转换速度。
I
524 第十一章 数-模和模-数转换
建立时间te是这样定义的：从输入的数字量发生突变开始，直到输出电压进
±2LSB范围以内的这 入与稳态值相差
段时间，称为建立时间tset,如图11.2.20
所示。因为输入数字量的变化越大建立
时间越长，所以一般产品说明中给出的都
是输入从全0跳变为全1(或从全1跳变
Vol 1LSB
—-稳态值
为全0)时的建立时间。目前在不包含运
算放大器的单片集成D/A转换器中，建
立时间最短的可达到0.1μs以内。在包含
运算放大器的集成D/A转换器中，建立
0 t
-tset-
图11.2.20 D/A转换器的建立时间
时间最短的也可达1.5μs以内。
在外加运算放大器组成完整的D/A转换器时，如果采用普通的运算放大
器，则运算放大器的建立时间将成为D/A转换器建立时间te的主要成分。因
此，为了获得较快的转换速度，应该选用转换速率(即输出电压的变化速度)较
快的运算放大器，以缩短运算放大器的建立时间。
复习思考题
R11.2.1 在图11.2.3所示的倒T形电阻网络D/A转换器中，用哪些方法能调节输出
电压vo的最大幅度?
R11.2.2 D/A转换器的电路结构有哪些类型?它们各有何优、缺点?
R11.2.3 D/A转换器转换误差和建立时间是怎样定义的?
R11.2.4 影响D/A转换器转换精度的因素有哪些?
11.3 A/D转换器
11.3.1 A/D转换的基本原理
在A/D转换器中，因为输入的模拟信号在时间上是连续的而输出的数字信
号是离散的，所以转换只能在一系列选定的瞬间对输入的模拟信号取样，然后再
将这些取样值转换成输出的数字量。
11.3 A/D转换器 525
因此，A/D转换的过程是首先对输入的模拟电压信号取样，取样结束后进
入保持时间，在这段时间内将取样的电压量化为数字量，并按一定的编码形式给
出转换结果。然后，再开始下一次取样。
一、取样定理
由图11.3.1可见，为了能正确无误地用取样信号vs表示模拟信号v?,取样
信号必须有足够高的频率。可以证明，为了保证能从取样信号将原来的被取样
信号恢复，必须满足
f.≥2f;(max) (11.3.1)
式中f、为取样频率，fi(max)为输入模拟信号 v?的最高频率分量的频率。式
(11.3.1)就是所谓的取样定理。
在满足式(11.3.1)的条件下，可以用低通滤波器将v.还原为v?。这个低通
滤波器的电压传输系数在低于fi(max)的范围内应保持不变，而在f-fi(max)以前应
迅速下降为0,如图11.3.2所示。
vr
A(f|1
0 t
Vs
0
0
t itcmx) f-ficmx)f
图11.3.1 对输入模拟信号的取样 图11.3.2 还原取样信号所用
滤波器的频率特性
因此，A/D转换器工作时的取样频率必须高于式(11.3.1)所规定的频率。
取样频率提高以后留给每次进行转换的时间也相应地缩短了，这就要求转换电
路必须具备更快的工作速度。因此，不能无限制地提高取样频率，通常取
f =(3~5)·fi(max)已满足要求。
由于转换是在取样结束后的保持时间内完成的，所以转换结果所对应的模
拟电压是每次取样结束时的v?值。
二、量化和编码
正如我们在第一章所指出，数字信号不仅在时间上是离散的，而且数值大小
的变化也是不连续的。这就是说，任何一个数字量的大小只能是某个规定的最
—
526 第十一章 数-模和模一数转换
小数量单位的整数倍。在进行A/D转换时，必须将取样电压表示为这个最小单
位的整数倍。这个转化过程称为量化，所取的最小数量单位称为量化单位，用△
表示。显然，数字信号最低有效位(LSB)的1所代表的数量大小就等于△。
将量化的结果用代码(可以是二进制，也可以是其他进制)表示出来，称为
编码。这些代码就是A/D转换的输出结果。
既然模拟电压是连续的，那么它就不一定能被△整除，因而量化过程不可
避免地会引入误差。这种误差称为量化误差。将模拟电压信号划分为不同的量
化等级时通常有图11.3.3所示的两种方法，它们的量化误差相差较大。
输入 二进制 代表的 输入 二进制 代表的
信号 代码 模拟电压 信号 代码 模拟电压
1V 1V 111 111 7△=7/8(V) 7△=14/15(V)
7/8V 13/15V 6△=6/8(V) 110 110 6△=12/15(V)
11/15V 6/8V 101 101 5△=5/8(V) 5△=10/15(V)
5/8V 9/15V 4△=4/8(V) 100 100 4△=8/15(V)
4/8V 7/15V 011 011 3△=3/8(V) 3△=6/15(V)
3/8V 5/15V 010 010 2△=2/8(V) 2△=4/15(V)
2/8V 3/15V 001 001 1△=1/8(V) 1△=2/15(V)
1/15V 1/8V 000 000 0△=0(V) 0△=0(V) 0
0·
(a) (b)
图11.3.3 划分量化电平的两种方法
例如，要求将0~1V的模拟电压信号转换成3位二进制代码，则最简单的
8 △=8v,并规定凡数值在0~ V之间的模拟电压都当作0·△对 方法是取
8~3v 待，用二进制数000表示；凡数值在 之间的模拟电压都当作1·△对待，
用二进制数001表示，……等等，如图11.3.3(a)所示。不难看出，这种量化方
8v。 法可能带来的最大量化误差可达△,即
为了减小量化误差，通常采用图11.3.3(b)所示的改进方法划分量化电平。
△=1v 在这种划分量化电平的方法中，取量化电平 ,并将输出代码 000 对应的模
11.3 A/D转换器 527
2△,即15 拟电压范围规定为0~15V,即0~-△,这样可以将最大量化误差减小到
V。这个道理不难理解，因为现在将每个输出二进制代码所表示的模拟电压值规
A。 定为它所对应的模拟电压范围的中间值，所以最大量化误差自然不会超过
当输入的模拟电压在正、负范围内变化时，一般要求采用二进制补码的形式
编码，如图11.3.4所示。在这个例子中取△=1V,输出为3位二进制补码，最高
位为符号位。
v?IV
3.5
3.0 011
2.5
2.0 010
1.5
1.0 001
0.5
0
t
000
-0.5
-1.0 111
-1.5
-2.0 110
-2.5
-3.0 101
-3.5
101 111 001 011 011 010011
(-3) (-1) (+1) (+3) (+3) (+2)(+1)
图11.3.4 对双极性模拟电压的量化和编码
复习思考题
R11.3.1 什么是量化误差?有哪些可以减小量化误差的办法?
11.3.2 取样-保持电路
取样一保持电路的基本形式如图11.3.5所示。图中T为N沟道增强型
MOS管，作模拟开关使用。当取样控制信号vL为高电平时T导通，输入信号v?
528 第十一章 数-模和模-数转换
经电阻R,和T向电容CH充电。若取R?=Rp,并忽略运算放大器的输入电流，
则充电结束后vo =Vc=-V?。这里vc为电容CH上的电压。
当v返回低电平以后，MOS管
T截止。由于CH上的电压在一段时
间内基本保持不变，所以v。也保持
不变，取样结果被保存下来。CH的
漏电越小，运算放大器的输入阻抗越
高，v。保持的时间也越长。
RF
W
R T
CH
VI
+
A Vo
然而图11.3.5电路是很不完善
的。由于取样过程中需要输入电压
经R?和T向电容CH充电，这就限制
vL
图11.3.5 取样-保持电路的基本形式
了取样速度。同时，又不能指望通过减小R?的办法提高取样速度，因为这样做
必将降低电路的输入阻抗。因此，降低R?的阻值不是一个好办法。
解决这个矛盾的一种可行方法是在电路的输入端增加一级隔离放大器。图
11.3.6中给出的单片集成取样-保持电路LF398就是这样的一种改进电路。
在图11.3.6(a)所示的电路结构图中，A?、A?是两个运算放大器，S是模拟
开关，L是控制S状态的逻辑单元。vL和VREE是逻辑单元的两个输入电压信号，
当vL>VREF+VTH时S接通，而当vI<VREF+VTH时S断开。VTH称为阈值电压，约
为1.4V。通常使用情况下，将VREF接0电平。
图11.3.6(b)给出了LF398的典型接法。由于图中取VREF=0,而且设vL
为TTL逻辑电平，则vL=1时S接通，vL=0时S断开。
R,
Vos V+V Vos 2j D? 30 kQ
D?
21
Vr 3 A?
十
S A? 5 4
Vo v1 Vo1
3
LF398
VL- VREF
8
D 1B。 N≤
8
7
6
5
Vo
CH
VL-
7 LF398
6
CH (a) (b)
图11.3.6 集成取样-保持电路LF398
(a)电路结构(b)典型接法
当vL=1时电路处于取样工作状态，这时S闭合，A,和A?均工作在单位增
11.3 A/D转换器 529
益的电压跟随器状态，所以有vo=Vor=v?。如果在R?的引出端与地之间接入电
容CH,那么电容电压的稳态值也是v?。
取样结束时v回到低电平，电路进入保持状态。这时S断开，CH上的电压
基本保持不变，因而输出电压v。也得以维持原来的数值。
在图11.3.6(a)电路中还有一个由二极管D?、D?组成的保护电路。在没有
D,和D?的情况下，如果在S再次接通以前v?变化了，则vo?的变化可能很大，以
至于使A,的输出进入饱和状态并使开关电路承受过高的电压。接入D,和D?
以后，当vo?比v。所保持的电压高出一个二极管的压降时，D?将导通，vo被钳位
于v?+VD?。这里的VD?表示二极管D?的正向导通压降。当vo?比 v。低一个二极
管的压降时，D?导通，将vo钳位于v?-VD?。Vp?为D?的正向导通压降。在S接
通的情况下，因为vo≈vo,所以D,和D?都不导通，保护电路不起作用。
取样过程中电容CH上的电压达到稳态值所需要的时间(称为获取时间)和
保持阶段输出电压的下降率△v?/△T是衡量取样-保持电路性能的两个最重要
的指标。在LF398中，采用了双极型与MOS型混合工艺。为了提高电路工作速
度并降低输入失调电压，输入端运算放大器的输入级采用双极型三极管电路。
而在输出端的运算放大器中，输入级使用了场效应三极管，这就有效地提高了放
大器的输入阻抗，减小了保持时间内CH上电荷的损失，使输出电压的下降率达
到10?3(mV/s)以下(当外接电容CH为0.01μF的低漏电电容器时)。
输出电压下降率与外接电容CH电容量的大小和漏电情况有关。CH的电容
量越大、漏电越小，输出电压下降率越低。然而加大CH的电容量会使获取时间
变长，所以在选择CH的电容量大小时应兼顾输出电压下降率和获取时间两方
面的要求。
逻辑输入端(vL)和参考输入端(VREF)都具有较高的输入电阻，可以直接用
TTL电路或CMOS电路驱动。通过失调调整输入端Vos可以调整输出电压的零
点，使v?=0时vo=0。Vos的数值可以用电位器的动端调节，电位器的一个定端
接电源V+,另一个定端通过电阻接地。
11.3.3 并联比较型A/D转换器
并联比较型A/D转换器属于直接A/D转换器，它能将输入的模拟电压直
接转换为输出的数字量而不需要经过中间变量。
图11.3.7为并联比较型A/D转换器电路结构图，它由电压比较器、寄存器
和代码转换电路三部分组成。输入为0~VREF间的模拟电压，输出为3位二进制
数码d?d?d?。这里略去了取样-保持电路，假定输入的模拟电压v?已经是取样
-保持电路的输出电压了。
530 第十一章 数-模和模-数转换
VREF
VI
SR 35 C7
+ ID
C1 FF? SR C?
十 ID
>C1 FF? SR C?
+ 1D
d?(MSB)
R
>C1 FF? (22)
C?
土 1D
SR >C1 FF?
d?
(2)
C?
十 1D
C1 FF?
SR
d?(LSB)
(2°)
C?
+
1D
>C1 FF?
SR C?
土
AWR/2
1D
>C1 FF
寄存器 代码转换器
电压比较器
CLK-
图11.3.7 并联比较型A/D转换器
电压比较器中量化电平的划分采用图11.3.3(b)所示的方式，用电阻链将
15Vnp到13 参考电压VREF分压，得到从 —VRFF之旧7 个比较电平，量化单位为▲=
15RE
1VRPo然后，将这7个比较电平分别接到7个电压比较器C,~C,的输入端，
作为比较基准。同时，将输入的模拟电压同时加到每个比较器的另一个输入端
上，与这7个比较基准进行比较。
若v,<Va,则所有比较器的输出全是低电平，CLK上升沿到来后寄存器
中所有的触发器(FF,~FF?)都被置成0状态。
11.3 A/D转换器 531
若5Vap≤v?<13Vae,则只有C,输出为高电平，CLK上升沿到达后FF,被
置1,其余触发器被置0。
依此类推，便可列出v?为不同电压时寄存器的状态，如表11.3.1所示。不
过寄存器输出的是一组7位的二值代码，还不是所要求的二进制数，因此必须进
行代码转换。
代码转换器是一个组合逻辑电路，根据表11.3.1可以写出代码转换电路输
出与输入间的逻辑函数式
=c (11.3.2)
按照式(11.3.2)即可得到图11.3.7中的代码转换电路。
表11.3.1 图11.3.7电路的代码转换表
输入模拟电压 寄存器状态
(代码转换器输入)
Q? Q? Q? Q? Q? Q?Q?
0 0 0 0 0 0 0
0 0 000
0 00011
0 000111
0 0 1 1 1 1
0 0 1 1 1 1 1
0 1 1
1 1 1 1 1 1 1
01
1 11 1
数字量输出
(代码转换器输出)
v? d? d? d?
0~专)Ynp 0 00
(5~35)VREF 001
(3~5)VaF 0
(5~5)VaF 0
(5~9)VREF 1
5~号)Va 101
号~1号)VREP 110
1~1)VRE 1 1 1
并联比较型A/D转换器的转换精度主要取决于量化电平的划分，分得越细
(亦即△取得越小),精度越高。不过分得越细使用的比较器和触发器数目越
大，电路更加复杂。此外，转换精度还受参考电压的稳定度和分压电阻相对精度
以及电压比较器灵敏度的影响。
这种A/D转换器的最大优点是转换速度快。如果从CLK 信号的上升沿算
起，图11.3.7电路完成一次转换所需要的时间只包括一级触发器的翻转时间和
三级门电路的传输延迟时间。目前，输出为8位的并联比较型A/D转换器转换
532 第十一章 数-模和模-数转换
时间可以达到50ns以下，这是其他类型A/D转换器都无法做到的。
另外，使用图11.3.7这种含有寄存器的A/D转换器时可以不用附加取样
-保持电路，因为比较器和寄存器这两部分也兼有取样-保持功能。这也是图
11.3.7电路的又一个优点。
并联比较型A/D转换器的缺点是需要用很多的电压比较器和触发器。从
图11.3.7电路不难得知，输出为n位二进制代码的转换器中应当有2"-1个电
压比较器和2"-1个触发器。电路的规模随着输出代码位数的增加而急剧膨
胀。如果输出为10位二进制代码，则需要用21?-1=1023个比较器和1023个
触发器以及一个规模相当庞大的代码转换电路。
11.3.4 反馈比较型A/D转换器
反馈比较型A/D转换器也是一种直接A/D转换器。它的构思是这样的：
取一个数字量加到D/A转换器上，于是得到一个对应的输出模拟电压。将这个
模拟电压和输入的模拟电压信号相比较。如果两者不相等，则调整所取的数字
量，直到两个模拟电压相等为止，最后所取的这个数字量就是所求的转换结果。
在反馈比较型A/D转换器中经常采用的有计数型和逐次渐近型两种方案。
图11.3.8是计数型A/D转换器的原理性框图。转换电路由比较器C、D/A
转换器、计数器、脉冲源、控制门G以及输出寄存器等几部分组成。
VI Vo c
vB
G
DAC
(LSB) (MSB)
输出寄存器 (MSB)
(LSB)J并行数字输出
脉冲源 CLK[
UL
图11.3.8 计数型A/D转换器
转换开始前先用复位信号将计数器置零，而且转换控制信号应停留在vL=0
的状态。这时门G被封锁，计数器不工作。计数器加给D/A转换器的是全0数
字信号，所以D/A转换器输出的模拟电压vo=0。如果v?为正电压信号，则v?>
vo,比较器的输出电压vB=1。
当vL变成高电平时开始转换，脉冲源发出的脉冲经过门G加到计数器的时
钟信号输入端CLK,计数器开始做加法计数。随着计数的进行，D/A转换器输
计数器
11.3 A/D转换器 533
出的模拟电压vo也不断增加。当v。增至vo=v?时，比较器的输出电压变成vB
=0,将门G封锁，计数器停止计数。这时计数器中所存的数字就是所求的输出
数字信号。
因为在转换过程中计数器中的数字不停地在变化，所以不宜将计数器的状
态直接作为输出信号。为此，在输出端设置了输出寄存器。在每次转换完成以
后，用转换控制信号v的下降沿将计数器输出的数字置入输出寄存器中，而以
寄存器的状态作为最终的输出信号。
这种方案的明显缺点是转换时间太长。当输出为 n位二进制数码时，最长
的转换时间可达2"-1倍的时钟信号周期。因此，这种方法只能用在对转换速
度要求不高的场合。然而由于它的电路非常简单，所以在对转换速度没有严格
要求时仍是一种可取的方案。
为了提高转换速度，在计数型A/D转换器的基础上又产生了逐次渐近型
A/D转换器。虽然它也是反馈比较型的A/D转换器，但是在D/A转换器部分输
入数字量的给出方式有所改变。
逐次渐近型A/D转换器的工作原理可以用图11.3.9所示的框图来说明。
这种转换器的电路包含比较器C、D/A转换器、寄存器、时钟脉冲源和控制逻辑
等5个组成部分。
vi- vo
模拟输入
C
DAC
(LSB) MSB)
并行数字输出
逐次渐近寄存器
控制逻辑 CLK
UL-
转换控制信号
图11.3.9 逐次渐近型A/D转换器的电路结构框图
转换开始前先将寄存器清零，所以加给D/A转换器的数字量也是全0。转
换控制信号vL变为高电平时开始转换，时钟信号首先将寄存器的最高位置成1,
使寄存器的输出为100…00。这个数字量被D/A转换器转换成相应的模拟电压
vo,并送到比较器与输入信号v?进行比较。如果vo>v?,说明数字过大了，则这
脉冲源
534 第十一章 数-模和模-数转换
个1应去掉；如果vo<v?,说明数字还不够大，这个1应予保留。然后，再按同样
的方法将次高位置1,并比较 v。与v?的大小以确定这一位的1是否应当保留。
这样逐位比较下去，直到最低位比较完为止。这时寄存器里所存的数码就是所
求的输出数字量。
上述的比较过程正如同用天平去称量一个未知重量的物体时所进行的操作
一样，而所使用的砝码一个比一个重量少一半。
下面再结合图11.3.10的逻辑电路具体说明一下逐次比较的过程。这是一
个输出为3位二进制数码的逐次渐近型A/D转换器。图中的C为电压比较器，
当v?≥vo时比较器的输出vB=0;当v?<vo时vg=1。FFA、FFg、FF。三个触发器
组成了3位数码寄存器，触发器FF?~FF?和门电路G?~G,组成控制逻辑电路。
△/2
V?-
模拟输入
Vo 2
+
十
C
DAC
G?
vB 3
(MSB)
G?
dG?
(LSB)
eA 2B 2c
FFA 1sCl1R FFe1sC1R FFc1sC1R
G?
G?
G? G? G?
FF?
1D>C1
Q1 FF?
1D Q? 1D
FF? Q? FF?
C1 >C1
1D
>C1
Q? 1D
FF?
C1
Q?
G? CLK·VL
图11.3.10 3位逐次渐近型 A/D转换器的电路原理图
转换开始前先将FFA、FFg、FFc置零，同时将FF~FF?组成的环形移位寄
存器置成Q.Q?Q?Q?Qs=10000 状态。
转换控制信号vL变成高电平以后，转换开始。第一个CLK 脉冲到达后，
FFA被置1而FFg、FFc被置0。这时寄存器的状态QAQBQc=100加到D/A转
换器的输入端上，并在D/A转换器的输出端得到相应的模拟电压 vo。v。和 v?
11.3 A/D转换器 535
在比较器中比较，其结果不外乎两种：若v?≥vo,则vB=0;若v?<vo,则vB=1。
同时，移位寄存器右移一位，使Q?Q?Q?Q?Q?=01000。
第二个CLK脉冲到达时FFB被置成1。若原来的vB=1,则FFA被置0;若原
来的vs=0,则FFA的1状态保留。同时移位寄存器右移一位，变为00100状态。
第三个CLK脉冲到达时FF。被置1。若原来的vB=1,则 FFg被置0;若原
来的vB=0,则FFB的1状态保留。同时移位寄存器右移一位，变成00010状态。
第四个CLK脉冲到达时，同样根据这时 vB的状态决定FFc的1是否应当保
留。这时FFA、FFg、FFc的状态就是所要的转换结果。同时，移位寄存器右移一
位，变为00001状态。由于Q?=1,于是FFA、FFg、FFc的状态便通过门 G?、G?、G?
送到了输出端。
第五个CLK脉冲到达后，移位寄存器右移一位，使得Q?Q?Q?Q?Q?=10000,返
回初始状态。同时，由于Q?=0,门G?、G,、G8被封锁，转换输出信号随之消失。
为了减小量化误差，令D/A转换器的输出产生-△/2的偏移量。这里的△
表示D/A转换器最低有效位输入1所产生的输出模拟电压大小，它也就是模拟
电压的量化单位。由图11.3.3(b)可知，为使量化误差不大于△/2,在划分量化
电平等级时应使第一个量化电平为△/2,而不是△。现在与v?比较的量化电平
每次由D/A转换器的输出给出，所以应将D/A转换器输出的所有比较电平同
时向负的方向偏移△/2。
从这个例子可以看出，3位输出的A/D转换器完成一次转换需要5个时钟
信号周期的时间。如果是n位输出的A/D转换器，则完成一次转换所需的时间
将为 n+2个时钟信号周期的时间。因此，它的转换速度比并联比较型A/D转
换器低，但比计数型A/D转换器的转换速度要高得多。例如，一个输出为10位
的计数型A/D转换器完成一次转换的最长时间可达(210-1)倍的时钟周期的
时间，而一个输出为10位的逐次渐近型A/D转换器完成一次转换仅需要12个
时钟周期的时间。而且，在输出位数较多时，逐次渐近型A/D转换器的电路规
模要比并联比较型小得多。因此，逐次渐近型A/D转换器是目前集成A/D转
换器产品中用得最多的一种电路。
11.3.5 双积分型A/D转换器
双积分型A/D转换器是一种间接A/D转换器，它首先将输入的模拟电压
信号转换成与之成正比的时间宽度信号，然后在这个时间宽度里对固定频率的
时钟脉冲计数，计数的结果就是正比于输入模拟电压的数字信号。因此，也将这
种A/D转换器称为电压-时间变换型(简称V-T变换型)A/D转换器。
图11.3.11是双积分型A/D转换器的原理性框图，它包含积分器、比较器、
计数器、控制逻辑和时钟信号源几个组成部分。图11.3.12是这个电路的电压
536 第十一章 数-模和模-数转换
波形图。
S?
模拟输入
vI- R C 比较器 MW 一VREF S? A
Vo
+
C
积分器
S? 控制逻辑
VG
S? 计数器
(MSB)
CLK
(LSB) 数字量输出
VL
转换控制
图11.3.11 双积分型A/D转换器的结构框图
下面讨论它的工作过程和这种A/D转换器的特点。
转换开始前(转换控制信号vL=0)先将计数器清零，并接通开关S。,使积分
电容C完全放电。
vL=1时开始转换。转换操作分两步进行：
第一步，令开关S,合到输入信号电压v?一侧，积分器对s?进行固定时间T?
的积分。积分结束时积分器的输出电压为
=—。-d=-Rc"
时钟
脉冲源
(11.3.3)
上式说明，在T?固定的条件下积分器的输出电压v。与输入电压v?成正比。
第二步，令开关S?转接至参考电压(或称为基准电压)-VREF一侧，积分器
向相反方向积分。如果积分器的输出电压上升到零时所经过的积分时间为T?,
则可得 =。R-RC"=0
RcY=RC"
故得到 T?= (11.3.4)
可见，反向积分到vo=0的这段时间T?与输入信号v?成正比。令计数器在T?
11.3 A/D转换器 537
这段时间里对固定频率为f.(fe=
六)的时钟脉冲CLK 计数，则计数结
果也一定与v?成正比，即
Vo
T?- T?
-T?
o
D=六7" (11.3.5) v?=Vi? t? 22 t21 t
上式中的D为表示计数结果的数字量。 Vo?
v?=vi
若取T?为T。的整数倍，即T?=
NT。,则上式可化成
Yoi
CLK
D=, (11.3.6)
从图11.3.12 所示的电压波形
图上可以直观地看到这个结论的正
确性。当v?取为两个不同的数值V
和V?n时，反向积分时间T?和T'2也
不相同，而且时间的长短与v?的大小
成正比。由于CLK 是固定频率的脉
冲，所以在T?和T'2期间送给计数器
的计数脉冲数目也必然与v?成正比。
0 t
vG
(u?=V??)
0l t
VG
(v?=Vi?)
0 t
为了实现对上述双积分过程的 图11.3.12 双积分型A/D转换器的
电压波形图 控制，可以用图11.3.13所示的逻辑
电路来完成。由图可见，控制逻辑电路由一个n位计数器、附加触发器FFA、模
拟开关S。和S,的驱动电路L。和L,、控制门 G所组成。
转换开始前，由于转换控制信号vi=0,因而计数器和附加触发器均被置0,
同时开关S。闭合，使积分电容C充分放电。
当vi=1以后，转换开始，S。断开、S?接到输入信号v?一侧，积分器开始对
v?积分。因为积分过程中积分器的输出为负电压，所以比较器输出为高电平，将
门G打开，计数器对vc端的脉冲计数。
当计数器计满2”个脉冲以后，自动返回全0状态，同时给 FFA一个进位信
号，使FFA置1。于是S?转接到-VREF一侧，开始进行反向积分。待积分器的输
出回到0以后，比较器的输出变为低电平，将门G封锁，至此转换结束。这时计
数器中所存的数字就是转换结果。
因为T?=2"T。,即N=2",故代人式(11.3.6)以后得出
D=2 (11.3.7)
538 第十一章 数-模和模一数转换
So
V? R C
VRer S? A n位计数器
Lo 1·
VG
CLK G
1J
R
>C1 1K
2. 1J>C1
Q?
1KR
1J>C1
1KR
Qn-1.
FFA
L?
1J
>C1
1K
R
2
vL
转换控制
d? d? dn-1
(LSB) (MSB)
数字量输出
图11.3.13 双积分型A/D转换器的控制逻辑电路
双积分型A/D转换器最突出的优点是工作性能比较稳定。由于转换过程中
先后进行了两次积分，而且由式(11.3.4)可知，只要在这两次积分期间R、C的参
数相同，则转换结果与R、C的参数无关。因此，R、C参数的缓慢变化不影响电路
的转换精度，而且也不要求R、C的数值十分精确。此外，式(11.3.6)还说明，在取
T?=NT。的情况下转换结果与时钟信号周期无关。只要每次转换过程中T。不变，
那么时钟周期在长时间里发生缓慢的变化也不会带来转换误差。因此，我们完全
可能用精度比较低的元、器件制成精度很高的双积分型A/D转换器。
双积分型A/D转换器的另一个优点是抗干扰能力比较强。因为转换器的
输入端使用了积分器，所以对平均值为零的各种噪声有很强的抑制能力。在积
分时间等于交流电网电压周期的整数倍时，能有效地抑制来自电网的工频干扰。
双积分型A/D转换器的主要缺点是工作速度低。如果采用图11.3.13所
给出的控制方案，那么每完成一次转换的时间应取在2T,以上，即不应小于
2"+1T。如果再加上转换前的准备时间(积分电容放电及计数器复位所需要的时
间)和输出转换结果的时间，则完成一次转换所需的时间还要长一些。双积分
型 A/D转换器的转换速度一般都在每秒几十次以内。
尽管如此，由于它的优点十分突出，所以在对转换速度要求不高的场合(例
如数字式电压表等)双积分型A/D转换器用得非常广泛。
双积分型A/D转换器的转换精度受计数器的位数、比较器的灵敏度、运算
放大器和比较器的零点漂移、积分电容的漏电、时钟频率的瞬时波动等多种因素
11.3 A/D转换器 539
的影响。因此，为了提高转换精度仅靠增加计数器的位数是远不够的。特别是
运算放大器和比较器的零点漂移对精度影响甚大，必须采取措施予以消除。为
此，在实用的电路中都增加了零点漂移的自动补偿电路。
为防止时钟信号频率在转换过程中发生波动，可以使用石英晶体振荡器作
为脉冲源。同时，还应选择漏电非常小的电容器作为积分电容，并注意减小积分
电容接线端通过底板的漏电流。
现在已有多种单片集成的双积分型 A/D转换器定型产品。只需外接少量
的电阻和电容元件，用这些芯片就能很方便地接成A/D转换器，并且可以直接
驱动LCD或 LED数码管。例如CB7106/7126、CB7107/7127都属于这类器件。
为了能直接驱动数码管，在这些集成电路的输出部分都附加了数据锁存器和译
码、驱动电路。而且，为便于驱动二-十进制译码器，计数器都采用二-十进制
接法。此外，在芯片的模拟信号输入端还都设置了输入缓冲器，以提高电路的输
入阻抗。同时，集成电路内部还设有自动调零电路，以消除比较器和放大器的零
点漂移和失调电压，保证输入为零时输出为零。
11.3.6 V-F变换型A/D转换器
电压-频率变换型A/D转换器(简称V-F变换型A/D转换器)也是一种
间接A/D转换器。在V-F变换型A/D转换器中，首先将输入的模拟电压信号
转换成与之成比例的频率信号，然后在一个固定的时间间隔里对得到的频率信
号计数，所得到的计数结果就是正比于输入模拟电压的数字量。
V-F变换型A/D转换器的电路结构框图可以画成图11.3.14所示的形
式，它由V-F变换器(也称为压控振荡器Voltage Controlled Oscillator,简称
VCO)、计数器及其时钟信号控制闸门、寄存器、单稳态触发器等几部分组成。
vi· V-F Jom 变换器 游弊
G
计數器
Rp
寄存器
(MSB)
(LSB)
CLK 并行数字输出
Vg-
单稳态
触发器
T
图11.3.14 V-F变换型A/D转换器的电路结构框图
转换过程通过闸门信号vG控制。当vc变成高电平后转换开始，V-F变换
器的输出脉冲通过闸门G给计数器计数。由于vc是固定宽度Tc的脉冲信号，
而V-F变换器的输出脉冲的频率fout与输入的模拟电压成正比，所以每个Tc周
540 第十一章 数-模和模-数转换
期期间计数器所记录的脉冲数目也与输入的模拟电压成正比。
为了避免在转换过程中输出的数字跳动，通常在电路的输出端设有输出寄
存器。每当转换结束时，用vG的下降沿将计数器的状态置入寄存器中。同时，
用vG的下降沿触发单稳态触发器，用单稳态触发器的输出脉冲将计数器置零。
因为V-F变换器的输出信号是一种调频信号，而这种调频信号不仅易于
传输和检出，还有很强的抗干扰能力，所以V-F变换型A/D转换器非常适于在
遥测、遥控系统中应用。在需要远距离传送模拟信号并完成A/D转换的情况
下，一般是将V-F变换器设置在信号发送端，而将计数器及其时钟闸门、寄存
器等设置在接收端。
V-F变换型A/D转换器的转换精度首先取决于V-F变换器的精度。其
次，转换精度还受计数器计数容量的影响，计数器容量越大转换误差越小。
V-F变换器的电路结构有多种形式，目前在单片集成的精密V-F变换器
当中多采用电荷平衡式电路结构。电荷平衡式V-F变换器的电路结构又有积
分器型和定时器型两种常见的形式。
图11.3.15 是积分器型电荷平衡式V-F变换器的电路结构框图，它由积分
器、电压比较器、单稳态触发器、恒流源及其控制开关几部分组成。
积分器 Cim
电压 Cos[ Rint 比较器 v?- A
十
Uo
+
C
单稳态
触发器
Vo
(fou)
SW
Io
V-
图11.3.15 积分器型电荷平衡式V-F变换器的电路结构框图
当单稳态触发器处于稳态时，输出电压vo=0,开关SW合到右边，将恒流源
I。接到积分放大器的输出端，积分放大器对输入电压v?做正向积分。随着积分
过程的进行，积分器的输出电压vo?逐渐降低。当vo?降至0时，电压比较器的输
出vo?产生负跳变，将单稳态触发器触发，使之进入暂稳态，vo变成高电平，并使
SW合到左边，将I。转接到积分器的输人端。因为I。大于v?产生的输人电流
Iim,所以积分器开始做反向积分。随着反向积分的进行，vo?逐渐上升。单稳态
触发器返回稳态后，v。回到0,SW又接到右边，积分器又开始做正向积分。
在一个正、反向积分周期期间v?保持不变的情况下，积分电容C在反向积
11.3 A/D转换器 541
分期间增加的电荷量和正向积分期间减少的电荷量必然相等。若以ti表示正
向积分的时间，同时又知道反向积分时间等于单稳态触发器的暂稳态持续时间，
也就是单稳态输出脉冲的宽度tw,这样就可以写出
Iinttint=(I?-Iint)tw
以Iint=v?/Rin代入上式并整理后得到
I?tw=v?(tw+tint)/Rint
这里的(tw+tint)就是单稳态触发器输出脉冲的周期，于是我们就得到了输
出脉冲v。的频率fou与输入电压 v?之间的关系式
fout=(1/I?twRint)vr (11.3.8)
上式说明，单稳态触发器输出脉冲的频率与输入的模拟电压成正比。
根据上述原理制成的单片集成V-F变换器具有很高的精度，输出脉冲的
频率与输入模拟电压之间有良好的线性关系，转换误差可减小至±0.01??内。
图11.3.16中的AD650就是一个积分器型电荷平衡式V-F变换器的实
例。为了提高电路的带负载能力，在单稳态触发器的输出端又增加了一个集电
极开路输出的三极管。电路的其他部分与图11.3.15的原理性电路相同。失调
电压调整端和失调电流调整端用于调整积分放大器的零点，以便于在输入为零
时将输出准确地调整成零(可参看模拟电子技术教材的有关内容)。积分器的
电阻、电容Rin、Cin和单稳态触发器的定时电容Cos需要外接。它的恒流源为I?
=1 mA,单稳态触发器输出脉冲的宽度可近似地用下式计算
1000 pF
vI Rimt
W
3
22kQ
2
失调电流4 调整
失调电压调整
14 13 1 9
Cos: 470pF-
6
比较器
十
单稳态
触发器
积分器
基准
VREF 电压源
I?=1 mA
V- 数字地 模拟地 V+ V-
10 11 12 5
+15V -15V
图11.3.16 AD650的电路结构框图
tw=Cos(6.8×103)+3×10-?/s
8
+15V
S10kQ
Vo
fut
(11.3.9)
542 第十一章 数-模和模-数转换
【例11.3.1】 在图11.3.16所示用AD650接成的V-F变换器电路中，给
定Rin=22 kΩ,Cin=1000 pF,单稳态触发器的定时电容Cos=470 pF,V+=
+15V,V-=-15V。试计算输入电压从0变到10V时输出脉冲频率的变化
范围。
解 首先用式(11.3.9)计算单稳态触发器输出脉冲的宽度，得到
tw =Cos(6.8×103)+3×10-?
=470×10-12×6.8×103+3×10-7
=3.5μs
再利用式(11.3.8)即可求得输出脉冲的频率为
fou=(1/I?twRint)v?
=(1/1×10?3×3.5×10-?×22×103)v?
=13 v?(kHz)
因此，当v?从0变到10V时，fout将从0变到130 kHz。
除了AD公司生产的AD650、AD651 以外，由 Burr - Brown 公司生产的
VFC110、121、320等也属于这一类产品。
另外一种电路结构类型的电荷平衡式V-F变换器称为定时器型电荷平衡
式V-F变换器。下面以LM331为例介绍定时器型V-F变换器的基本原理。
图11.3.17是LM331的电路结构简化框图。电路由两部分组成，一部分是用锁
存器、电压比较器(C?、C?)和放电管T?构成的定时电路，另一部分是用基准电
压源、电压跟随器A和镜像电流源构成的电流源及开关控制电路。
Vcc
8
vr
C:
Rr
VcL
Vcr
Ri今
CT
7
6
5
2R以
R
+
Ci
C?
T?
S
Q
I?
R
e 19 +A
T?
4
图11.3.17 LM331的电路结构框图
镜像
电流源
Io
S
Q=1
Q=0
T?
T?
1
i2
3
Vcc
SRu
Rs
Vo
11.3 A/D转换器 543
如果按照图11.3.17接上外围的电阻、电容元件，就可以构成精度相当高的
压控振荡器。下面具体分析一下它的工作过程。
刚接通电源时C、CT两个电容上没有电压，若输入控制电压v?为大于零的
某个数值，则比较器C,的输出为1而比较器C?的输出为0,锁存器被置成Q=1
状态。Q端的高电平使T?导通，vo=0。同时镜像电流源输出端开关S接到引
脚1一边，电流I。向CL开始充电。而Q'端的低电平使T?截止，所以CT也同时
开始充电。
3Val 当CT上的电压vc,上升到 时，则锁存器被置成Q=0,T?截止，vo =1。
同时开关S转接到地，C开始向R 放电。而Q'变为高电平后使T?导通，CT通
过T?迅速放电至vc≈0,并使比较器 C?的输出为0。
当C放电到vc≤v?时，比较器 C,输出为1,重新将锁存器置成Q=1,于是
v。又跳变成低电平，CL和CT开始充电，重复上面的过程。如此反复，便在v。端
得到矩形输出脉冲。
在电路处于振荡状态下，当C、R的数值足够大时，vc?必然在v?值附近做
微小的波动，可以认为vc≈v?。而且在每个振荡周期中C的充电电荷与放电
电荷必须相等(假定在此期间v?数值未变)。据此就可以计算振荡频率了。
首先计算C的充电时间T?。它等于Q=1的持续时间，也就是电容C,上
3Vccl 的电压从0充电到 的时间，故得
T=R,C
=R┐CTIn3=1.1RTCT (11.3.10)
CL在充电期间获得的电荷为
Q,=(I?-IRL)T?
=(1-R)T
式中的IR?为流过电阻R?上的电流。
若振荡周期为T、放电时间为T?,则T?=T-T?。又知 C?的放电电流为IR
=R,因而放电期间CL释放的电荷为
Q?=IRT?
-R(T-T,)
544 第十一章 数-模和模-数转换
根据Q,与Q?相等，即得到
1。-R)T=R(T-T?)
=R
故电路的振荡周期为
f=÷=LR?T
将I=RE、T?=1.1R?C代入上式而且知道VREF=1.9V,故得到
f=2.09R-CR",(H?) (11.3.11)
可见，f与v?成正比关系。我们将它们之间的比例系数称为电压-频率变
换系数(或V-F变换系数)Ky,即
K=2.09R?G,R (11.3.12)
LM331在输入电压的正常变化范围内输出信号频率和输入电压之间保持
良好的线性关系，转换误差可减小到0.01??输出信号频率的变化范围约为0
~100kHz。
V-F变换型A/D转换器的主要缺点是转换速度比较低。因为每次转换都
需要在TG时间内令计数器计数，而计数脉冲的频率一般不可能很高、计数器的
容量又要求足够大，所以计数时间Tc势必较长，转换速度必然比较慢。
【例11.3.2】在图11.3.17所示的电路中，已知RT=10kΩ,CT=0.01μF,
RL=47kΩ,Rs=10kΩ,Vcc=15V,V'cc=5V。试计算当输入控制电压在0~5V
范围内变化时输出脉冲频率的变化范围。
解：由式(11.3.12)求出电压/频率变换系数为
K=2.09R?C,R
=2.09×10×103×0.01×10?×47×10Hz/V
=1.02×103Hz/V
故v?在0~5V范围变化时输出脉冲频率的变化范围为0~5.1kHz。
【例11.3.3】 在图11.3.14所示的V-F变换型A/D转换器电路中，
11.3 A/D转换器 545
若计数器和寄存器均为十位二进制，V-F变换器与图11.3.16中的电路相
同，要求输入模拟电压为0~5V时输出显示0～21?-1(10位二进制数的
最大值),试计算闸门控制信号Tc应有的宽度以及完成一次转换所需要的
时间。
解 例11.3.1中已经求得图11.3.16所示V-F变换器的输出频率为
fou=13 v,kHz,所以v?=0~5V时fou=0~13×5kHz=0~65 kHz。
若fout=65 kHz时要求计数器计满(21?-1)个脉冲，则Tc的宽度应当等于
(21?-1)个计数脉冲周期之和，即
Tc=(21?-1)(1/fou)
=(21?-1)/(65×103)
=15.7 ms
考虑到计数器置零还需要一定时间，所以完成一次转换的时间略大于
15.7 ms。
复习思考题
R11.3.2 A/D转换器的电路结构有哪些类型?它们各有何优缺点?
11.3.7 A/D转换器的转换精度与转换速度
一、A/D转换器的转换精度
在单片集成的A/D转换器中也采用分辨率(又称分解度)和转换误差来描
述转换精度。
分辨率以输出二进制数或十进制数的位数表示，它说明A/D转换器对输入
信号的分辨能力。从理论上讲，n位二进制数字输出的A/D转换器应能区分输
FSR(满量 入模拟电压的2”个不同等级大小，能区分输入电压的最小差异为
程输入的1/2"),所以分辨率所表示的是A/D转换器在理论上能达到的精度。
例如A/D转换器的输出为10位二进制数，最大输入信号为5V,那么这个转换
器的输出应能区分出输入信号的最小差异为5V/21?=4.88mV。
转换误差通常以输出误差最大值的形式给出，它表示实际输出的数字量和
理论上应有的输出数字量之间的差别，一般多以最低有效位的倍数给出。例如
546 第十一章 数-模和模-数转换
±LSB,这就表明实际输出的数字量和理论上应得到的输出 给出转换误差<
数字量之间的误差小于最低有效位的半个字。
有时也用满量程输出的百分数给出转换误差。例如 A/D转换器的输出为
12 十进制的3 位(即所谓三位半),转换误差为±0.005SR,则满量程输出为
1999,最大输出误差小于最低位的1。
通常单片集成A/D转换器的转换误差已经综合地反映了电路内部各个元、
器件及单元电路偏差对转换精度的影响，所以无需再分别讨论这些因素各自对
转换精度的影响了。
还应指出，手册上给出的转换精度都是在一定的电源电压和环境温度下得
到的数据。如果这些条件改变了，将引起附加的转换误差。例如10位二进制输
出的A/D转换器 AD571在室温(+25℃)和标准电源电压(V+=+5V、V-=
≤±2LSB,而当环境温度从0℃变到70℃时，可能产生 -15V)下转换误差
±1LSB的附加误差。如果正电源电压在+4.5～+5.5V范围内变化，或者负电
源电压在-16～-13.5V范围内变化时，最大的转换误差可达±2LSB。因此，
为获得较高的转换精度，必须保证供电电源有很好的稳定度，并限制环境温度的
变化。对于那些需要外加参考电压的A/D转换器，尤其需要保证参考电压应有
的稳定度。
二、A/D转换器的转换速度
A/D转换器的转换速度主要取决于转换电路的类型，不同类型A/D转换器
的转换速度相差甚为悬殊。
并联比较型A/D转换器的转换速度最快。例如，8位二进制输出的单片集
成A/D转换器转换时间可以缩短至50ns 以内。
逐次渐近型A/D转换器的转换速度次之。多数产品的转换时间都在
10~100μs之间。个别速度较快的8位A/D转换器转换时间可以不超过
1μs。
相比之下间接A/D转换器的转换速度要低得多了。目前使用的双积分型
A/D转换器转换时间多在数十毫秒至数百毫秒之间。
此外，在组成高速A/D转换器时还应将取样-保持电路的获取时间(即取
样信号稳定地建立起来所需要的时间)计入转换时间之内。一般单片集成取样
-保持电路的获取时间在几微秒的数量级，和所选定的保持电容的电容量大小
很有关系。
本 章 小结 547
复习思考题
R11.3.3 在要求A/D转换器的转换时间小于1μs、小于100μs和小于0.1s三种情况
下，应各选择哪种类型的A/D转换器?
本章小结
由于微处理器和微型计算机在各种检测、控制和信号处理系统中的广泛应
用，也促进了A/D、D/A转换技术的迅速发展。而且，随着计算机计算精度和计
算速度的不断提高，对A/D、D/A转换器的转换精度和转换速度也提出了更高的
要求。正是这种要求有力地推动了A/D、D/A转换技术的不断进步。事实上在
许多使用计算机的检测、控制或信号处理系统中，系统所能达到的精度和速度最
终是由A/D、D/A转换器的转换精度和转换速度所决定的。因此，转换精度和
转换速度是A/D、D/A转换器最重要的两个指标，也是我们讨论的重点。
A/D、D/A转换器的种类十分繁杂，不可能逐一列举。因此，首先应着重理解和
掌握A/D、D/A转换的基本思想、共同性的问题以及对它们进行归纳和分类的原则。
在D/A转换器中我们分别介绍了权电阻网络型、权电流型、倒T形电阻网络
型、权电容网络型以及开关树型的D/A转换器。这几种电路在集成D/A转换器
产品中都有应用。目前在双极型的D/A转换器产品中权电流型电路用得比较多；
在CMOS集成D/A转换器中则以倒T形电阻网络和开关树型电路较为常见。
本章中把A/D转换器归纳为直接A/D转换器和间接A/D转换器两大类。
在直接A/D转换器中讲了并联比较型和反馈比较型两种电路。在反馈比较型
中又介绍了计数型和逐次渐近型两种方案。并联比较型A/D转换器是目前所
有A/D转换器中转换速度最快的一种，故又有快闪(Flash)A/D转换器之称。
由于所用的电路规模庞大，所以并联比较型电路只用在超高速的A/D转换器当
中。而逐次渐近型A/D转换器虽然速度不及并联比较型快，但较之其他类型电
路的转换速度又快得多，同时电路规模比并联比较型电路小得多，因此逐次渐近
型电路在集成A/D转换器产品中用得最多。
在间接A/D转换器中，重点介绍了双积分型(属V-T变换型)和V-F变
换型两种电路。虽然双积分型A/D转换器的转换速度很低，但由于它的电路结
构简单，性能稳定可靠，抗干扰能力较强，所以在各种低速系统(例如数字式万
用电表)中得到了广泛的应用。V-F变换型也是一种低速的A/D转换器，由于
调频信号具有很强的抗干扰能力，所以V-F变换型A/D转换器多用在遥测、遥
548 第十一章 数一模和模-数转换
控系统中。
为了得到较高的转换精度，除了选用分辨率较高的A/D、D/A转换器以外，
还必须保证参考电源和供电电源有足够的稳定度，并减小环境温度的变化。否
则，即使选用了高分辨率的芯片，也难于得到应有的转换精度。
[题11.1] 在图11.2.1所示的权电阻网络D/A转换器中，若取VREF=5V,试求当输入
数字量为d?d?d?do=0101时输出电压的大小。
[题11.2] 在图11.2.3给出的倒T形电阻网络D/A转换器中，已知VREF=-8V,试计
算当d?、d?、d?、d。每一位输入代码分别为1时在输出端所产生的模拟电压值。
[题11.3] 在图11.2.5所示的D/A转换电路中，给定VREF=5V,试计算
(1)输入数字量的d,~d。每一位为1时在输出端产生的电压值。
(2)输入为全1、全0和1000000000时对应的输出电压值。
[题11.4] 在图11.2.5由CB7520所组成的D/A转换器中，已知VREE=-10V,试计算
当输入数字量从全0变到全1时输出电压的变化范围。如果想把输出电压的变化范围缩小
一半，可以采取哪些方法?
[题11.5] 图P11.5所示电路是用CB7520和同步十六进制计数器74LS161组成的波
形发生器电路。已知CB7520的VREP=-10V,试画出输出电压v。的波形，并标出波形图上各
点电压的幅度。CB7520的电路结构见图11.2.5,74LS161的功能表与表6.3.4相同。
+10V
-10V- VDD VREF RF
CB7520 lout1
Iout?
d?dgd?d?dsd?d?d?d?do地
A
十
Vo
1- EP Q?Q?Q1QoC
ET 74LS161 LD -1
CLK CLK Rp MINT D?D?D?D?
图P11.5
[题11.6] 图P11.6所示电路是用CB7520组成的双极性输出D/A转换器。CB7520
的电路结构见图11.2.5,其倒T形电阻网络中的电阻R=10kΩ。为了得到±5V的最大输出
i
习题 549
模拟电压，在选定RB=20kΩ的条件下，VREF、VB应各取何值?
+10V VB
SRB
VREF VoD VREF RF
CB7520 Iou1
Iout?
d?dg d?d? dsd?d?d? d?d?地 +
A Vo
数字量输入
图P11.6
[题11.7] 在图P11.7给出的D/A转换器中，试求：
(1)1LSB产生的输出电压增量是多少?
(2)输入为d?～do=1000000000时的输出电压是多少?
(3)若输入以二进制补码给出，则最大的正数和绝对值最大的负数各为多少?它们对应
的输出电压各为多少?
10kQ
10kΩ R
W
R
20 kQ A W
+10V 2R
-8V VDD VREF RF
CB7520 Iout
lou?
d?dgd?d?dsd?d?d? d?d?地
A Vo
数字量输入
图P11.7
[题11.8] 试分析图P11.8电路的工作原理，画出输出电压v。的波形图。CB7520的电
路图见图11.2.5。同步十进制计数器74LS160的功能表见表6.3.4。表P11.8给出了RAM
的16个地址单元中所存的数据。高6位地址A,~A?始终为0,在表中没有列出。RAM的输
出数据只用了低4位，作为CB7520的输人。因RAM的高4位数据没有使用，故表中也未
列出。
550 第十一章 数-模和模-数转换
表P11.8 图P11.8中RAM的数据表
A? A? A? A。 D? D?
0 0 0 0 0 0
0 0 0 1 0 0
0 0 1 0 0 0
0 0 1 1 0 1
0 1 0 0 1 1
0 1 0 1 1 1
0 1 1 0 0 1
0 1 1 1 0 0
1 0 0 0 0 0
1 0 0 1 0 0
1 0 1 0 0 0
1 0 1 1 0 0
1 1 0 0 0 1
1 1 0 1 0 1
1 1 1 0 1 0
1 1 1 1 1 0
+10V
-8V VDD VREF RF
CB7520 Iout
Iout2
d?dgd?d?d?d?d?d?d?d?地
+
A
Voc
Vcc CLK
NN
D?
0
0
1
1
1
1
1
1
0
0
0
1
0
1
0
1
Vo
D?
0
1
1
1
1
1
1
1
1
0
1
1
1
1
1
1
Vcc
I/O? I/O?
R/W' RAM CS
A,AgA?A?AsA?A?A?A?A?
IO,
I/O?I/O?
I/O? I/O?I/O?
EP Q?Q?Q?Qo Ct
ET 74LS160 LD
CLKD?D? D? D? Rp
图P11.8
习题 551
[题11.9] 如果用图P11.8的电路产生图P11.9的输出电压波形，应如何修改
RAM中的数据?请列出修改以后的 RAM数据表，并计算时钟信号CLK 应有的
频率。
vo/V
5
4
3
2
1
0 2 4 6 8 10 12 14 1618 20 t/ms
图P11.9
[题11.10] 设计一个波形发生器电路，要求产生图P11.10所给定的电压波形。
v/V
6
5
4
3
2
1
0
-1 2 4 6 8 10 12 14 16 18 20 22
t/μs
-2
-3
-4
-5
-6
图P11.10
[题11.11] 图P11.11所示电路是用D/A转换器 CB7520和运算放大器构成的增益可
A.= 编程放大器，它的电压放大倍数 由输入的数字量D(d,~d?)来设定。试写出A。的计
算公式，并说明A。的取值范围。
552 第十一章 数-模和模-数转换
Vpp
1j VpD VREF Rp
CB7520 Iout
d?
…
d? Iouo}
A
十
vo
…
(来自寄存器)D(d?…ds)
图P11.11
[题11.12] 图P11.12电路是用D/A转换器CB7520和运算放大器组成的增益可编程
A.="由输人的数字量D(d,~d?)来设定。试写出A,的计算公 放大器，它的电压放大倍数
式，并说明A,取值的范围是多少，
VpD
V? VDD RF VREF
Iout1 CB7520
Iou2 d?
…
do
·Vo
…
(来自寄存器)D(d,…do)
+
A
图P11.12
[题11.13] 在图 P11.13所示的 D/A转换器中，已知输人为8位二进制数码，接在
≤LSB CB7520的高8位输人端上，VREF=10V。为保证VREF偏离标准值所引起的误差 (现
(m)应为多 在的LSB应为d?),允许VREF的最大变化△VREF是多少?VREF的相对稳定度
少?CB7520的电路见图11.2.5。
习题 553
+10V
VRER
(+10V)
VDp VREF Rp
CB7520 Iout!
Iou2
d?dgd? d? d?d?d?d? d?d。地
A
十
Vo
数字量输入
图P11.13
[题11.14] 若将图11.3.7并联比较型A/D转换器输出数字量增加至8位，并采用
图11.3.3(b)所示的量化电平划分方法，试问最大的量化误差是多少?在保证VREF变化时引
(Vnme) 起的误差≤2LSB 应为多少? 的条件下，VREF的相对稳定度
[题11.15] 在图11.3.8给出的计数式A/D转换器中，若输出的数字量为10位二进制
数，时钟信号频率为1MHz,则完成一次转换的最长时间是多少?如果要求转换时间不得大
于100μs,那么时钟信号频率应选多少?
[题11.16] 如果将图11.3.10所示逐次渐近型A/D转换器的输出扩展到10位，取时
钟信号频率为1MHz,试计算完成一次转换操作所需要的时间。
[题11.17] 在图11.3.13所示的双积分型A/D转换器中，若计数器为10位二进制，时
钟信号频率为1MHz,试计算转换器的最大转换时间是多少?
[题11.18] 在图11.3.16所示的A/D转换器电路中，若要求单稳态触发器输出脉冲的
宽度为tw=2.5μs,输人电压为0~5V时，输出脉冲的频率为0～200kHz,电路参数应做何
修改?
[题11.19] 在图11.3.14所示的V-F变换型A/D转换器电路中，如果要求将输
入0~5V的模拟电压转换为3位十进制数字量输出，输入为5V时输出应显示500。闸
门脉冲vc的宽度为5ms。试求V-F变换器输出频率与输入模拟电压之间的转换比例
系数。
[题11.20] 试分析图P11.20(a)电路的工作原理，画出输出电压v。的波形图。其中
74HC151是8选1数据选择器，它的电路结构图和输出逻辑式见图4.3.24和式(4.3.22)。
74LS161为同步十六进制加法计数器，它的功能表与表6.3.4相同。假定74LS161和反相器
G?的输出电阻阻值远远小于R的阻值。74HC151各输入端的电压波形如图P11.20(b)
所示。
554 第十一章 数-模和模-数转换
VI1 VI3 Vis VI7
VIo V12 UI4 VI6
A?D?D?D?D?D?D?D?D?
A? 74HC151
A。 W
R
2RW
4R, W
EP Q? C
ET 74LS161 LD
CLK. Rp
Q,
D?D? D?D?
Q? Q。
W G?
S8R 4R
W
A
4R
W
1
1 MHz 0.05μF
0.05μF
G?
1kQ W
G?
1 kΩ
(a)
VIo
80μs
80 μs
80 μs
80μs
80 μs
80 μs
80us
80 μs
1
0
Vn
0
v121
0
V13|
0
V14
0
V1s|
0
V16
0
V17
o
4R
W
A?
十
O
G?
t
t
t
t
t
t
t
t
Vo
(b)
图 P11.20
附 录
附 录 一
《电气图用图形符号——二进制逻辑单元》
(GB4728.12—85)简介
一、符号的构成
《电气图用图形符号——二进制逻辑单元》(GB4728.12—85)是由国家标
准局颁布的用于绘制二进制逻辑单元电路的符号标准。
该项标准规定，所有二进制逻辑单元的图形符号皆由方框(或方框的组合)
和标注其上的各种限定性符号组成。对方框的长宽比没有限制。限定性符号在
方框上的标注位置应符合图F1中的规定。图中的××表示总限定符号，*表示
与输入、输出有关的限定符号。标注在 总限定符号
的最佳位置 方框外的字母和其他字符不是逻辑单 方框
元符号的组成部分，仅用于对输入端或
输出端的补充说明。
为了节省图形所占的篇幅，除了图
F1所示的方框外，还可以使用公共控
制框和公共输出单元框。图F2(a)中
给出了公共控制框的画法。在图 F2
输入线 ×× 输出线
*
总限定符号
(b)所示的例子中，当a端不加任何限
定符号时，该图表示输入信号a同时加
到每个受控的阵列单元上。(每个阵列
单元的逻辑功能应加注限定符号予以说明。)
的替换位置
图F1
图F3(a)是公共输出单元框的两种画法。在图F3(b)所示的例子中，表示
b、c和a同时加到了公共输出单元框上。(公共输出单元的逻辑功能应另加注
限定符号加以说明。)
556 附 录
a- 公共
控制框 a b b- 受控阵列单元 C- C
d- d-
(a) (b)
图F2
公共输出
单元框
b
阵列单元 -b
-c-d
c
1 -d
公共输出
单元框 a- -e
a-
e
(a) (b)
图F3
二、逻辑约定
因为在二进制逻辑电路中是以高、低电平表示两个不同的逻辑状态的，所以
需要规定高电平(H)、低电平(L)和逻辑状态1、0之间的对应关系，这就是所谓
逻辑约定。
这里首先有内部逻辑状态和外部逻辑状态之分。凡是符号方框内部输入端
和输出端的逻辑状态称为内部逻辑状态，而符号方框外部输入端和输出端的逻
辑状态统称为外部逻辑状态，如图F4 所示。
根据这一标准的规定，可以采用以下两种体系进行逻辑约定。
一种是正逻辑或负逻辑约定，若将输入和输出的高电平定义为逻辑1状态，
将低电平定义为逻辑0状态，称为正逻辑约定。反之，若将输入和输出的高电平
定义为逻辑0状态，将低电平定义为逻辑1状态，则称为负逻辑约定。在这种逻
辑约定下，允许在符号框外的输入端和输出端上使用逻辑非(o)符号。
附录一 557
外部逻辑状态
或逻辑电平
内部逻
辑状态
外部逻辑状态
或逻辑电平
图F4
另一种体系是极性指示符逻辑约定。这种体系规定，当输人端或输出端上
有极性指示符时，外部的逻辑高电平(H)与内部的逻辑0状态对应，外部的逻辑
低电平(L)与内部的逻辑1状态对应。反之，若输入端或输出端上没有极性指
示符，则外部的逻辑高电平与内部的逻辑1状态对应，外部的逻辑低电平与内部
的逻辑0状态对应。极性指示符的画法如图F5所示。
输入端 输出端 输出端 输入端
(信息流从左到右) (信息流从右到左)
图F5
需要特别指出的是，无论采用哪一种约定体系，在符号框内只存在内部逻辑
状态，不存在逻辑电平的概念。而在采用极性指示符约定体系中，方框外只存在
外部逻辑电平(H或L),而不存在外部逻辑状态的概念。在同一张逻辑图中，不
能同时采用两种逻辑约定方法。
三、各种限定性符号
由于所有逻辑单元符号的外形都是方框或方框的组合，所以图形本身已失
去了表示逻辑功能的能力，这就必须加注各种限定性符号来说明逻辑功能。限
定性符号的名目繁多，现分类简单介绍如下。
1.总限定符号
总限定符号用来表示逻辑单元总的逻辑功能。这里所说的逻辑功能是指符
号框内部输入与输出之间的逻辑关系。表F1中列出了若干常用的总限定符号
及其表示的逻辑功能。
558 附 录
表F1 常用的总限定符号
符 号
&
≥1
=1
=
≥m
=m
>n/2
2k
2k+1
1
*I
*◇
∑
P-Q
π
COMP
明 说 符 号
与 MUX
或 DX
异或 X/Y
逻辑恒等(所有输入状态相同
时，输出才为1状态)
I=0
逻辑门槛(只有输入1的数目≥m
时，输出才为1状态) I=1
等于m(只有输入1的数目等于
m时，输出才为1状态) 1几
多数(只有多数输入为1时，输出
才为1状态) 几L
偶数(输入1的数目为偶数时，输
出为1状态)
奇数(输入1的数目为奇数时，输
出为1状态)
缓冲(输出无专门放大) M
缓冲放大/驱动
滞回特性 SRGm
分布连接、点功能、线功能 CTRm
加法运算 CTRDIVm
减法运算 ROM* *
乘法运算 PROM**
数值比较 RAM**
说明
多路选择
多路分配
编码、代码转换
触发器的初始状态为0
触发器的初始状态为1
不可重复触发的单稳态电路
可重复触发的单稳态电路
非稳态电路
同步启动的非稳态电路
完成最后一个脉冲后停止的非稳
态电路
同步启动、完成最后一个脉冲后
停止的非稳态电路
m位的移位寄存
循环长度为2"的计数
循环长度为m的计数
只读存储
可编程只读存储
随机存储
附录一 559
续表
符 号 说 符 号 明
算术逻辑单元 TTL/MOS
先行(超前)进位 ECL/TTL
说明
ALU 由TTL到MOS的电平转换
CPG 由 ECL到TTL的电平转换
*用说明单元逻辑功能的总限定符号代替。
**用存储器的“字数×位数”代替。
2.与输入、输出有关的限定符号
这一类限定符号用来描述某个输入端或输出端的具体功能和特点。常用的
符号和它们的功能见表F2。
表F2 与输入、输出有关的限定符号
符 号 说 符 号 明 说明
逻辑非，示在输入端 <__ 数值比较器的“小于”输人
动态输入(内部1状态与外部从0
到1的转换过程对应，其他时间
内部逻辑状态为0)
=
数值比较器的“等于”输入
带逻辑非的动态输入(内部1
状态与外部从1到0的转换过
程对应，其余时间内部逻辑状态
为0)
Cl 运算单元的进位输入
带极性指示符的动态输入(内
部1状态与外部电平从H到L
的转换过程对应，其余时间内部
逻辑状态为0)
BI 运算单元的借位输入
具有滞回特性的输入/双向门槛
输入 逻辑非，示在输出端
EN 使能输人 延迟输出
R 存储单元的R输人 开路输出(例如开集电极，开发
射极，开漏极，开源极)
560 附 录
续表
符 号 说明 符 号
存储单元的S输入
存储单元的J输入
存储单元的K输入
存储单元的D输入
存储单元的T输入
扩展输入 E
移位输入，从左到右或从顶到底 >
移位输入，从右到左或从底到顶 <
正计数输入(每次本输入内部为
1状态，单元的计数按m为单位
增加一次)
逆计数输入(每次本输人内部为
1状态，单元的计数按m为单位
减少一次)
co
数值比较器的“大于”输入 BO
说明
H型开路输出(输出高电平时
为低输出内阻)
J
L型开路输出(输出低电平时为
低输出内阻)
无源下拉输出(与H型开路输
K 出相似，但不需要附加外部元件
或电路)
无源上拉输出(与L型开路输
D 出相似，但不需要附加外部元件
或电路)
F__ 三态输出
E__ 扩展输出
数值比较器的“大于”输出(*
m 号由相比较的两个操作数代
替)
←m 数值比较器的“小于”输出(*
号的含意同上)
数值比较器的“等于”输出(* +m 号的含意同上)
-m 运算单元的进位输出
运算单元的借位输出
3.内部连接符号
为了缩小图形所占的幅面，可以将相邻单元的方框邻接画出，如图F6所示。
当各邻接单元方框之间的公共线是沿着信息流的方向时，这些单元之间没
有逻辑连接，如图F6(a)所示。如果两个邻接方框的公共线垂直于信息流方向，
则它们之间至少有一种逻辑连接，图F6(b)就属于这种情况。表F3示出了内部
附录一 561
:
…
: :
: :
(a) (b)
图F6
连接的几种常见情况。
表F3 内部连接符号
符 号 明 说 符 号 说明
内部连接(右边单元输入端的
内部逻辑状态与左边单元输出
的内部逻辑状态相对应)
具有动态特性的内部连接
具有逻辑非的内部连接(右
边单元输入端的内部逻辑状
态与左边单元输出的内部逻
辑状态的补状态相对应)
具有逻辑非和动态特性的内
部连接
4.非逻辑连接和信息流指示符号
当逻辑图中出现非逻辑信号(例如A/D转换电路中输入的模拟信号)时，用
信号线上的“×”表示其性质不是逻辑信号。
此外，还规定信息流的方向原则上是从左到右、从上到下。如果不符合这个
规定或信息流方向不明显时，应在信号线上标出指示信息流方向的箭头，如表
F4中所示。
表F4 非逻辑连接和信息流指示符号
符 号 说 明
非逻辑连接，示出在左边
单向信息流
双向信息流
562 附 录
四、关联标注法
如果单纯地使用上面介绍的各种限定符号，有时还不能充分说明逻辑单元
的各输入之间、各输出之间以及各输入与各输出之间的关系。为了解决这个问
题，规定了关联标注法。
关联标注法中采用了“影响的”和“受影响的”两个术语，用以表示信号之间
“影响”和“受影响”的关系。
为了便于理解关联标注法，首先讨论一下图F7中的例子。这是一个有附加
控制端的T触发器。输入信号b是否有效，受到输入信号a的影响。只有a=1时
b端输入的脉冲上升沿才能使触发器翻转，而a=0时b端的输入不起作用。因此，
a和b是两个有关联的输入，a是“影响输入”,b是“受影响输入”。在图F7中用
加在标识符T前面的1表示受 EN1的影响。
a- EN1
1T
a- 1J
b- >C1
b- 1K
图F7
1.关联标注法的规则
(1)用一个表示关联性质的字母和后跟的标识序号来标记“影响输入(或
输出)”。
(2)用与“影响输入(或输出)”相同的标识序号来标记“受影响的输入(或
输出)”。
如果“受影响输入(或输出)”另有其他标记，则应在这个标记前面加上“影
响输入(或输出)”的标识序号。
(3)若一个输入或输出受两个以上“影响输入(或输出)”的影响时，则这些
“影响输入(或输出)”的标记序号均应出现在“受影响输入(或输出)”的标记之
前，并以逗号隔开。
(4)如果是用“影响输入(或输出)"内部逻辑状态的补状态去影响“受影响
输入(或输出)”时，应在“受影响输入(或输出)”的标识序号上加一个横线。
2.关联类型
与关联、或关联和非关联用来注明输入和输出、输入之间、输出之间的逻辑
关系。
互连关联用来表明一个输入或输出把其逻辑状态强加到另一个或多个输入
附录一 563
和/或输出上。
控制关联用来标识时序单元的定时输入或时钟输入，以及表明受它控制的
输入。
置位关联和复位关联用来规定当R输入和S输入处在它们的内部1状态
时，SR 双稳态单元的内部逻辑状态。
使能关联用来标识使能输入及表明由它控制的输入和/或输出(例如哪些
输出呈现高阻状态)。
方式关联用来标识选择单元操作方式的输入，及表明取决于该方式的输入
和/或输出。
地址关联用来标识存储器的地址输入。
表F5中列出了各种关联使用的字母以及关联性质。
表F5 关 联 类 型
关联
类型
“影响输入”对“受影响输入/输出”的影响
字母
“影响输入”为1状态时
A 允许动作(已选地址)
C 允许动作
EN 允许动作
G 允许动作
M 允许动作(已选方式)
N 求补状态
R
“受影响输出”恢复到S=0、R=1时的
状态
S
“受影响输出”恢复到S=1、R=0时的
状态
V 置1状态
Z 置1状态
“影响输入”为0状态时
地址 禁止动作(未选地址)
控制 禁止动作
禁止“受影响输入”动作
使能 置开路和三态输出在外部为高阻
抗状态
置其他输出在0状态
与 置0状态
方式 禁止动作(未选方式)
非 不起作用
复位 不起作用
置位 不起作用
或 允许动作
互连 置0状态
564 附 录
五、常用器件符号例示
10
11
12
HPRI/BIN
Z10 10 ≥1
1/Z11 11
2/Z12 12 18
3/Z13 13
4/Z14 14·
5/Z15 15 α
6/Z16 16
7/Z17 17
0α
ENα/V18 1α
2α
15
13
1
2 14
3
4
5 d
9
7
6
图F8 8线-3线优先编码器
(74LS148)
MUX
7
11 EN
0
10
9
07 G
2
4
0
3
2
1
2
5
1
3
15
14 4
6
13 5
6
12 7
图F10 8选1数据选择器
(74LS151)
1
2
BIN/OCT
0 0
1 1
2 2
3
& 4
EN 6
5
7
15
3
14
13
12
6
11
10
5
4
9
7
图F9 3线-8线译码器
(74LS138)
4
G4 [ODD] 3
G3[EVEN]
8
9
10
11
2k =
4
3
[EVEN]
=
3
4
[ODD]
5
12
13
1
2
6
图F11 8位奇偶校验器/产生器
(74180)
—-
COMP
101213
0
P
15 3
4
3
2 人川人 P>Q| 5
P=Q 6
P<Q 7
9
11
14
0
Q
1 3
图 F12 4位数值比较器
(74LS85)
CTR4
4 EN1 5
M2[DOWN]2(CT=0)Z6 12
M3[UP] 14 3(CT=15)Z6
1,2-/3,4+
G4 13
11 6,4,1
G5[LOAD]
15
1
5D [1] +7 3
[2] 10
2
9
[4] 6
[8] 7
图F14 4位同步二进制加/减计数器
(74LS191)
5
6
7
4
3
2
1
17
16
15
8
10
附录一 565
SRG4
9
10
11 }M号
C4
1→/2 1 R
2
3
1,4D
3,4D
3,4D
3,4D
3,4D
2,4D
15
4 14
5 13
6
7
12
图F13 4位双向移位寄存器
(74LS194)
14
15
1
L
CX
RX/CX
&
R
13
2 4
3
图 F15 可重复触发的
单稳态触发器(74LS123)
PROM 1K×4
0
[0]A▽ 14
A?023 [1]AV 13
[2]A▽
[3]A▽
9)
&
EN
图F16 1K×4 PROM
(INTEL3625)
12
11
!
566 附 录
附 录 二
基本逻辑单元图形符号对照表
基本逻辑单元图形符号对照表
名称 国标符号 IEEE/ANSI符号
& &
1 1
& &
≥1 ≥1
≥1 &≥1 &
=1 =1
1
EN
1
EN
与门
或门
非门
与非门
或非门
与或非门
异或门
同或门
(异或非门)
OC/OD
与非门
三态输出
的非门
其他常见符号
名称 国标符号 IEEE/ANSI符号
& &
I 1
TG TG
∑
CI CO
Z
CICO
S
R
S
R
1S
1R 1R
C1
S
1D
C1
R
S
1D
>C1
R
S
R
S 7
C1
1K
R
1J 1J
C1
1K
1T
C1
1T
C1
1S
C1
1R
1S
C1
1R
带施密特
触发特性
的与非门
CMOS
传输门
全加器
SR
锁存器
电平触发的
SR触发器
带异步置
位、复位端
的上升沿
触发D触
发器
带异步置
位、复位端
的正脉冲
触发JK触
发器
下降沿触
发的T触
发器
负脉冲触
发的SR触
发器
S Q
RQ
S Q
CLK
R Q
1DSQ
CLK
RQ
S 1J
CLK
Q
1KR可
T Q
CLK
Q
S
R
Q
CLK
司
附录二 567
续表
其他常见符号
SQ
RQ
R Q
DSQ
CLK
RQ
Q
CLK
J S
K RQ
T Q
CLK
Q
S
CLK
R Q
部分习题答案
第一章
[题1.1] 用二进制代码最少需要10位，用八进制代码最少用4位，用十六进制代码最
少用3位。
[题1.2](1)13;(3)151。
[题1.3](1)0.5625;(3)0.703125。
[题1.4](1)5.375;(3)15.9375。
[题1.6](1)(10001100)2;(3)(10001111.11111111),
[题1.7](1)(10001)?,(11)16;(3)(1001111)?,(4F)6
[题1.8](1)(0.10000100)?,(0.84)16;(3)(0.00001001)?,(0.09)16。
[题1.10](1)原码、反码和补码均为01011;
(3)原码为11101,反码为10010,补码为10011。
[题1.11](1)反码和补码均为011011;
(3)反码为100100,补码为100101。
[题1.13](1)和为正数，和的补码为01110011;
(4)和为负数，和的补码为10111010,绝对值为1000110。
[题1.14](2)补码取5位有效数字和1位符号位
001101+001011=011000;
(4)补码取4位有效数字和1位符号位
01101+10101=00010。
第二章
[题2.3]Y?=A'B'C'+A'B'C+AB'C'+AB'C+ABC
Y?=A'B'C'D+A'B'CD'+A'BC'D'+A'BCD+AB'C'D'+AB'CD+ABC'D
+ABCD'
[题2.6] Y?=((AB')'(A'B)')'=A+B
Y?=((A田B)+(BC')')'=ABC'
[题2.8] Y的真值表如表 A2.8所示，Y的逻辑式为
Y=ABC'+AB'C+A'BC
部分习题答案 569
[题2.10] (1)Y=A'BC+AB'C+
ABC+A'B'C
表A2.8
C B A Y
(3)Y=AB'C'D'+ 0 0 0 0
AB'C'D+AB'CD' 0 0 1 0
+AB'CD+ABC'D' 0 1 0 0
+ABC'D+ 0 1 1 1
ABCD'+ABCD+ 1 0 0 0
A'BC'D'+A'BC'D 1 0 1 1
1 1 0 1
+A'BCD'+ 1 1 1 0
A'BCD+A'B'CD
[题2.11](1)Y=(A+B+C')(A+B+C)(A'+B'+C')
(4)Y=(A'+B'+C+D')(A'+B'+C+D)(A'+B+C+D')(A'+B+C
+D)(A+B'+C+D)(A+B+C+D)
[题2.14](1)D';(3)AB'+BC;(5)1;(7)C。
[题2.15](1)Y=A+B;(3)Y=1;(5)Y=0;(7)Y=A+CD;(9)Y=BC'+AD'+A'D。
[题2.17](1)Y?=C;(3)A'B+A'C+BC
[题2.18](1)Y=A+D';(3)Y=1;(5)Y=B'+C+D;
(7)Y=AD'+B'C'+B'D'+A'C'D。
[题2.19](1)Y=A'+B'+C'+D;(3)Y=AB+D'+A'C'。
[题2.22](1)Y?=A'+B'C'+BC;(3)Y?=B+A'D+AC。
[题2.23](1)Y?=B'+C';(3)Y?=A'+B'D'。
[题2.25](1)Y=AB'D+A'B'C+CD;(3)Y=AB'+A'C+AD+C'D'。
[题2.26](1)Y'=A'C'+B'C';(3)Y'=B'+C';(5)Y'=AC'D。
[题2.27](1)Y=A'CD'+B'CD';
(3)Y=B'D'E'+ADE+BDE;
(6)Y=A'D'+AB'D+BDE'+CD'E'。
第三章
[题3.3] 与非门、或非门、异或门都可以接成反相器使用。输入端的接法如图A3.3所示。
21· v? vo Vo
vr 与 或 Vo
1
vi Vr vo 异或 Vo 1 0
图 A3.3
[题3.5] 静态功耗Ps=0.01 mW,动态功耗Po=1.1 mW,总功耗PTor =1.11 mW,电
源平均电流Ipp=0.22 mA。
570 部分习题答案
[题3.7](a)Y=(A+B+C)';(c)Y=(AB+CD)'(INH)'。
[题3.9] 0.9 kΩ≤R,≤31.6 kΩ。
[题3.11] V=0V时VBE=-2.2V,三极管能可靠地截止。Vm=5V时，IB=0.25
mA,而Igs=0.32 mA,故IB<Igs,三极管不能饱和，参数配合不当。
为保证VH=5V时三极管饱和导通，可以适当减小R?的阻值或改用β值更大的三极管。
[题3.13](a)Y=AB;(c)Y=(A+B)'。
[题3.14] Y,为低电平；Y?为低电平；Y?为低电平。
[题3.15] Y?为高电平；Y?为低电平。
[题3.16] 门GM能驱动5个同样的与非门。
[题3.18] 若与非门输入端多发射极三极管每个发射结导通时的压降均以0.7V计
算，则得到
(1)vp≈1.4V;(2)vp≈0.2V;(3)vp≈1.4V;(4)vn≈0V;(5)vp≈1.4V。
[题3.21] R,的最大允许值为9.8 k2,R?的最大允许值为0.2 kΩ。
[题3.23] 0.68 kΩ≤RL≤4.29 kΩ。
[题3.25] 根据 v?=0时三极管需要饱和导通的要求，求得R,的最大允许值为4.5
kΩ;根据v?=Vn时三极管应当截止的要求，求得R,的最小允许值为1.1 kΩ。
[题3.27] CMOS或非门输出为低电平时三极管可以截止。但CMOS或非门输出为高
电平时三极管不能饱和导通，因此电路参数的选择不合理。
[题3.29](1)、(4)不行；(2)、(3)、(5)、(6)可以。
第四章
[题4.1] Y=ABC'+AB'C+A'BC+A'B'C'
真值表如表A4.1所示。这是一个三变量的奇偶检测电路，当输入变量中有偶数个1和
全为0时输出为1,否则输出为0。
[题4.3] Y?=ABC+AB'C'+A'BC'+A'B'C
Y?=AB+BC+AC
这是一个全加器电路。(真值表略去。)
[题4.5] 见图A4.5。 A_
C- 表A4.1
Y
1
0
0
1
0
1
1
0
B-
D- A
0
0
0
0
1
1
1
1
B
0
0
1
1
0
0
1
1
C
0
1
0
1
0
1
0
1
Y
图A4.5
部分习题答案 571
[题4.9] 见图A4.9。图中以A'、A?、A3、A4分别表示按下一、二、三、四号病室按钮给出
的低电平信号，以Z?、Z?、Z?、Z?表示一、二、三、四号灯亮的信号。
VDD Y?
Y? Ys Z
Y?
A{ A2
A3
Y?Y?
Y?Y
74HC148 Y?
Y? Z?
Y?
A4 Y? S YEx Z?
Z
图 A4.9
[题4.12] 见图 A4.12。
[题4.16] Z=DC'B'A'+DC'B'A+DCB'A'+DCB'A+D'CBA'+C'BA'。
[题4.18] 见图 A4.18。
A- A? Y? Y? B A? Y,Y?
C- A?
1· 74HC138 S?
分
Y?Y?
Y?
Y?
Y6
Y? -Y?
图A4.12
[题4.23] 见图A4.23。
[题4.25] 见图A4.25。M=0时执行 M a?a?a?a。+b?b?b?b?;M=1时执行a?a?a?ao b?b?b,bo。输出的和为补码形式，S,为输出和 C B· S?S?S?S。的符号位。
[题4.29] 见图A4.29。 A-
[题4.31] 只有加人余3循环码时输
出端不会产生尖峰脉冲。(理由从略。)
C
B
A
1
D?D?D? D?
Ao
A?
Y
Y
图A4.18
1
D?D?D?D?D?D?D?D? Ao
A?
74HC151 s
A? Y
Z
图A4.23
572 部分习题答案
M
b? b? b? b? ao a a2 a3
B?B, B? B?
CI 74LS283
A?A?A? A?
CO
S?
S? S? S? S? —5
图A4.25
BA9a a3· b?-
a2- Y(A<B) b? A最小 74LS85 a1· b? Y(A=B) ao· A。 b?- B?
1 I(A=B)
A=B=C
a?· aB C?·
A? a2· Y(A<B) B? C2 741S85 ar AB C? Y(A=B) A? ao·
B? Co
1- (A-B) Y(A>B) A最大
Y(A>B)
I(A>B)
I(A<B)
I(A>B)
I(A<B)
图 A4.29
[题5.2] 见图A5.2。
[题5.4] 见图A5.4。
SD
0
Rp
0
Q
ol Q'
0
图 A5.2
[题5.6] 见图A5.6。
[题5.8] 见图A5.8。
CLK 4tpd
0
Q
0
e
o
图A5.6
[题5.10] 见图A5.10。
[题5.12] 见图A5.12。
第五章
Sb
0
Rbf
t 0
Q
t 0
Q't
t 0
部分习题答案 573
t
t
t
t
t
t
CLK
0
S
0
R
0
Q
O
Q'
0
图A5.4
图 A5.8
t
t
t
t
t
574 部分习题答案
CLK
0
JA
o
K
0
Q
0
Q
ol
图A5.10
[题5.14] 见图A5.14。
[题5.16] 见图A5.16。
CLK
O
Rbf
B
ol
D?
0
Q
0
Q't
0
t
t
t
t
t
t
t
t
t
-t
t
CLKA
ol Sb
ol
Rpt
ol
J
olK
ol
Q4
ol Q'
ol
CLK
0
T4
0
Q4
0
Q't
0
图 A5.14
图 A5.12
图A5.16
t
t
t
t
t
t
t
t
t
t
t
部分习题答案 575
[题5.19] Q?、Q?的电压波形见图A5.19。
CLK
0 t
A4
o
BI
t
0 t
2?4
0
24
0 t
图A5.19
[题5.21] 见图A5.21。
[题5.23] 见图A5.23。
CLK
0 t
CLK 2?4
0
0
t
t
A Q?1
00 t
0 t
YA
0 t 0 t
图A5.21 图A5.23
[题5.25] 见图A5.25。
[题5.27] 见图A5.27。若CLK 的频率为f,则Q?、Q?、Q?的频率分别为26、4??g?
576 部分习题答案
CLK
0
A
0
Q?
0
图A5.25
[题6.1] 驱动方程为
=8
状态方程为
输出方程为
状态转换图和时序图如图A6.1所示。
CLK
0
Rbf
ol
2?
t 0
Q?
t 0
Q?
t 0
第六章
t
t
t
t
图A5.27
K?=1
K2=1
11
/1
00
/1
/Y
2?Q?
10
/0
01
CLK
ol 2,
0
Q?
0
i=Q
Y=Q?
图A6.1
t
t
t
部分习题答案 577
[题6.3] 驱动方程为
111
yQ?Q?Q)
/1
状态方程为 000 /0 001
/0
010
/1
110)
-cee /1
10
100) /0
011
/1
101)
输出方程为 图A6.3
Y=Q?
状态转换图见图A6.3。电路能自启动。
[题6.5] 驱动方程为
D?=AQi?:)=A(Q,+Q)
状态方程为
oi=AC.+Q.)
输出方程为
Y=AQ?Qi
状态转换图见图A6.5。
1/1
0/0 00 1/0 01 1/0 11 1/0 10
0/0 0/0
:
Q?Q?) A/Y
0/0
图A6.5
[题6.11] 这是一个七进制计数器。
[题6.13] M=1时为六进制计数器，M=0时为八进制计数器。
[题6.15] A=1时为十二进制计数器，A=0时为十进制计数器。
[题6.17] 这是一个七进制计数器。电路的状态转换图如图A6.17所示。其中
Q?Q?Q?Q。的0110、0111、1110、1111这4个状态为过渡状态。
[题6.20] 两片74LS161组成八十三进制计数器。两片之间是十六进制。
578 部分习题答案
0000 /0 0001 /0 0010 /0 0011
/Y
2?Q?2?2,
1111 /1 /0
/1 1011
1001 0100 /1 /1
1010)
1110 /1 /1 /0 10 /1
1000) 0111 /00110 1101 1100
0101 /1
/0
图A6.17
[题6.24] 见表A6.24。
表A6.24
接低电平的输入端 A B C D E F G H
1/9 1/8 1/7 1/6 1/5 1/4 1/3 1/2
1.11 1.25 1.43 1.67 2 2.5 3.33 5
I
f,/fcp 0
f,/kHz 0
[题6.27] 电路的状态转换图见图A6.27。这是一个十五进制计数器，不能自启
动。
1111 0111 0011 0001 1000 0100)
2?2?Q?Q?
0000
1110) 0010)
1101) 1010) 0101 1011 0110 1100 1001)
图 A6.27
[题6.29] 电路可用十进制计数器(74160)和8选1数据选择器(74LS251)组成。见图
A6.29及表A6.29。
CLK
部分习题答案 579
表A6.29 1
CLK顺序 Q? Q? Q? Q。
0 0 0 1
1
0
1U
110
0
00
0
0
111
工 0
1
Z
EP D。D? D?LD D?
0 0 ET 74160
1 0
CLK CLK
Rp
QoQ? Q? Q?C
2 1
3 0
4
——
1
5
6—— —-- 1
0
D?D?D?D?D?D?D?D? A?
7 1
A? 74LS251 S
8
9-」
1
A。 Y Y'
1
Z
图A6.29
[题6.32] 见图A6.32。
1J 1J
C1 2 e 1J 2?
1J Q?
C1 >C1 C1
1K 1K 1K 1K
C
图A6.32
第七章
[题7.1] 19位。
[题7.2] 最大存储量等于232×16=6.87×101(位)。
[题7.4] 见图A7.4。
题7.7] D?=A3A?A?A。+A?A?A,A。+A?A? A'A。+A?A?A,A
D?=A?A?A?A。+A?A?A{A。+A?A?A?A??A?A'A?+A?A?A,A??A?A'A%
D?=A?A?A'A。+A?A?A,Aó+A?A?A'A。+A?A?A'A!
D?=A?A2A'A!+A?A?A,A?
580 部分习题答案
I/O? I/O? IVO?
…
I/O? VO? I/O?
…
4K×8
A?
… R/W' RAM
A CS 11
VO? 4K×8
RAMR/W'
4K×8 RAM
A? A11 CS A?
… R/W' A11 CS A?
Ao-
:
…
A??·
R/W
A?2
A?3
2线-4线
A? Y?
A?
Y
Y?Y?
译码器
图 A7.4
[题7.11] 见表A7.11及图A7.11。
表A7.11
地 址 数据 地 址
A? A? A?Ao D? D? D? D?
(Y? Y? Y?
A? A? A? A。
(A B C D) Y) (A B C D)
0 0 0 0 1 0 0 1 1 0 0 0
0 0 0 0 1 0 0 1
0 1 1 1 1 0 1 0
0 0 0 0 1 0 1 1
0 0 0 0 工 1 0 0
1 0 1 工 1 1 0 工
0 0 0 0 1 1 1 0
0 1 1 1 1 1 1 1
0 1
0 1 0
0 0 1 1
0 1 0 0
0 1 0 1
0 1 1 0
0 1 1 1
A B C D
on(DC"BAA
A? A? A? A?
地 址 译码 器
A
S A
ABCD(W?s) A 长
-D?(Y)
D?(Y?)
D?(Y3)
D?(Y4)
图A7.11
…
D?
(Y
0
0
1
0
0
0
0
1
I/O?
:
I/O?
I/O?
4K×8
RAMR/W'
Ai1CS
数 据
D? D?D?
Y?Y?)
00
11
00
0 0
01
00
0 1
Y?
1
0
0
0
0
1
0
0
[题10.6](1)输出电压vo波形见图A10.6。
(2)不能作单稳态触发器使用，
因为输出脉冲宽度与输入脉冲幅度有关。
[题10.8] 输出脉冲宽度tw=11.3μs。
[题10.10] 输出脉冲宽度tw=2.7μs。
部分习题答案 581
第八章
[题8.1] Y,=A'+B+C+D'
Y?=AB+A'B'+CD'+C'D
Y?=ABCD+A'B'C'D'
[题8.3]Y,=(A'B'+A'C'+A'D'+A'E'+B'C'+B'D'+B'E'+C'D'+C'E'+D'E')'
Y?=ABCD+ACDE+ABCE+ABDE+BCDE
Y?=ABCDE
[题8.7](1)PAL;(2)GAL;(3)EPLD;(4)、(5)在系统可编程的CPLD或FPGA。
第九章
[题9.1] module judge(A,B,C,Result)
input A,B,C;
output Result;
wire T;
or
C·D' P?
A-
B·
P?
B'D' P?
A- P?
C-
图A9.5
图A10.6
OR1(T,B,C);
and
AND1(Result,A,T);
endmodule
[题9.5] 对应的逻辑电路图如图A9.5所示。
第十章
[题10.2] VT+=3.75V;VT-=1.25V;AVT=25V。
v?,=va(1+R+R)- v1 [题10.4]
=vm(1+RR)-R
Av?=(与Vco无关)
VA
0
ol
Vo4
ol
eSeg
VpD
t
t
t
582 部分习题答案
[题10.12] 振荡频率f=7.04 kHz。
[题10.14] 振荡频率f=50 kHz。
[题10.17] 振荡频率f=227 kHz。
[题10.19](1)VT+=8V,VT_=4V,△VT=4V。
(2)VT+=5V,VT-=2.5V,△V,=2.5V。
[题10.22] 振荡频率f=9.47 kHz。
[题10.25] 延迟时间to=11s。振荡频率f=9.66 kHz。
第十一章
[题11.1] vo=-1.5625V。
[题11.3](1)d?~d。每一位的1在输出端产生的电压依次为-2.5V,-1.25 V,
-0.625V,-0.313V,-0.156 V,-78.13mV,-39.06 mV,-19.53 mV,-9.77 mV,-4.88 mV。
[题11.5] 见图A11.5。
[题11.8] 见图A11.8。
vo/V
9.375
7.5
5.0
2.5
0.6250 t
图A11.5
vo/V
Z5V
图A11.8
8
7
6
5
4
3
2
1
0
0.5V t
部分习题答案 583
题11.1l」A,=-D,/2~。A.的取值范围为0~-二
210
[题11.14] I△VREF/VREFI<0.2??
[题11.19] 20 kHz/V。
参考文献
[1] 康华光.电子技术基础：数字部分.4版.北京：高等教育出版社，2000.
[2] 郑家龙.集成电子技术基础教程.北京：高等教育出版社，2002.
[3] Sung-Mo Kang,Yusuf Leblebici.CMOS数字集成电路——分析与设计.
3版.王志功，译.北京：电子工业出版社，2005.
[4] 路而红.专用集成电路设计与电子设计自动化.北京：清华大学出版社，
2004.
[5] 李良荣.现代电子设计技术——基于Multisim 7& Ultiboard 2001.北京：机
械工业出版社，2004.
[6] 黄正瑾.在系统编程技术及其应用.2版.南京：东南大学出版社，1999.
[7] Altera可编程逻辑器件及其应用.刘宝琴，译.北京：清华大学出版社，
1995.
[8] Donald E.Thomas,Philip R.Moorby.硬件描述语言Verilog.4版.刘明业，
译.北京：清华大学出版社，2001.
[9] Michael D. Ciletti. Verilog HDL高级数字设计.张雅绮，译.北京：电子工业
出版社，2005.
[10] 赵保经，蒋建飞.大规模集成数-模和模一数转换器设计原理.北京：科
学出版社，1986.
[11] John F.Wakerly. Digital Design-Principles & Practices.3rd ed. Beijing:
Higher Education Press and Pearson Education North Asia Limited,2001.
[12] Thomas L.Floyd. Digital Fundamentals.7rd ed.Beijing:Scinece Press and
Pearson Education North Asia Limited,2002.
[13] K.“Gopal”Gopalan. Introduction to Digital Microelectronics Circuits. Rich ard D. Irwin,a Times Mirror Higher Education Group,Inc. company,
1996.
[14] M.Morris Mano. Digital Design.3rd ed. Beijing:Pearson Education North
Asia Limited and Higher Education press,2002.
[15] Charles H. Roth,Jr.Fundamentals of Logic Design.5rd ed.Brroks/Cole,
a division of Thomson Learning,2004.
[16] Donald D.Givone.Digital Principles and Design.McGraw-Hill Companies,
参考文 献 585
Inc.,2003.
[17] TTL Logic Data Book. Texas Instruments,1988.
[18] HC/HCT Logic High-Speed CMOS Data Book. Texas Instruments,1997.
[19] AHC/AHCT Advanced High-Speed CMOS Data Book. Texas Instruments,
2000.
[20] ABT Logic Advenced BiCMOS Technology Data Book. Texas Instruments,
1997.
[21] ISPTM Data Book.Lattice Semiconductor Corporation,2000.
[22] IEEE Standard Graphic Symbols for Logic Functions(Including and incorpo ration IEEE Std 91a-1991,Supplement to IEEE Standard Graphic Symbols
for Logic Functions),1996.
名词索引
二画
八进制 octal 3
二进制 binary 3
grated circuit(ASIC)386
无关项 don't care term 52
开关矩阵 switching matrics 428
开关特性 switching characteristic 68
反向恢复时间 reverse recovery time
71
二-十进制 binary - coded decimal
(BCD)13
二极管 diode 68
二极管-三极管逻辑 diode-transistor
logic(DTL)139
十进制 decimal 2
十六进制 hexadecimal 3
三画
与 AND 20
与门 AND gate 66
与非NAND 21
与非门 NAND gate 66
与或非 AND-NOR 21
与或非门 AND-NOR gate 66
门电路 gate circuit 66
三极管 transistor 109
三极管-三极管逻辑 transistor - tran sistor Logic(TTL) 116
三态输出门 three state output gate99
上升时间 rise time 457
下降时间 fall time 457
四画
专用集成电路 application specific inte-
反相器 inverter 80
双列直插式封装 dual-in-line pack age(DIP)412
双极型CMOS bipolar-CMOS(Bi CMOS) 144
双极型三极管 bipolar Junction Tran sistor(BJT) 109
互补对称式MOS
complementary symmetry metal oxide
semiconductor(CMOS)80
互连资源 interconnect resource(IR)
422
比较器 comparator 197
计数器 counter 278
异步计数器 asynchronous counter
278
同步计数器 synchronous counter
278
加/减计数器 up-down counter
284
环形计数器 ring counter 305
分配器 demultiplexer 176
分辨率 resolution 520
五画
电子设计自动化(EDA)
electronic design automation 55
片上系统(SoC)System on Chip
387
布尔代数 Boolean algebra 19
半导体 semiconductor 68
占空比 pulse duration ratio 457
加法器 adder 192
半加器 half adder 192
全加器 full adder 192
串行进位加法器 serial carry adder
193
超前进位加法器 look -ahead carry
adder 194
发光二极管 light emitting diode(LED)
179
发射极 emitter 109
发射极耦合逻辑 emitter coupled logic
(ECL)139
功耗电容
power dissipation capacitance 90
卡诺图 Karnaugh map 42
可编程阵列逻辑 programmable array
logic(PAL)387
可编程连接点 programmable intercon nect point(PIP) 428
可编程逻辑时序器 programmable logic
sequencer(PLS) 390
可编程逻辑模块configurable logic
block(CLB) 422
可编程逻辑器件 programmable logic
device(PLD)386
可擦除的可编程逻辑器件
erasable programmable logic device
(EPLD) 387
名词 索引 587
六画
字 word 357
米利型时序逻辑电路
Mealy type sequential logic circuit
261
地址 address 355
约束 constraint 51
约束条件 constraint condition 52
约束项 constraint term 52
异或 Exclusive-OR 21
异或门 Exclusive-OR gate 66
同或 Exclusive-NOR 21
在系统可编程 in system programmable
(isp)387
回差 backlash 459
压控振荡器 voltage controlled oscillator
(VCO)539
多谐振荡器 astable multivibrator
477
存储器 memory 355
只读存储器 read - only memory
(ROM) 356
可编程只读存储器
programmable read - only memory
(PROM)356
可擦除的可编程只读存储器
erasable programmable read - only
memory(EPROM)356
电可擦除的可编程只读存储器
electrically erasable programmable
read-only memory(E2PROM)
360
掩模只读存储器 masked read only memory 356
快闪存储器 flash memory 364
随机存储器 random access memory
(RAM) 356
——
588 名词索引
动态随机存储器 dynamic random
access memory(DRAM) 356
静态随机存储器 static random ac cess memory(SRAM) 356
传输门 transmission gate 96
传输延迟时间 propagation delay time
87
七画
位 bit 357
进位 carry 192
时序(波形)图 timing diagram 31
时序逻辑电路 sequential logic circuit
260
补码 complement 9
时钟(CLK)clock 219
状态机(SM) state machine 261
状态机流程图(SM图) state machine
flowchart 267
译码器 decoder 174
二进制译码器 binary decoder
174
二-十进制译码器 binary-coded
decimal decoder 178
肖特基势垒二极管 Schottky barrier di ode(SBD)136
状态(转换)表 state table 263
状态(转换)图 state diagram 265
沟道 channel 74
八画
或 OR 20
或门 OR gate 66
或非 NOR 21
或非门NOR gate 66
非 NOT 20
非门 NOT gate 66
放大器 amplifier 507
运算放大器 operational amplifier
507
建立时间 set-up time 244,523
现场可编程门阵列 field programmable
gate array(FPGA)387
现场可编程逻辑阵列 field programma ble logic array(FPLA) 388
组合逻辑电路 combinational logic cir cuit 160
延迟-功耗积 delay-power product
135
波形图 waveform 33
环形振荡器 ring multivibrator 483
定时器 timer 489
表面安装技术(SMT)
surface mounting technology 412
取样-保持 sample-hold 527
金属-氧化物-半导体场效应管(MOS管)
metal -oxide - semiconductor field -
effect transistor(MOSFET)73
N沟道增强型 MOS 管 n-channal
enhancement MOSFET 74
P沟道增强型MOS管 p-channal
enhancement MOSFET 77
N沟道耗尽型MOS 管 n-channal
depletion MOSFET 78
P沟道耗尽型MOS 管 p-channal
depletion MOSFET 78
奇偶校验/发生器 odd- even check/
generator 167
函数发生器 function generator 167
图腾柱 totem-pole117
单稳态触发器
monostable multivibrator 或 one shot 466
九画
显示器 display 179
字符显示器 character mode display
179
七段字符显示器 seven - segment
character mode display 179
复位 reset 217
复杂的可编程逻辑器件 complex pro grammable logic device(CPLD)387
栅极 gate 73
总线 bus 100
保持时间 hold time 244
恢复时间 recovery time 468
施密特触发器 Schmitt trigger 457
十画
通用阵列逻辑 generic array logic
(GAL)387
通用逻辑模 块 generic logic block
(GLB) 417
通用数字开关 generic digital switch
(GDS)434
扇出 fan-out 146
竞争-冒险 race-hazard 201
借位 borrow 286
浮栅隧道氧化层MOS管
floating -gate tunnel oxide MOSFET
(Flotox)362
真值表 truth table 21
高阈值逻 辑high threshold logic
(HTL)139
格雷码 gray code 14
十 一 画
寄存器 register 272
移位寄存器 shift register 273
基极 base 109
推拉式输出 push-pull output 117
阈值电压 threshold voltage 81
液晶显示器 liquid crystal display
名词索引 589
(LCD)179
逻辑 logic 19
逻辑代数 logic algebra 19
逻辑运算 logic opration 19
逻辑图 logic diagram 30
逻辑函数 logic function 29
十 二 画
最小项 minterm 35
最大项 maxterm 36
量化 quantization 525
量化误差 quantization error 526
紫外线擦除的可编程ROM
ultraviolat erasable programmable ROM
(UVPROM) 360
集电极 collector 109
集电极开路门电路 open collector
gate(OC门)131
集成电路 integrated circuits(IC) 68
小规模集成 small scale integration
(SSI)68
中规模集成 medium scale integration
(MSI)68
大规模集成 large scale integration
(LSI) 68
超大规模集成 very large scale inte-
68 gration(VLSI)
集成注入逻辑 integrated injaction logic
(I2L)139
硬件描述语言(HDL) hardware de scription language 444
编码 encode 168
编码器 encoder 168
优先编码器 priority encoder 169
锁存器 latch 216
锁定效应 latch-up 102
最低有效位(LSB) least Significant Bit
507
590 名词索引
最高有效位(MSB)Most Significant Bit
507
十 三 画
输入/输出模 块 input/output block
(IOB)422
输出逻辑宏单元 output logic macro
cell(OLMC) 402
输出缓冲器 output buffer 387
触发器 flip-flop 215
主从触发器 master-slave flip-flop
224
边沿触发器 edge- triggered flip flop 230
置位 set 217
源极 source 73
叠栅注入MOS管 stacked -gate injec tion MOSFET(SIMOS) 361
数字电路 digital circuits1
数码管 nixie light 179
数值比较器 digital comparator 197
数据选择器/多路调制器 data selec tor/multiplexer 188
数-模转换 digital to analog conversion
506
数-模转换器 digital to analog convert er(DAC) 506
权电阻数-模转换器 weighted re sistance DAC 507
权电容数-模转换器 weighted ca pacitive DAC 516
权电流(电流输出)数-模转换器
current-output DAC 512
开关树型数-模转换器 switch tree
type DAC 515
倒T形电阻网络数-模转换器 in verted T type DAC 510
十 四 画
漏极 drain 73
漏极开路门电路 open drain gate(OD
门)94
模拟电路 analog circuits 1
算法状态机(ASM) algorithmic state
machine 261
模-数转换 analog to digital conversion
506
模-数转换器 analog to digital convert er(ADC)506
并联比较型模一数转换器 parallel
-comparator ADC 529
逐次渐近型模-数转换器 succes sive approximation ADC 533
双积分型模-数转换器 dual-slope
ADC 535
十 五画
摩根定理 De Morgan's theorem 24
十 六 画
噪声容限 noise margin 82
穆尔型时序电路 Moore type sequential
logic circuit 261